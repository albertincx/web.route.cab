const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostDetail-BOfpna58.js","assets/index-CbwVGQ7o.js","assets/index-DbVqm2XN.css","assets/PostDetail--j4rfmDn.css"])))=>i.map(i=>d[i]);
var ys=Object.defineProperty;var tn=n=>{throw TypeError(n)};var bs=(n,e,t)=>e in n?ys(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var nn=(n,e,t)=>bs(n,typeof e!="symbol"?e+"":e,t),Pt=(n,e,t)=>e.has(n)||tn("Cannot "+t);var f=(n,e,t)=>(Pt(n,e,"read from private field"),t?t.call(n):e.get(n)),N=(n,e,t)=>e.has(n)?tn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),L=(n,e,t,i)=>(Pt(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),_=(n,e,t)=>(Pt(n,e,"access private method"),t);var dt=(n,e,t,i)=>({set _(r){L(n,e,r,t)},get _(){return f(n,e,i)}});import{r as T,p as zn,j as x,f as qt,R as xs,y as ws,a as Wn,b as D,D as sn,_ as Ss,u as Cs,L as Os}from"./index-CbwVGQ7o.js";function Ms(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const rn={};function kt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&rn[e[0]]||(typeof e[0]=="string"&&(rn[e[0]]=new Date),Ms(...e))}const Kn=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function an(n,e,t){n.loadNamespaces(e,Kn(n,t))}function on(n,e,t,i){typeof t=="string"&&(t=[t]),t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,Kn(n,i))}function Ps(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],r=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(u,h)=>{const c=e.services.backendConnector.state[`${u}|${h}`];return c===-1||c===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(i,n)&&(!r||o(a,n)))}function Rs(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(kt("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,n))return!1}}):Ps(n,e,t)}const Es=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ls={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Ts=n=>Ls[n],Ns=n=>n.replace(Es,Ts);let _t={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Ns};function ks(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_t={..._t,...n}}function _s(){return _t}let Zn;function js(n){Zn=n}function As(){return Zn}const Fs={type:"3rdParty",init(n){ks(n.options.react),js(n)}},Ds=T.createContext();class Is{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const $s=(n,e)=>{const t=T.useRef();return T.useEffect(()=>{t.current=n},[n,e]),t.current};function Qn(n,e,t,i){return n.getFixedT(e,t,i)}function Us(n,e,t,i){return T.useCallback(Qn(n,e,t,i),[n,e,t,i])}function Yt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:i,defaultNS:r}=T.useContext(Ds)||{},a=t||i||As();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Is),!a){kt("You will need to pass in an i18next instance by using initReactI18next");const w=(E,M)=>typeof M=="string"?M:M&&typeof M=="object"&&typeof M.defaultValue=="string"?M.defaultValue:Array.isArray(E)?E[E.length-1]:E,C=[w,{},!1];return C.t=w,C.i18n={},C.ready=!1,C}a.options.react&&a.options.react.wait!==void 0&&kt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={..._s(),...a.options.react,...e},{useSuspense:u,keyPrefix:h}=o;let c=r||a.options&&a.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(c);const g=(a.isInitialized||a.initializedStoreOnce)&&c.every(w=>Rs(w,a,o)),m=Us(a,e.lng||null,o.nsMode==="fallback"?c:c[0],h),s=()=>m,l=()=>Qn(a,e.lng||null,o.nsMode==="fallback"?c:c[0],h),[d,p]=T.useState(s);let v=c.join();e.lng&&(v=`${e.lng}${v}`);const y=$s(v),b=T.useRef(!0);T.useEffect(()=>{const{bindI18n:w,bindI18nStore:C}=o;b.current=!0,!g&&!u&&(e.lng?on(a,e.lng,c,()=>{b.current&&p(l)}):an(a,c,()=>{b.current&&p(l)})),g&&y&&y!==v&&b.current&&p(l);function E(){b.current&&p(l)}return w&&a&&a.on(w,E),C&&a&&a.store.on(C,E),()=>{b.current=!1,w&&a&&w.split(" ").forEach(M=>a.off(M,E)),C&&a&&C.split(" ").forEach(M=>a.store.off(M,E))}},[a,v]),T.useEffect(()=>{b.current&&g&&p(s)},[a,h,g]);const S=[d,a,g];if(S.t=d,S.i18n=a,S.ready=g,g||!g&&!u)return S;throw new Promise(w=>{e.lng?on(a,e.lng,c,()=>w()):an(a,c,()=>w())})}const zs={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class bt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||zs,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new bt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bt(this.logger,e)}}var ie=new bt;class Ot{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[u,h]=o;for(let c=0;c<h;c++)u(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[u,h]=o;for(let c=0;c<h;c++)u.apply(u,[e,...i])})}}function Xe(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function un(n){return n==null?"":""+n}function Ws(n,e,t){n.forEach(i=>{e[i]&&(t[i]=e[i])})}const Ks=/###/g;function st(n,e,t){function i(u){return u&&u.indexOf("###")>-1?u.replace(Ks,"."):u}function r(){return!n||typeof n=="string"}const a=typeof e!="string"?e:e.split(".");let o=0;for(;o<a.length-1;){if(r())return{};const u=i(a[o]);!n[u]&&t&&(n[u]=new t),Object.prototype.hasOwnProperty.call(n,u)?n=n[u]:n={},++o}return r()?{}:{obj:n,k:i(a[o])}}function ln(n,e,t){const{obj:i,k:r}=st(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let a=e[e.length-1],o=e.slice(0,e.length-1),u=st(n,o,Object);for(;u.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),u=st(n,o,Object),u&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t}function Zs(n,e,t,i){const{obj:r,k:a}=st(n,e,Object);r[a]=r[a]||[],r[a].push(t)}function xt(n,e){const{obj:t,k:i}=st(n,e);if(t)return t[i]}function Qs(n,e,t){const i=xt(n,t);return i!==void 0?i:xt(e,t)}function Bn(n,e,t){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?t&&(n[i]=e[i]):Bn(n[i],e[i],t):n[i]=e[i]);return n}function _e(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Bs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Hs(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>Bs[e]):n}class Vs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const qs=[" ",",","?","!",";"],Ys=new Vs(20);function Js(n,e,t){e=e||"",t=t||"";const i=qs.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const r=Ys.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(n);if(!a){const o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(a=!0)}return a}function jt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const i=e.split(t);let r=n;for(let a=0;a<i.length;){if(!r||typeof r!="object")return;let o,u="";for(let h=a;h<i.length;++h)if(h!==a&&(u+=t),u+=i[h],o=r[u],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&h<i.length-1)continue;a+=h-a+1;break}r=o}return r}function wt(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class hn extends Ot{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],i&&(Array.isArray(i)?u.push(...i):typeof i=="string"&&a?u.push(...i.split(a)):u.push(i)));const h=xt(this.data,u);return!h&&!t&&!i&&e.indexOf(".")>-1&&(e=u[0],t=u[1],i=u.slice(2).join(".")),h||!o||typeof i!="string"?h:jt(this.data&&this.data[e]&&this.data[e][t],i,a)}addResource(e,t,i,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];i&&(u=u.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(u=e.split("."),r=t,t=u[1]),this.addNamespaces(t),ln(this.data,u,r),a.silent||this.emit("added",e,t,i,r)}addResources(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in i)(typeof i[a]=="string"||Array.isArray(i[a]))&&this.addResource(e,t,a,i[a],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),r=i,i=t,t=u[1]),this.addNamespaces(t);let h=xt(this.data,u)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?Bn(h,i,a):h={...h,...i},ln(this.data,u,h),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var Hn={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,i,r))}),e}};const cn={};class St extends Ot{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ws(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Js(e,i,r);if(o&&!u){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:a};const c=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(r)}return typeof a=="string"&&(a=[a]),{key:e,namespaces:a}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],t),h=u[u.length-1],c=t.lng||this.language,g=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(g){const w=t.nsSeparator||this.options.nsSeparator;return r?{res:`${h}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:`${h}${w}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:h,usedParams:this.getUsedParamsDetails(t)}:o}const m=this.resolve(e,t);let s=m&&m.res;const l=m&&m.usedKey||o,d=m&&m.exactUsedKey||o,p=Object.prototype.toString.apply(s),v=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&s&&(typeof s!="string"&&typeof s!="boolean"&&typeof s!="number")&&v.indexOf(p)<0&&!(typeof y=="string"&&Array.isArray(s))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(l,s,{...t,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(m.res=w,m.usedParams=this.getUsedParamsDetails(t),m):w}if(a){const w=Array.isArray(s),C=w?[]:{},E=w?d:l;for(const M in s)if(Object.prototype.hasOwnProperty.call(s,M)){const O=`${E}${a}${M}`;C[M]=this.translate(O,{...t,joinArrays:!1,ns:u}),C[M]===O&&(C[M]=s[M])}s=C}}else if(b&&typeof y=="string"&&Array.isArray(s))s=s.join(y),s&&(s=this.extendTranslation(s,e,t,i));else{let w=!1,C=!1;const E=t.count!==void 0&&typeof t.count!="string",M=St.hasDefaultValue(t),O=E?this.pluralResolver.getSuffix(c,t.count,t):"",k=t.ordinal&&E?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",A=E&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),$=A&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${O}`]||t[`defaultValue${k}`]||t.defaultValue;!this.isValidLookup(s)&&M&&(w=!0,s=$),this.isValidLookup(s)||(C=!0,s=o);const Ge=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:s,ve=M&&$!==s&&this.options.updateMissing;if(C||w||ve){if(this.logger.log(ve?"updateKey":"missingKey",c,h,o,ve?$:s),a){const U=this.resolve(o,{...t,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Te&&Te[0])for(let U=0;U<Te.length;U++)ye.push(Te[U]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(t.lng||this.language):ye.push(t.lng||this.language);const re=(U,ae,be)=>{const ft=M&&be!==s?be:Ge;this.options.missingKeyHandler?this.options.missingKeyHandler(U,h,ae,ft,ve,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,h,ae,ft,ve,t),this.emit("missingKey",U,h,ae,s)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?ye.forEach(U=>{const ae=this.pluralResolver.getSuffixes(U,t);A&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(be=>{re([U],o+be,t[`defaultValue${be}`]||$)})}):re(ye,o,$))}s=this.extendTranslation(s,e,t,m,i),C&&s===o&&this.options.appendNamespaceToMissingKey&&(s=`${h}:${o}`),(C||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?s=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}:${o}`:o,w?s:void 0):s=this.options.parseMissingKeyHandler(s))}return r?(m.res=s,m.usedParams=this.getUsedParamsDetails(t),m):s}extendTranslation(e,t,i,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(c){const s=e.match(this.interpolator.nestingRegexp);g=s&&s.length}let m=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,i.lng||this.language,i),c){const s=e.match(this.interpolator.nestingRegexp),l=s&&s.length;g<l&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(i.lng=r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return a&&a[0]===l[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${t[0]}`),null):o.translate(...l,t)},i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,h=typeof u=="string"?[u]:u;return e!=null&&h&&h.length&&i.applyPostProcessor!==!1&&(e=Hn.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,r,a,o,u;return typeof e=="string"&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(h,t),g=c.key;r=g;let m=c.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const s=t.count!==void 0&&typeof t.count!="string",l=s&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),d=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",p=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);m.forEach(v=>{this.isValidLookup(i)||(u=v,!cn[`${p[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(cn[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(y=>{if(this.isValidLookup(i))return;o=y;const b=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,g,y,v,t);else{let w;s&&(w=this.pluralResolver.getSuffix(y,t.count,t));const C=`${this.options.pluralSeparator}zero`,E=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(s&&(b.push(g+w),t.ordinal&&w.indexOf(E)===0&&b.push(g+w.replace(E,this.options.pluralSeparator)),l&&b.push(g+C)),d){const M=`${g}${this.options.contextSeparator}${t.context}`;b.push(M),s&&(b.push(M+w),t.ordinal&&w.indexOf(E)===0&&b.push(M+w.replace(E,this.options.pluralSeparator)),l&&b.push(M+C))}}let S;for(;S=b.pop();)this.isValidLookup(i)||(a=S,i=this.getResource(y,v,S,t))}))})}),{res:i,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const a of t)delete r[a]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}function Rt(n){return n.charAt(0).toUpperCase()+n.slice(1)}class fn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ie.create("languageUtils")}getScriptPartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(r=>r.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Rt(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Rt(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=Rt(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getLanguagePartFromCode(i);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(a=>{if(a===r)return a;if(!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):typeof e=="string"&&a(this.formatLanguageCode(e)),i.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}let Gs=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xs={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const ei=["v1","v2","v3"],ti=["v4"],dn={zero:0,one:1,two:2,few:3,many:4,other:5};function ni(){const n={};return Gs.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:Xs[e.fc]}})}),n}class si{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ie.create("pluralResolver"),(!this.options.compatibilityJSON||ti.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ni()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(wt(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((r,a)=>dn[r]-dn[a]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):i.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!ei.includes(this.options.compatibilityJSON)}}function gn(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Qs(n,e,t);return!a&&r&&typeof t=="string"&&(a=jt(n,t,i),a===void 0&&(a=jt(e,t,i))),a}class ii{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:u,suffixEscaped:h,formatSeparator:c,unescapeSuffix:g,unescapePrefix:m,nestingPrefix:s,nestingPrefixEscaped:l,nestingSuffix:d,nestingSuffixEscaped:p,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:Hs,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?_e(a):o||"{{",this.suffix=u?_e(u):h||"}}",this.formatSeparator=c||",",this.unescapePrefix=g?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=s?_e(s):l||_e("$t("),this.nestingSuffix=d?_e(d):p||_e(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t&&t.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let a,o,u;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(d){return d.replace(/\$/g,"$$$$")}const g=d=>{if(d.indexOf(this.formatSeparator)<0){const b=gn(t,h,d,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,i,{...r,...t,interpolationkey:d}):b}const p=d.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(gn(t,h,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,i,{...r,...t,interpolationkey:v})};this.resetRegExp();const m=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,s=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:d=>c(d)},{regex:this.regexp,safeValue:d=>this.escapeValue?c(this.escape(d)):c(d)}].forEach(d=>{for(u=0;a=d.regex.exec(e);){const p=a[1].trim();if(o=g(p),o===void 0)if(typeof m=="function"){const y=m(e,a,r);o=typeof y=="string"?y:""}else if(r&&Object.prototype.hasOwnProperty.call(r,p))o="";else if(s){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=un(o));const v=d.safeValue(o);if(e=e.replace(a[0],v),s?(d.regex.lastIndex+=o.length,d.regex.lastIndex-=a[0].length):d.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a,o;function u(h,c){const g=this.nestingOptionsSeparator;if(h.indexOf(g)<0)return h;const m=h.split(new RegExp(`${g}[ ]*{`));let s=`{${m[1]}`;h=m[0],s=this.interpolate(s,o);const l=s.match(/'/g),d=s.match(/"/g);(l&&l.length%2===0&&!d||d.length%2!==0)&&(s=s.replace(/'/g,'"'));try{o=JSON.parse(s),c&&(o={...c,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,p),`${h}${g}${s}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,h}for(;r=this.nestingRegexp.exec(e);){let h=[];o={...i},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const g=r[1].split(this.formatSeparator).map(m=>m.trim());r[1]=g.shift(),h=g,c=!0}if(a=t(u.call(this,r[1].trim(),o),o),a&&r[0]===e&&typeof a!="string")return a;typeof a!="string"&&(a=un(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),c&&(a=h.reduce((g,m)=>this.format(g,m,i.lng,{...i,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}function ri(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(o){const[u,...h]=o.split(":"),c=h.join(":").trim().replace(/^'+|'+$/g,""),g=u.trim();t[g]||(t[g]=c),c==="false"&&(t[g]=!1),c==="true"&&(t[g]=!0),isNaN(c)||(t[g]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}}function je(n){const e={};return function(i,r,a){const o=r+JSON.stringify(a);let u=e[o];return u||(u=n(wt(r),a),e[o]=u),u(i)}}class ai{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("formatter"),this.options=e,this.formats={number:je((t,i)=>{const r=new Intl.NumberFormat(t,{...i});return a=>r.format(a)}),currency:je((t,i)=>{const r=new Intl.NumberFormat(t,{...i,style:"currency"});return a=>r.format(a)}),datetime:je((t,i)=>{const r=new Intl.DateTimeFormat(t,{...i});return a=>r.format(a)}),relativetime:je((t,i)=>{const r=new Intl.RelativeTimeFormat(t,{...i});return a=>r.format(a,i.range||"day")}),list:je((t,i)=>{const r=new Intl.ListFormat(t,{...i});return a=>r.format(a)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=je(t)}format(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((u,h)=>{const{formatName:c,formatOptions:g}=ri(h);if(this.formats[c]){let m=u;try{const s=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=s.locale||s.lng||r.locale||r.lng||i;m=this.formats[c](u,l,{...g,...r,...s})}catch(s){this.logger.warn(s)}return m}else this.logger.warn(`there was no format function for ${c}`);return u},e)}}function oi(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class ui extends Ot{constructor(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(e,t,i,r){const a={},o={},u={},h={};return e.forEach(c=>{let g=!0;t.forEach(m=>{const s=`${c}|${m}`;!i.reload&&this.store.hasResourceBundle(c,m)?this.state[s]=2:this.state[s]<0||(this.state[s]===1?o[s]===void 0&&(o[s]=!0):(this.state[s]=1,g=!1,o[s]===void 0&&(o[s]=!0),a[s]===void 0&&(a[s]=!0),h[m]===void 0&&(h[m]=!0)))}),g||(u[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(h)}}loaded(e,t,i){const r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),i&&this.store.addResourceBundle(a,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const u={};this.queue.forEach(h=>{Zs(h.loaded,[a],o),oi(h,e),t&&h.errors.push(t),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(c=>{u[c]||(u[c]={});const g=h.loaded[c];g.length&&g.forEach(m=>{u[c][m]===void 0&&(u[c][m]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(h=>!h.done)}read(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:a,callback:o});return}this.readingCalls++;const u=(c,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(c&&g&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,a*2,o)},a);return}o(c,g)},h=this.backend[i].bind(this.backend);if(h.length===2){try{const c=h(e,t);c&&typeof c.then=="function"?c.then(g=>u(null,g)).catch(u):u(null,c)}catch(c){u(c)}return}return h(e,t,u)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,o),!o&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,u),this.loaded(e,o,u)})}saveMissing(e,t,i,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const h={...o,isUpdate:a},c=this.backend.create.bind(this.backend);if(c.length<6)try{let g;c.length===5?g=c(e,t,i,r,h):g=c(e,t,i,r),g&&typeof g.then=="function"?g.then(m=>u(null,m)).catch(u):u(null,g)}catch(g){u(g)}else c(e,t,i,r,u,h)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}function pn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(r=>{t[r]=i[r]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function mn(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function gt(){}function li(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class it extends Ot{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=mn(e),this.services={},this.logger=ie,this.modules={external:[]},li(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=pn();this.options={...r,...this.options,...mn(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function a(g){return g?typeof g=="function"?new g:g:null}if(!this.options.isClone){this.modules.logger?ie.init(a(this.modules.logger),this.options):ie.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=ai);const m=new fn(this.options);this.store=new hn(this.options.resources,this.options);const s=this.services;s.logger=ie,s.resourceStore=this.store,s.languageUtils=m,s.pluralResolver=new si(m,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(s.formatter=a(g),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new ii(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new ui(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(l){for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];e.emit(l,...p)}),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new St(this.services,this.options),this.translator.on("*",function(l){for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];e.emit(l,...p)}),this.modules.external.forEach(l=>{l.init&&l.init(this)})}if(this.format=this.options.interpolation.format,i||(i=gt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const h=Xe(),c=()=>{const g=(m,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(s),i(m,s)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),h}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],o=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(c=>{c!=="cimode"&&a.indexOf(c)<0&&a.push(c)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>o(h)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(u)})}else i(null)}reloadResources(e,t,i){const r=Xe();return e||(e=this.languages),t||(t=this.options.ns),i||(i=gt),this.services.backendConnector.reload(e,t,a=>{r.resolve(),i(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Hn.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const r=Xe();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},o=(h,c)=>{c?(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),t&&t(h,function(){return i.t(...arguments)})},u=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const c=typeof h=="string"?h:this.services.languageUtils.getBestMatchFromCodes(h);c&&(this.language||a(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,g=>{o(g,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,i){var r=this;const a=function(o,u){let h;if(typeof u!="object"){for(var c=arguments.length,g=new Array(c>2?c-2:0),m=2;m<c;m++)g[m-2]=arguments[m];h=r.options.overloadTranslationOptionHandler([o,u].concat(g))}else h={...u};h.lng=h.lng||a.lng,h.lngs=h.lngs||a.lngs,h.ns=h.ns||a.ns,h.keyPrefix=h.keyPrefix||i||a.keyPrefix;const s=r.options.keySeparator||".";let l;return h.keyPrefix&&Array.isArray(o)?l=o.map(d=>`${h.keyPrefix}${s}${d}`):l=h.keyPrefix?`${h.keyPrefix}${s}${o}`:o,r.t(l,h)};return typeof e=="string"?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=i,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(u,h)=>{const c=this.services.backendConnector.state[`${u}|${h}`];return c===-1||c===2};if(t.precheck){const u=t.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!r||o(a,e)))}loadNamespaces(e,t){const i=Xe();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Xe();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],a=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new fn(pn());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new it(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new it(r);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i&&(a.store=new hn(this.store.data,r),a.services.resourceStore=a.store),a.translator=new St(a.services,r),a.translator.on("*",function(u){for(var h=arguments.length,c=new Array(h>1?h-1:0),g=1;g<h;g++)c[g-1]=arguments[g];a.emit(u,...c)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const W=it.createInstance();W.createInstance=it.createInstance;W.createInstance;W.dir;W.init;W.loadResources;W.reloadResources;W.use;W.changeLanguage;W.getFixedT;W.t;W.exists;W.setDefaultNamespace;W.hasLoadedNamespace;W.loadNamespaces;W.loadLanguages;function hi(){var n,e,t;for(n="",t=0;t<32;t++)(t==8||t==12||t==16||t==20)&&(n=n+"-"),e=Math.floor(Math.random()*16).toString(16).toUpperCase(),n=n+e;return n}class ci{constructor(){nn(this,"preName","route-cab")}_(e,t=!1){return localStorage.getItem(e)||t}rm(e){return localStorage.removeItem(e)}rmUniq(e){return this.rm(`${this.preName}${e}`)}getUniq(e,t=""){return this.get(`${this.preName}${e}`)||t}get(e,t=""){return localStorage.getItem(e)||t}set(e,t){localStorage.setItem(e,t)}getJ(e){const t=this.get(e);if(t)try{return JSON.parse(t)}catch{}return!1}setJ(e,t){return this.set(e,JSON.stringify(t))}createUniq(e){const t=`${this.preName}${e}`;let i=this.get(t);return i||(i=hi(),this.set(t,i)),i}}const Vn=new ci,fi=({setCurrentPage:n})=>{var u;const{t:e}=Yt(),[t,i]=T.useState("en"),r=(u=zn())==null?void 0:u.id,a=h=>{W.changeLanguage(h),i(h),Vn.set("lang",h)},o=()=>{qt(xs)};return x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[x.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("welcome")}),x.jsxs("p",{className:"mb-4",children:[e("currentLanguage"),": ",t]}),x.jsxs("div",{className:"space-x-2",children:[x.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("en"),children:"English"}),x.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("es"),children:"Español"}),x.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("ru"),children:"Русский"})]})]}),r===36058859&&x.jsx("button",{onClick:o,style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"restart"})]})},et=({title:n,setCurrentPage:e})=>x.jsx("header",{style:{backgroundColor:"#fff",borderBottom:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",top:0,left:0,right:0,zIndex:1e3},children:x.jsxs("div",{style:{maxWidth:"975px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"},children:[x.jsx("h1",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',fontSize:"20px"},children:n}),x.jsx("button",{onClick:()=>e("settings"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:"⚙️"})]})}),di=({setCurrentPage:n})=>x.jsx("nav",{style:{backgroundColor:"#fff",borderTop:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",bottom:0,left:0,right:0,zIndex:1e3},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-around",maxWidth:"975px",margin:"0 auto"},children:[x.jsx("button",{onClick:()=>n("home"),style:{background:"none",border:"none",fontSize:"24px"},children:"🏠"}),x.jsx("button",{onClick:()=>n("newPost"),style:{background:"none",border:"none",fontSize:"24px"},children:"➕"}),x.jsx("button",{onClick:()=>n("profile"),style:{background:"none",border:"none",fontSize:"24px"},children:"👤"})]})}),gi=()=>{let{initDataRaw:n}=ws();const e=zn(n);return x.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[x.jsxs("h2",{style:{margin:"20px 0"},children:[e==null?void 0:e.first_name," ",e!=null&&e.username?`(@${e==null?void 0:e.username})`:""]}),x.jsx("p",{children:"О себе: Любитель фотографии | Собачник | Кофеман"}),x.jsxs("div",{style:{margin:"20px 0"},children:[x.jsxs("span",{style:{margin:"0 10px"},children:[x.jsx("strong",{children:"0"})," подписчиков"]}),x.jsxs("span",{style:{margin:"0 10px"},children:[x.jsx("strong",{children:"0"})," подписок"]})]})]})},qn=({isOpen:n,onClose:e,location:t})=>n?x.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:x.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",width:"80%",maxWidth:"500px"},children:[x.jsxs("h2",{children:["Location: ",t]}),x.jsxs("div",{style:{width:"100%",height:"300px",backgroundColor:"#f0f0f0",display:"flex",justifyContent:"center",alignItems:"center"},children:['Здесь будет карта с меткой в точке "',t,'"']}),x.jsx("button",{onClick:e,style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Закрыть"})]})}):null,pi=({name:n,imageUrl:e,caption:t,isFavorite:i,location:r,onClick:a})=>{const[o,u]=T.useState(!1);return x.jsxs("div",{style:{backgroundColor:"#fff",border:"1px solid #dbdbdb",borderRadius:"3px",marginBottom:"20px",cursor:"pointer"},onClick:a,children:[x.jsxs("div",{style:{padding:"10px",fontWeight:"bold",display:"flex",justifyContent:"space-between"},children:[x.jsx("span",{children:n}),i&&x.jsx("span",{children:"⭐"})]}),x.jsx("div",{style:{padding:"10px"}}),r&&x.jsx("div",{style:{padding:"0 10px 10px"},children:x.jsxs("span",{style:{color:"#0095f6"},children:["📍 ",r]})}),x.jsx(qn,{isOpen:o,onClose:()=>u(!1),location:r})]})};var At=new Map,pt=new WeakMap,vn=0,mi=void 0;function vi(n){return n?(pt.has(n)||(vn+=1,pt.set(n,vn.toString())),pt.get(n)):"0"}function yi(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?vi(n.root):n[e]}`).toString()}function bi(n){const e=yi(n);let t=At.get(e);if(!t){const i=new Map;let r;const a=new IntersectionObserver(o=>{o.forEach(u=>{var h;const c=u.isIntersecting&&r.some(g=>u.intersectionRatio>=g);n.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=c),(h=i.get(u.target))==null||h.forEach(g=>{g(c,u)})})},n);r=a.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:a,elements:i},At.set(e,t)}return t}function xi(n,e,t={},i=mi){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const h=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:h,intersectionRect:h,rootBounds:h}),()=>{}}const{id:r,observer:a,elements:o}=bi(t),u=o.get(n)||[];return o.has(n)||o.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(o.delete(n),a.unobserve(n)),o.size===0&&(a.disconnect(),At.delete(r))}}function wi({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:r,triggerOnce:a,skip:o,initialInView:u,fallbackInView:h,onChange:c}={}){var g;const[m,s]=T.useState(null),l=T.useRef(),[d,p]=T.useState({inView:!!u,entry:void 0});l.current=c,T.useEffect(()=>{if(o||!m)return;let S;return S=xi(m,(w,C)=>{p({inView:w,entry:C}),l.current&&l.current(w,C),C.isIntersecting&&a&&S&&(S(),S=void 0)},{root:r,rootMargin:i,threshold:n,trackVisibility:t,delay:e},h),()=>{S&&S()}},[Array.isArray(n)?n.toString():n,m,r,i,a,o,t,h,e]);const v=(g=d.entry)==null?void 0:g.target,y=T.useRef();!m&&v&&!a&&!o&&y.current!==v&&(y.current=v,p({inView:!!u,entry:void 0}));const b=[s,d.inView,d.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}var ct=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Je=typeof window>"u"||"Deno"in globalThis;function J(){}function Si(n,e){return typeof n=="function"?n(e):n}function Ft(n){return typeof n=="number"&&n>=0&&n!==1/0}function Yn(n,e){return Math.max(n+(e||0)-Date.now(),0)}function De(n,e){return typeof n=="function"?n(e):n}function X(n,e){return typeof n=="function"?n(e):n}function yn(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:a,queryKey:o,stale:u}=n;if(o){if(i){if(e.queryHash!==Jt(o,e.options))return!1}else if(!at(e.queryKey,o))return!1}if(t!=="all"){const h=e.isActive();if(t==="active"&&!h||t==="inactive"&&h)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||a&&!a(e))}function bn(n,e){const{exact:t,status:i,predicate:r,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(rt(e.options.mutationKey)!==rt(a))return!1}else if(!at(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Jt(n,e){return((e==null?void 0:e.queryKeyHashFn)||rt)(n)}function rt(n){return JSON.stringify(n,(e,t)=>It(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function at(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!at(n[t],e[t])):!1}function Jn(n,e){if(n===e)return n;const t=xn(n)&&xn(e);if(t||It(n)&&It(e)){const i=t?n:Object.keys(n),r=i.length,a=t?e:Object.keys(e),o=a.length,u=t?[]:{};let h=0;for(let c=0;c<o;c++){const g=t?c:a[c];(!t&&i.includes(g)||t)&&n[g]===void 0&&e[g]===void 0?(u[g]=void 0,h++):(u[g]=Jn(n[g],e[g]),u[g]===n[g]&&n[g]!==void 0&&h++)}return r===o&&h===r?n:u}return e}function Dt(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function xn(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function It(n){if(!wn(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!wn(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function wn(n){return Object.prototype.toString.call(n)==="[object Object]"}function Ci(n){return new Promise(e=>{setTimeout(e,n)})}function $t(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?Jn(n,e):e}function Oi(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function Mi(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var Gn=Symbol(),Xn=(n,e)=>!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===Gn?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn,Ce,ce,Ie,kn,Pi=(kn=class extends ct{constructor(){super();N(this,Ce);N(this,ce);N(this,Ie);L(this,Ie,e=>{if(!Je&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){f(this,ce)||this.setEventListener(f(this,Ie))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,ce))==null||e.call(this),L(this,ce,void 0))}setEventListener(e){var t;L(this,Ie,e),(t=f(this,ce))==null||t.call(this),L(this,ce,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){f(this,Ce)!==e&&(L(this,Ce,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof f(this,Ce)=="boolean"?f(this,Ce):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ce=new WeakMap,ce=new WeakMap,Ie=new WeakMap,kn),Gt=new Pi,$e,fe,Ue,_n,Ri=(_n=class extends ct{constructor(){super();N(this,$e,!0);N(this,fe);N(this,Ue);L(this,Ue,e=>{if(!Je&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){f(this,fe)||this.setEventListener(f(this,Ue))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,fe))==null||e.call(this),L(this,fe,void 0))}setEventListener(e){var t;L(this,Ue,e),(t=f(this,fe))==null||t.call(this),L(this,fe,e(this.setOnline.bind(this)))}setOnline(e){f(this,$e)!==e&&(L(this,$e,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return f(this,$e)}},$e=new WeakMap,fe=new WeakMap,Ue=new WeakMap,_n),Ct=new Ri;function Ei(n){return Math.min(1e3*2**n,3e4)}function es(n){return(n??"online")==="online"?Ct.isOnline():!0}var ts=class{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Et(n){return n instanceof ts}function ns(n){let e=!1,t=0,i=!1,r,a,o;const u=new Promise((y,b)=>{a=y,o=b}),h=y=>{var b;i||(d(new ts(y)),(b=n.abort)==null||b.call(n))},c=()=>{e=!0},g=()=>{e=!1},m=()=>Gt.isFocused()&&(n.networkMode==="always"||Ct.isOnline())&&n.canRun(),s=()=>es(n.networkMode)&&n.canRun(),l=y=>{var b;i||(i=!0,(b=n.onSuccess)==null||b.call(n,y),r==null||r(),a(y))},d=y=>{var b;i||(i=!0,(b=n.onError)==null||b.call(n,y),r==null||r(),o(y))},p=()=>new Promise(y=>{var b;r=S=>{(i||m())&&y(S)},(b=n.onPause)==null||b.call(n)}).then(()=>{var y;r=void 0,i||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(i)return;let y;const b=t===0?n.initialPromise:void 0;try{y=b??n.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(l).catch(S=>{var O;if(i)return;const w=n.retry??(Je?0:3),C=n.retryDelay??Ei,E=typeof C=="function"?C(t,S):C,M=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,S);if(e||!M){d(S);return}t++,(O=n.onFail)==null||O.call(n,t,S),Ci(E).then(()=>m()?void 0:p()).then(()=>{e?d(S):v()})})};return{promise:u,cancel:h,continue:()=>(r==null||r(),u),cancelRetry:c,continueRetry:g,canStart:s,start:()=>(s()?v():p().then(v),u)}}function Li(){let n=[],e=0,t=s=>{s()},i=s=>{s()},r=s=>setTimeout(s,0);const a=s=>{r=s},o=s=>{let l;e++;try{l=s()}finally{e--,e||c()}return l},u=s=>{e?n.push(s):r(()=>{t(s)})},h=s=>(...l)=>{u(()=>{s(...l)})},c=()=>{const s=n;n=[],s.length&&r(()=>{i(()=>{s.forEach(l=>{t(l)})})})};return{batch:o,batchCalls:h,schedule:u,setNotifyFunction:s=>{t=s},setBatchNotifyFunction:s=>{i=s},setScheduler:a}}var z=Li(),Oe,jn,ss=(jn=class{constructor(){N(this,Oe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ft(this.gcTime)&&L(this,Oe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Je?1/0:5*60*1e3))}clearGcTimeout(){f(this,Oe)&&(clearTimeout(f(this,Oe)),L(this,Oe,void 0))}},Oe=new WeakMap,jn),ze,We,Y,K,ot,Me,G,oe,An,Ti=(An=class extends ss{constructor(e){super();N(this,G);N(this,ze);N(this,We);N(this,Y);N(this,K);N(this,ot);N(this,Me);L(this,Me,!1),L(this,ot,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,Y,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,ze,e.state||Ni(this.options)),this.state=f(this,ze),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=f(this,K))==null?void 0:e.promise}setOptions(e){this.options={...f(this,ot),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&f(this,Y).remove(this)}setData(e,t){const i=$t(this.state.data,e,this.options);return _(this,G,oe).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){_(this,G,oe).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=f(this,K))==null?void 0:i.promise;return(r=f(this,K))==null||r.cancel(e),t?t.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,ze))}isActive(){return this.observers.some(e=>X(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Yn(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=f(this,K))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=f(this,K))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),f(this,Y).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(f(this,K)&&(f(this,Me)?f(this,K).cancel({revert:!0}):f(this,K).cancelRetry()),this.scheduleGc()),f(this,Y).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_(this,G,oe).call(this,{type:"invalidate"})}fetch(e,t){var h,c,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(f(this,K))return f(this,K).continueRetry(),f(this,K).promise}if(e&&this.setOptions(e),!this.options.queryFn){const m=this.observers.find(s=>s.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,r=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(L(this,Me,!0),i.signal)})},a=()=>{const m=Xn(this.options,t),s={queryKey:this.queryKey,meta:this.meta};return r(s),L(this,Me,!1),this.options.persister?this.options.persister(m,s,this):m(s)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(o),(h=this.options.behavior)==null||h.onFetch(o,this),L(this,We,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&_(this,G,oe).call(this,{type:"fetch",meta:(g=o.fetchOptions)==null?void 0:g.meta});const u=m=>{var s,l,d,p;Et(m)&&m.silent||_(this,G,oe).call(this,{type:"error",error:m}),Et(m)||((l=(s=f(this,Y).config).onError)==null||l.call(s,m,this),(p=(d=f(this,Y).config).onSettled)==null||p.call(d,this.state.data,m,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return L(this,K,ns({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var s,l,d,p;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(m),(l=(s=f(this,Y).config).onSuccess)==null||l.call(s,m,this),(p=(d=f(this,Y).config).onSettled)==null||p.call(d,m,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(m,s)=>{_(this,G,oe).call(this,{type:"failed",failureCount:m,error:s})},onPause:()=>{_(this,G,oe).call(this,{type:"pause"})},onContinue:()=>{_(this,G,oe).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),f(this,K).start()}},ze=new WeakMap,We=new WeakMap,Y=new WeakMap,K=new WeakMap,ot=new WeakMap,Me=new WeakMap,G=new WeakSet,oe=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...is(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Et(r)&&r.revert&&f(this,We)?{...f(this,We),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),z.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),f(this,Y).notify({query:this,type:"updated",action:e})})},An);function is(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:es(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Ni(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ee,Fn,ki=(Fn=class extends ct{constructor(e={}){super();N(this,ee);this.config=e,L(this,ee,new Map)}build(e,t,i){const r=t.queryKey,a=t.queryHash??Jt(r,t);let o=this.get(a);return o||(o=new Ti({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){f(this,ee).has(e.queryHash)||(f(this,ee).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=f(this,ee).get(e.queryHash);t&&(e.destroy(),t===e&&f(this,ee).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return f(this,ee).get(e)}getAll(){return[...f(this,ee).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>yn(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>yn(e,i)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ee=new WeakMap,Fn),te,Z,Pe,ne,he,Dn,_i=(Dn=class extends ss{constructor(e){super();N(this,ne);N(this,te);N(this,Z);N(this,Pe);this.mutationId=e.mutationId,L(this,Z,e.mutationCache),L(this,te,[]),this.state=e.state||ji(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){f(this,te).includes(e)||(f(this,te).push(e),this.clearGcTimeout(),f(this,Z).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,te,f(this,te).filter(t=>t!==e)),this.scheduleGc(),f(this,Z).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){f(this,te).length||(this.state.status==="pending"?this.scheduleGc():f(this,Z).remove(this))}continue(){var e;return((e=f(this,Pe))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,a,o,u,h,c,g,m,s,l,d,p,v,y,b,S,w,C,E,M;L(this,Pe,ns({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,k)=>{_(this,ne,he).call(this,{type:"failed",failureCount:O,error:k})},onPause:()=>{_(this,ne,he).call(this,{type:"pause"})},onContinue:()=>{_(this,ne,he).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>f(this,Z).canRun(this)}));const t=this.state.status==="pending",i=!f(this,Pe).canStart();try{if(!t){_(this,ne,he).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(r=f(this,Z).config).onMutate)==null?void 0:a.call(r,e,this));const k=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));k!==this.state.context&&_(this,ne,he).call(this,{type:"pending",context:k,variables:e,isPaused:i})}const O=await f(this,Pe).start();return await((c=(h=f(this,Z).config).onSuccess)==null?void 0:c.call(h,O,e,this.state.context,this)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,O,e,this.state.context)),await((l=(s=f(this,Z).config).onSettled)==null?void 0:l.call(s,O,null,this.state.variables,this.state.context,this)),await((p=(d=this.options).onSettled)==null?void 0:p.call(d,O,null,e,this.state.context)),_(this,ne,he).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(v=f(this,Z).config).onError)==null?void 0:y.call(v,O,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,O,e,this.state.context)),await((C=(w=f(this,Z).config).onSettled)==null?void 0:C.call(w,void 0,O,this.state.variables,this.state.context,this)),await((M=(E=this.options).onSettled)==null?void 0:M.call(E,void 0,O,e,this.state.context)),O}finally{_(this,ne,he).call(this,{type:"error",error:O})}}finally{f(this,Z).runNext(this)}}},te=new WeakMap,Z=new WeakMap,Pe=new WeakMap,ne=new WeakSet,he=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),z.batch(()=>{f(this,te).forEach(i=>{i.onMutationUpdate(e)}),f(this,Z).notify({mutation:this,type:"updated",action:e})})},Dn);function ji(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var H,ut,In,Ai=(In=class extends ct{constructor(e={}){super();N(this,H);N(this,ut);this.config=e,L(this,H,new Map),L(this,ut,Date.now())}build(e,t,i){const r=new _i({mutationCache:this,mutationId:++dt(this,ut)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=mt(e),i=f(this,H).get(t)??[];i.push(e),f(this,H).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=mt(e);if(f(this,H).has(t)){const r=(i=f(this,H).get(t))==null?void 0:i.filter(a=>a!==e);r&&(r.length===0?f(this,H).delete(t):f(this,H).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=f(this,H).get(mt(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=f(this,H).get(mt(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...f(this,H).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>bn(t,i))}findAll(e={}){return this.getAll().filter(t=>bn(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return z.batch(()=>Promise.all(e.map(t=>t.continue().catch(J))))}},H=new WeakMap,ut=new WeakMap,In);function mt(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function Fi(n){return{onFetch:(e,t)=>{const i=async()=>{var d,p,v,y,b;const r=e.options,a=(v=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],u=((b=e.state.data)==null?void 0:b.pageParams)||[],h={pages:[],pageParams:[]};let c=!1;const g=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?c=!0:e.signal.addEventListener("abort",()=>{c=!0}),e.signal)})},m=Xn(e.options,e.fetchOptions),s=async(S,w,C)=>{if(c)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const E={queryKey:e.queryKey,pageParam:w,direction:C?"backward":"forward",meta:e.options.meta};g(E);const M=await m(E),{maxPages:O}=e.options,k=C?Mi:Oi;return{pages:k(S.pages,M,O),pageParams:k(S.pageParams,w,O)}};let l;if(a&&o.length){const S=a==="backward",w=S?Di:Sn,C={pages:o,pageParams:u},E=w(r,C);l=await s(C,E,S)}else{l=await s(h,u[0]??r.initialPageParam);const S=n??o.length;for(let w=1;w<S;w++){const C=Sn(r,l);l=await s(l,C)}}return l};e.options.persister?e.fetchFn=()=>{var r,a;return(a=(r=e.options).persister)==null?void 0:a.call(r,i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=i}}}function Sn(n,{pages:e,pageParams:t}){const i=e.length-1;return n.getNextPageParam(e[i],e,t[i],t)}function Di(n,{pages:e,pageParams:t}){var i;return(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t)}var I,de,ge,Ke,Ze,pe,Qe,Be,$n,Ii=($n=class{constructor(n={}){N(this,I);N(this,de);N(this,ge);N(this,Ke);N(this,Ze);N(this,pe);N(this,Qe);N(this,Be);L(this,I,n.queryCache||new ki),L(this,de,n.mutationCache||new Ai),L(this,ge,n.defaultOptions||{}),L(this,Ke,new Map),L(this,Ze,new Map),L(this,pe,0)}mount(){dt(this,pe)._++,f(this,pe)===1&&(L(this,Qe,Gt.subscribe(async n=>{n&&(await this.resumePausedMutations(),f(this,I).onFocus())})),L(this,Be,Ct.subscribe(async n=>{n&&(await this.resumePausedMutations(),f(this,I).onOnline())})))}unmount(){var n,e;dt(this,pe)._--,f(this,pe)===0&&((n=f(this,Qe))==null||n.call(this),L(this,Qe,void 0),(e=f(this,Be))==null||e.call(this),L(this,Be,void 0))}isFetching(n){return f(this,I).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return f(this,de).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=f(this,I).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=f(this,I).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(De(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return f(this,I).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=f(this,I).get(i.queryHash),a=r==null?void 0:r.state.data,o=Si(e,a);if(o!==void 0)return f(this,I).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return z.batch(()=>f(this,I).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=f(this,I).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=f(this,I);z.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=f(this,I),i={type:"active",...n};return z.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=z.batch(()=>f(this,I).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(J).catch(J)}invalidateQueries(n={},e={}){return z.batch(()=>{if(f(this,I).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=z.batch(()=>f(this,I).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,t);return t.throwOnError||(a=a.catch(J)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(J)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=f(this,I).build(this,e);return t.isStaleByTime(De(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(J).catch(J)}fetchInfiniteQuery(n){return n.behavior=Fi(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(J).catch(J)}resumePausedMutations(){return Ct.isOnline()?f(this,de).resumePausedMutations():Promise.resolve()}getQueryCache(){return f(this,I)}getMutationCache(){return f(this,de)}getDefaultOptions(){return f(this,ge)}setDefaultOptions(n){L(this,ge,n)}setQueryDefaults(n,e){f(this,Ke).set(rt(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...f(this,Ke).values()];let t={};return e.forEach(i=>{at(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){f(this,Ze).set(rt(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...f(this,Ze).values()];let t={};return e.forEach(i=>{at(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...f(this,ge).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Jt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Gn&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...f(this,ge).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){f(this,I).clear(),f(this,de).clear()}},I=new WeakMap,de=new WeakMap,ge=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,pe=new WeakMap,Qe=new WeakMap,Be=new WeakMap,$n),B,j,lt,Q,Re,He,se,ht,Ve,qe,Ee,Le,me,Ye,F,nt,Ut,zt,Wt,Kt,Zt,Qt,Bt,rs,Un,$i=(Un=class extends ct{constructor(e,t){super();N(this,F);N(this,B);N(this,j);N(this,lt);N(this,Q);N(this,Re);N(this,He);N(this,se);N(this,ht);N(this,Ve);N(this,qe);N(this,Ee);N(this,Le);N(this,me);N(this,Ye,new Set);this.options=t,L(this,B,e),L(this,se,null),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,j).addObserver(this),Cn(f(this,j),this.options)?_(this,F,nt).call(this):this.updateResult(),_(this,F,Kt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ht(f(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ht(f(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,F,Zt).call(this),_(this,F,Qt).call(this),f(this,j).removeObserver(this)}setOptions(e,t){const i=this.options,r=f(this,j);if(this.options=f(this,B).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,f(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,F,Bt).call(this),f(this,j).setOptions(this.options),i._defaulted&&!Dt(this.options,i)&&f(this,B).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,j),observer:this});const a=this.hasListeners();a&&On(f(this,j),r,this.options,i)&&_(this,F,nt).call(this),this.updateResult(t),a&&(f(this,j)!==r||X(this.options.enabled,f(this,j))!==X(i.enabled,f(this,j))||De(this.options.staleTime,f(this,j))!==De(i.staleTime,f(this,j)))&&_(this,F,Ut).call(this);const o=_(this,F,zt).call(this);a&&(f(this,j)!==r||X(this.options.enabled,f(this,j))!==X(i.enabled,f(this,j))||o!==f(this,me))&&_(this,F,Wt).call(this,o)}getOptimisticResult(e){const t=f(this,B).getQueryCache().build(f(this,B),e),i=this.createResult(t,e);return zi(this,i)&&(L(this,Q,i),L(this,He,this.options),L(this,Re,f(this,j).state)),i}getCurrentResult(){return f(this,Q)}trackResult(e,t){const i={};return Object.keys(e).forEach(r=>{Object.defineProperty(i,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),i}trackProp(e){f(this,Ye).add(e)}getCurrentQuery(){return f(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=f(this,B).defaultQueryOptions(e),i=f(this,B).getQueryCache().build(f(this,B),t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(e){return _(this,F,nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,Q)))}createResult(e,t){var M;const i=f(this,j),r=this.options,a=f(this,Q),o=f(this,Re),u=f(this,He),c=e!==i?e.state:f(this,lt),{state:g}=e;let m={...g},s=!1,l;if(t._optimisticResults){const O=this.hasListeners(),k=!O&&Cn(e,t),A=O&&On(e,i,t,r);(k||A)&&(m={...m,...is(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:d,errorUpdatedAt:p,status:v}=m;if(t.select&&m.data!==void 0)if(a&&m.data===(o==null?void 0:o.data)&&t.select===f(this,ht))l=f(this,Ve);else try{L(this,ht,t.select),l=t.select(m.data),l=$t(a==null?void 0:a.data,l,t),L(this,Ve,l),L(this,se,null)}catch(O){L(this,se,O)}else l=m.data;if(t.placeholderData!==void 0&&l===void 0&&v==="pending"){let O;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))O=a.data;else if(O=typeof t.placeholderData=="function"?t.placeholderData((M=f(this,qe))==null?void 0:M.state.data,f(this,qe)):t.placeholderData,t.select&&O!==void 0)try{O=t.select(O),L(this,se,null)}catch(k){L(this,se,k)}O!==void 0&&(v="success",l=$t(a==null?void 0:a.data,O,t),s=!0)}f(this,se)&&(d=f(this,se),l=f(this,Ve),p=Date.now(),v="error");const y=m.fetchStatus==="fetching",b=v==="pending",S=v==="error",w=b&&y,C=l!==void 0;return{status:v,fetchStatus:m.fetchStatus,isPending:b,isSuccess:v==="success",isError:S,isInitialLoading:w,isLoading:w,data:l,dataUpdatedAt:m.dataUpdatedAt,error:d,errorUpdatedAt:p,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>c.dataUpdateCount||m.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:S&&!C,isPaused:m.fetchStatus==="paused",isPlaceholderData:s,isRefetchError:S&&C,isStale:Xt(e,t),refetch:this.refetch}}updateResult(e){const t=f(this,Q),i=this.createResult(f(this,j),this.options);if(L(this,Re,f(this,j).state),L(this,He,this.options),f(this,Re).data!==void 0&&L(this,qe,f(this,j)),Dt(i,t))return;L(this,Q,i);const r={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!f(this,Ye).size)return!0;const h=new Set(u??f(this,Ye));return this.options.throwOnError&&h.add("error"),Object.keys(f(this,Q)).some(c=>{const g=c;return f(this,Q)[g]!==t[g]&&h.has(g)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),_(this,F,rs).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,F,Kt).call(this)}},B=new WeakMap,j=new WeakMap,lt=new WeakMap,Q=new WeakMap,Re=new WeakMap,He=new WeakMap,se=new WeakMap,ht=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Ee=new WeakMap,Le=new WeakMap,me=new WeakMap,Ye=new WeakMap,F=new WeakSet,nt=function(e){_(this,F,Bt).call(this);let t=f(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(J)),t},Ut=function(){_(this,F,Zt).call(this);const e=De(this.options.staleTime,f(this,j));if(Je||f(this,Q).isStale||!Ft(e))return;const i=Yn(f(this,Q).dataUpdatedAt,e)+1;L(this,Ee,setTimeout(()=>{f(this,Q).isStale||this.updateResult()},i))},zt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,j)):this.options.refetchInterval)??!1},Wt=function(e){_(this,F,Qt).call(this),L(this,me,e),!(Je||X(this.options.enabled,f(this,j))===!1||!Ft(f(this,me))||f(this,me)===0)&&L(this,Le,setInterval(()=>{(this.options.refetchIntervalInBackground||Gt.isFocused())&&_(this,F,nt).call(this)},f(this,me)))},Kt=function(){_(this,F,Ut).call(this),_(this,F,Wt).call(this,_(this,F,zt).call(this))},Zt=function(){f(this,Ee)&&(clearTimeout(f(this,Ee)),L(this,Ee,void 0))},Qt=function(){f(this,Le)&&(clearInterval(f(this,Le)),L(this,Le,void 0))},Bt=function(){const e=f(this,B).getQueryCache().build(f(this,B),this.options);if(e===f(this,j))return;const t=f(this,j);L(this,j,e),L(this,lt,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},rs=function(e){z.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(f(this,Q))}),f(this,B).getQueryCache().notify({query:f(this,j),type:"observerResultsUpdated"})})},Un);function Ui(n,e){return X(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Cn(n,e){return Ui(n,e)||n.state.data!==void 0&&Ht(n,e,e.refetchOnMount)}function Ht(n,e,t){if(X(e.enabled,n)!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&Xt(n,e)}return!1}function On(n,e,t,i){return(n!==e||X(i.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Xt(n,t)}function Xt(n,e){return X(e.enabled,n)!==!1&&n.isStaleByTime(De(e.staleTime,n))}function zi(n,e){return!Dt(n.getCurrentResult(),e)}var as=T.createContext(void 0),os=n=>{const e=T.useContext(as);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Wi=({client:n,children:e})=>(T.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),x.jsx(as.Provider,{value:n,children:e})),us=T.createContext(!1),Ki=()=>T.useContext(us);us.Provider;function Zi(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Qi=T.createContext(Zi()),Bi=()=>T.useContext(Qi);function Hi(n,e){return typeof n=="function"?n(...e):!!n}var Vi=(n,e)=>{(n.suspense||n.throwOnError)&&(e.isReset()||(n.retryOnMount=!1))},qi=n=>{T.useEffect(()=>{n.clearReset()},[n])},Yi=({result:n,errorResetBoundary:e,throwOnError:t,query:i})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&Hi(t,[n.error,i]),Ji=n=>{n.suspense&&typeof n.staleTime!="number"&&(n.staleTime=1e3)},Gi=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,Xi=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function er(n,e,t){var c,g,m,s;const i=os(),r=Ki(),a=Bi(),o=i.defaultQueryOptions(n);(g=(c=i.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||g.call(c,o),o._optimisticResults=r?"isRestoring":"optimistic",Ji(o),Vi(o,a),qi(a);const[u]=T.useState(()=>new e(i,o)),h=u.getOptimisticResult(o);if(T.useSyncExternalStore(T.useCallback(l=>{const d=r?()=>{}:u.subscribe(z.batchCalls(l));return u.updateResult(),d},[u,r]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),Gi(o,h))throw Xi(o,u,a);if(Yi({result:h,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw h.error;return(s=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||s.call(m,o,h),o.notifyOnChangeProps?h:u.trackResult(h)}function tr(n,e){return er(n,$i)}const Lt=10;function nr(n,e){const t=os(),[i,r]=T.useState(0),[a,o]=T.useState([]),{ref:u,inView:h}=wi({threshold:1});T.useEffect(()=>(t.clear(),()=>t.clear()),[e]);const{data:c,isLoading:g,error:m}=tr({queryKey:[n,e,i],queryFn:()=>qt(n,{query:{page:i,range:`[${i*Lt},${Lt}]`},range:"Content-Range"}),retry:1});let s=Array.isArray(c)?c:(c==null?void 0:c.data)||[];const l=s==null?void 0:s.length;return T.useEffect(()=>{l&&o(p=>[...p,...s])},[l]),T.useEffect(()=>{h&&!g&&l===Lt&&r(p=>p+1)},[h,g,l]),{data:a,dataLength:l,loading:g,ref:u,setPage:r,setAllData:o,page:i,error:m,resetQuery:()=>t.clear()}}const sr=({onClick:n})=>{const{data:e,resetQuery:t,ref:i,dataLength:r}=nr(Wn);return x.jsxs("div",{style:{textAlign:"center"},children:[e.map(a=>x.jsx(pi,{...a,onClick:()=>n(a)},a.id)),!!r&&x.jsx("div",{children:x.jsx("div",{ref:i,className:"more"})})]})};function Mn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mn(Object(t),!0).forEach(function(i){P(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mn(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ir(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Vt(n,e)}function Vt(n,e){return Vt=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Vt(n,e)}function R(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function rr(n,e){var t;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout(function(){return n.apply(o,r)},e)}}function vt(n,e){for(;n;){if(n.classList&&n.classList.contains(e))return!0;n=n.parentElement}return!1}function ls(n){var e=n.getBoundingClientRect();return{x:e.left,y:e.top}}function ar(n,e,t){return"https://tile.openstreetmap.org/"+t+"/"+n+"/"+e+".png"}var Pn=300,or=1500,ur=150,lr=40,Tt=2,Rn=300,hr=60,cr=300,fr=300,le=function(){return!0},Ae=function(e,t){return(e+180)/360*Math.pow(2,t)},Fe=function(e,t){return(1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t)};function we(n,e){return n/Math.pow(2,e)*360-180}function Se(n,e){var t=Math.PI-2*Math.PI*n/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function V(n,e){var t=ls(n);return[e.clientX-t.x,e.clientY-t.y]}function dr(n){return n*(2-n)}var tt=[Se(Math.pow(2,10),10),Se(0,10),we(0,10),we(Math.pow(2,10),10)],en=typeof window<"u",q=en&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var n=new Date().getTime();return function(){return new Date().getTime()-n}}(),Nt=function(e){return en?(window.requestAnimationFrame||window.setTimeout)(e):(e(new Date().getTime()),null)},En=function(e){return en&&e?(window.cancelAnimationFrame||window.clearTimeout)(e):!1};function Ln(n,e,t,i,r){return!n||n.length===0?"":n.map(function(a){return e(t,i,r,a)+(a===1?"":" "+a+"x")}).join(", ")}var gr=function(e){var t=e.tile,i=e.tileLoaded;return D.createElement("img",{src:t.url,srcSet:t.srcSet,width:t.width,height:t.height,loading:"lazy",onLoad:i,alt:"",style:{position:"absolute",left:t.left,top:t.top,willChange:"transform",transformOrigin:"top left",opacity:1}})},hs=function(n){ir(e,n);function e(i){var r,a,o,u,h,c,g,m,s;return s=n.call(this,i)||this,P(R(s),"_containerRef",void 0),P(R(s),"_mousePosition",void 0),P(R(s),"_loadTracker",void 0),P(R(s),"_dragStart",null),P(R(s),"_mouseDown",!1),P(R(s),"_moveEvents",[]),P(R(s),"_lastClick",null),P(R(s),"_lastTap",null),P(R(s),"_lastWheel",null),P(R(s),"_touchStartPixel",null),P(R(s),"_touchStartMidPoint",null),P(R(s),"_touchStartDistance",null),P(R(s),"_secondTouchEnd",null),P(R(s),"_warningClearTimeout",null),P(R(s),"_isAnimating",!1),P(R(s),"_animationStart",null),P(R(s),"_animationEnd",null),P(R(s),"_zoomStart",null),P(R(s),"_centerTarget",null),P(R(s),"_zoomTarget",null),P(R(s),"_zoomAround",null),P(R(s),"_animFrame",null),P(R(s),"_boundsSynced",!1),P(R(s),"_minMaxCache",null),P(R(s),"_lastZoom",void 0),P(R(s),"_lastCenter",void 0),P(R(s),"_centerStart",void 0),P(R(s),"_resizeObserver",null),P(R(s),"updateWidthHeight",function(){if(s._containerRef){var l=s._containerRef.getBoundingClientRect();if(l&&l.width>0&&l.height>0)return s.setState({width:l.width,height:l.height}),!0}return!1}),P(R(s),"wa",function(){var l;return(l=window).addEventListener.apply(l,arguments)}),P(R(s),"wr",function(){var l;return(l=window).removeEventListener.apply(l,arguments)}),P(R(s),"bindMouseEvents",function(){s.wa("mousedown",s.handleMouseDown),s.wa("mouseup",s.handleMouseUp),s.wa("mousemove",s.handleMouseMove)}),P(R(s),"bindTouchEvents",function(){s.wa("touchstart",s.handleTouchStart,{passive:!1}),s.wa("touchmove",s.handleTouchMove,{passive:!1}),s.wa("touchend",s.handleTouchEnd,{passive:!1})}),P(R(s),"unbindMouseEvents",function(){s.wr("mousedown",s.handleMouseDown),s.wr("mouseup",s.handleMouseUp),s.wr("mousemove",s.handleMouseMove)}),P(R(s),"unbindTouchEvents",function(){s.wr("touchstart",s.handleTouchStart),s.wr("touchmove",s.handleTouchMove),s.wr("touchend",s.handleTouchEnd)}),P(R(s),"bindResizeEvent",function(){s.wa("resize",s.updateWidthHeight)}),P(R(s),"unbindResizeEvent",function(){s.wr("resize",s.updateWidthHeight)}),P(R(s),"bindWheelEvent",function(){s._containerRef&&s._containerRef.addEventListener("wheel",s.handleWheel,{passive:!1})}),P(R(s),"unbindWheelEvent",function(){s._containerRef&&s._containerRef.removeEventListener("wheel",s.handleWheel)}),P(R(s),"setCenterZoomTarget",function(l,d,p,v,y){if(p===void 0&&(p=!1),v===void 0&&(v=null),y===void 0&&(y=Pn),s.props.animate&&(!p||s.distanceInScreens(l,d,s.state.center,s.state.zoom)<=s.props.animateMaxScreens)){if(s._isAnimating){En(s._animFrame);var b=s.animationStep(q()),S=b.centerStep,w=b.zoomStep;s._centerStart=S,s._zoomStart=w}else s._isAnimating=!0,s._centerStart=s.limitCenterAtZoom([s._lastCenter[0],s._lastCenter[1]],s._lastZoom),s._zoomStart=s._lastZoom,s.onAnimationStart();s._animationStart=q(),s._animationEnd=s._animationStart+y,v?(s._zoomAround=v,s._centerTarget=s.calculateZoomCenter(s._lastCenter,v,s._lastZoom,d)):(s._zoomAround=null,s._centerTarget=l),s._zoomTarget=d,s._animFrame=Nt(s.animate)}else if(s.stopAnimating(),v){var C=s.calculateZoomCenter(s._lastCenter,v,s._lastZoom,d);s.setCenterZoom(C,d,p)}else s.setCenterZoom(l||s.state.center,d,p)}),P(R(s),"setCenterZoomForChildren",function(l,d){s.setCenterZoomTarget(l||s.state.center,d||s.state.zoom,!0)}),P(R(s),"distanceInScreens",function(l,d,p,v){var y=s.state,b=y.width,S=y.height,w=s.latLngToPixel(p,p,v),C=s.latLngToPixel(l,p,v),E=s.latLngToPixel(p,p,d),M=s.latLngToPixel(l,p,d),O=(Math.abs(w[0]-C[0])+Math.abs(E[0]-M[0]))/2/b,k=(Math.abs(w[1]-C[1])+Math.abs(E[1]-M[1]))/2/S;return Math.sqrt(O*O+k*k)}),P(R(s),"animationStep",function(l){if(!s._animationEnd||!s._animationStart||!s._zoomTarget||!s._zoomStart||!s._centerStart||!s._centerTarget)return{centerStep:s.state.center,zoomStep:s.state.zoom};var d=s._animationEnd-s._animationStart,p=Math.max(l-s._animationStart,0),v=dr(p/d),y=(s._zoomTarget-s._zoomStart)*v,b=s._zoomStart+y;if(s._zoomAround){var S=s.calculateZoomCenter(s._centerStart,s._zoomAround,s._zoomStart,b);return{centerStep:S,zoomStep:b}}else{var w=[s._centerStart[0]+(s._centerTarget[0]-s._centerStart[0])*v,s._centerStart[1]+(s._centerTarget[1]-s._centerStart[1])*v];return{centerStep:w,zoomStep:b}}}),P(R(s),"animate",function(l){if(!s._animationEnd||l>=s._animationEnd)s._isAnimating=!1,s.setCenterZoom(s._centerTarget,s._zoomTarget,!0),s.onAnimationStop();else{var d=s.animationStep(l),p=d.centerStep,v=d.zoomStep;s.setCenterZoom(p,v),s._animFrame=Nt(s.animate)}}),P(R(s),"stopAnimating",function(){s._isAnimating&&(s._isAnimating=!1,s.onAnimationStop(),En(s._animFrame))}),P(R(s),"limitCenterAtZoom",function(l,d){var p=s.getBoundsMinMax(d||s.state.zoom);return[Math.max(Math.min(!l||isNaN(l[0])?s.state.center[0]:l[0],p[1]),p[0]),Math.max(Math.min(!l||isNaN(l[1])?s.state.center[1]:l[1],p[3]),p[2])]}),P(R(s),"onAnimationStart",function(){s.props.onAnimationStart&&s.props.onAnimationStart()}),P(R(s),"onAnimationStop",function(){s.props.onAnimationStop&&s.props.onAnimationStop()}),P(R(s),"setCenterZoom",function(l,d,p){p===void 0&&(p=!1);var v=s.limitCenterAtZoom(l,d);if(d&&Math.round(s.state.zoom)!==Math.round(d)){var y=s.tileValues(s.state),b=s.tileValues({center:v,zoom:d,width:s.state.width,height:s.state.height}),S=s.state.oldTiles;s.setState({oldTiles:S.filter(function(A){return A.roundedZoom!==y.roundedZoom}).concat(y)},le);for(var w={},C=b.tileMinX;C<=b.tileMaxX;C++)for(var E=b.tileMinY;E<=b.tileMaxY;E++){var M=C+"-"+E+"-"+b.roundedZoom;w[M]=!1}s._loadTracker=w}s.setState({center:v,zoom:d||s.state.zoom},le);var O=s.props.zoom?s.props.zoom:s._lastZoom,k=s.props.center?s.props.center:s._lastCenter;d&&(p||Math.abs(O-d)>.001||Math.abs(k[0]-v[0])>1e-5||Math.abs(k[1]-v[1])>1e-5)&&(s._lastZoom=d,s._lastCenter=[].concat(v),s.syncToProps(v,d))}),P(R(s),"getBoundsMinMax",function(l){if(s.props.limitBounds==="center")return tt;var d=s.state,p=d.width,v=d.height;if(s._minMaxCache&&s._minMaxCache[0]===l&&s._minMaxCache[1]===p&&s._minMaxCache[2]===v)return s._minMaxCache[3];var y=Math.pow(2,l)*256,b=p>y?0:we(p/512,l),S=v>y?0:Se(Math.pow(2,l)-v/512,l),w=p>y?0:we(Math.pow(2,l)-p/512,l),C=v>y?0:Se(v/512,l),E=[S,C,b,w];return s._minMaxCache=[l,p,v,E],E}),P(R(s),"tileLoaded",function(l){if(s._loadTracker&&l in s._loadTracker){s._loadTracker[l]=!0;var d=Object.values(s._loadTracker).filter(function(p){return!p}).length;d===0&&s.setState({oldTiles:[]},le)}}),P(R(s),"handleTouchStart",function(l){if(s._containerRef&&!(l.target&&vt(l.target,"pigeon-drag-block"))){if(l.touches.length===1){var d=l.touches[0],p=V(s._containerRef,d);if(s.coordsInside(p)&&(s._touchStartPixel=[p],!s.props.twoFingerDrag))if(s.stopAnimating(),s._lastTap&&q()-s._lastTap<Rn){l.preventDefault();var v=s.pixelToLatLng(s._touchStartPixel[0]);s.setCenterZoomTarget(null,Math.max(s.props.minZoom,Math.min(s.state.zoom+1,s.props.maxZoom)),!1,v)}else s._lastTap=q(),s.trackMoveEvents(p)}else if(l.touches.length===2&&s._touchStartPixel){l.preventDefault(),s.stopTrackingMoveEvents(),(s.state.pixelDelta||s.state.zoomDelta)&&s.sendDeltaChange();var y=V(s._containerRef,l.touches[0]),b=V(s._containerRef,l.touches[1]);s._touchStartPixel=[y,b],s._touchStartMidPoint=[(y[0]+b[0])/2,(y[1]+b[1])/2],s._touchStartDistance=Math.sqrt(Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2))}}}),P(R(s),"handleTouchMove",function(l){if(!s._containerRef){s._touchStartPixel=null;return}if(l.touches.length===1&&s._touchStartPixel){var d=l.touches[0],p=V(s._containerRef,d);s.props.twoFingerDrag?s.coordsInside(p)&&s.showWarning("fingers"):(l.preventDefault(),s.trackMoveEvents(p),s.setState({pixelDelta:[p[0]-s._touchStartPixel[0][0],p[1]-s._touchStartPixel[0][1]]},le))}else if(l.touches.length===2&&s._touchStartPixel&&s._touchStartMidPoint&&s._touchStartDistance){var v=s.state,y=v.width,b=v.height,S=v.zoom;l.preventDefault();var w=V(s._containerRef,l.touches[0]),C=V(s._containerRef,l.touches[1]),E=[(w[0]+C[0])/2,(w[1]+C[1])/2],M=[E[0]-s._touchStartMidPoint[0],E[1]-s._touchStartMidPoint[1]],O=Math.sqrt(Math.pow(w[0]-C[0],2)+Math.pow(w[1]-C[1],2)),k=Math.max(s.props.minZoom,Math.min(s.props.maxZoom,S+Math.log2(O/s._touchStartDistance)))-S,A=Math.pow(2,k),$=[(y/2-E[0])*(A-1),(b/2-E[1])*(A-1)];s.setState({zoomDelta:k,pixelDelta:[$[0]+M[0]*A,$[1]+M[1]*A]},le)}}),P(R(s),"handleTouchEnd",function(l){if(!s._containerRef){s._touchStartPixel=null;return}if(s._touchStartPixel){var d=s.props,p=d.zoomSnap,v=d.twoFingerDrag,y=d.minZoom,b=d.maxZoom,S=s.state.zoomDelta,w=s.sendDeltaChange(),C=w.center,E=w.zoom;if(l.touches.length===0)if(v)s.clearWarning();else{var M=s._touchStartPixel[0],O=V(s._containerRef,l.changedTouches[0]);(Math.abs(M[0]-O[0])>Tt||Math.abs(M[1]-O[1])>Tt)&&(!s._secondTouchEnd||q()-s._secondTouchEnd>cr)&&(l.preventDefault(),s.throwAfterMoving(O,C,E)),s._touchStartPixel=null,s._secondTouchEnd=null}else if(l.touches.length===1){l.preventDefault();var k=V(s._containerRef,l.touches[0]);if(s._secondTouchEnd=q(),s._touchStartPixel=[k],s.trackMoveEvents(k),p){var A=s._touchStartMidPoint?s.pixelToLatLng(s._touchStartMidPoint):s.state.center,$;v&&Math.round(s.state.zoom)===Math.round(s.state.zoom+S)?$=Math.round(s.state.zoom):$=S>0?Math.ceil(s.state.zoom):Math.floor(s.state.zoom);var ue=Math.max(y,Math.min($,b));s.setCenterZoomTarget(A,ue,!1,A)}}}}),P(R(s),"handleMouseDown",function(l){if(s._containerRef){var d=V(s._containerRef,l);if(l.button===0&&(!l.target||!vt(l.target,"pigeon-drag-block"))&&s.coordsInside(d))if(s.stopAnimating(),l.preventDefault(),s._lastClick&&q()-s._lastClick<Rn){if(!vt(l.target,"pigeon-click-block")){var p=s.pixelToLatLng(s._mousePosition||d);s.setCenterZoomTarget(null,Math.max(s.props.minZoom,Math.min(s.state.zoom+1,s.props.maxZoom)),!1,p)}}else s._lastClick=q(),s._mouseDown=!0,s._dragStart=d,s.trackMoveEvents(d)}}),P(R(s),"handleMouseMove",function(l){s._containerRef&&(s._mousePosition=V(s._containerRef,l),s._mouseDown&&s._dragStart&&(s.trackMoveEvents(s._mousePosition),s.setState({pixelDelta:[s._mousePosition[0]-s._dragStart[0],s._mousePosition[1]-s._dragStart[1]]},le)))}),P(R(s),"handleMouseUp",function(l){if(!s._containerRef){s._mouseDown=!1;return}var d=s.state.pixelDelta;if(s._mouseDown){s._mouseDown=!1;var p=V(s._containerRef,l);if(s.props.onClick&&(!l.target||!vt(l.target,"pigeon-click-block"))&&(!d||Math.abs(d[0])+Math.abs(d[1])<=Tt)){var v=s.pixelToLatLng(p);s.props.onClick({event:l,latLng:v,pixel:p}),s.setState({pixelDelta:void 0},le)}else{var y=s.sendDeltaChange(),b=y.center,S=y.zoom;s.throwAfterMoving(p,b,S)}}}),P(R(s),"stopTrackingMoveEvents",function(){s._moveEvents=[]}),P(R(s),"trackMoveEvents",function(l){var d=q();(s._moveEvents.length===0||d-s._moveEvents[s._moveEvents.length-1].timestamp>40)&&(s._moveEvents.push({timestamp:d,coords:l}),s._moveEvents.length>2&&s._moveEvents.shift())}),P(R(s),"throwAfterMoving",function(l,d,p){var v=s.state,y=v.width,b=v.height,S=s.props.animate,w=q(),C=s._moveEvents.shift();if(C&&S){var E=Math.max(w-C.timestamp,1),M=[(l[0]-C.coords[0])/E*120,(l[1]-C.coords[1])/E*120],O=Math.sqrt(M[0]*M[0]+M[1]*M[1]);if(O>lr){var k=Math.sqrt(y*y+b*b),A=or*O/k,$=we(Ae(d[1],p)-M[0]/256,p),ue=Se(Fe(d[0],p)-M[1]/256,p);s.setCenterZoomTarget([ue,$],p,!1,null,A)}}s.stopTrackingMoveEvents()}),P(R(s),"sendDeltaChange",function(){var l=s.state,d=l.center,p=l.zoom,v=l.pixelDelta,y=l.zoomDelta,b=d[0],S=d[1];return(v||y!==0)&&(S=we(Ae(d[1],p+y)-(v?v[0]/256:0),p+y),b=Se(Fe(d[0],p+y)-(v?v[1]/256:0),p+y),s.setCenterZoom([b,S],p+y)),s.setState({pixelDelta:void 0,zoomDelta:0},le),{center:s.limitCenterAtZoom([b,S],p+y),zoom:p+y}}),P(R(s),"getBounds",function(l,d){l===void 0&&(l=s.state.center),d===void 0&&(d=s.zoomPlusDelta());var p=s.state,v=p.width,y=p.height;return{ne:s.pixelToLatLng([v-1,0],l,d),sw:s.pixelToLatLng([0,y-1],l,d)}}),P(R(s),"syncToProps",function(l,d){l===void 0&&(l=s.state.center),d===void 0&&(d=s.state.zoom);var p=s.props.onBoundsChanged;if(p){var v=s.getBounds(l,d);p({center:l,zoom:d,bounds:v,initial:!s._boundsSynced}),s._boundsSynced=!0}}),P(R(s),"handleWheel",function(l){var d=s.props,p=d.mouseEvents,v=d.metaWheelZoom,y=d.zoomSnap,b=d.animate;if(p)if(!v||l.metaKey||l.ctrlKey){l.preventDefault();var S=-l.deltaY/ur;if(!y&&s._zoomTarget){var w=s._zoomTarget-s.state.zoom;s.zoomAroundMouse(S+w,l)}else b?s.zoomAroundMouse(S,l):(!s._lastWheel||q()-s._lastWheel>Pn)&&(s._lastWheel=q(),s.zoomAroundMouse(S,l))}else s.showWarning("wheel")}),P(R(s),"showWarning",function(l){(!s.state.showWarning||s.state.warningType!==l)&&s.setState({showWarning:!0,warningType:l}),s._warningClearTimeout&&window.clearTimeout(s._warningClearTimeout),s._warningClearTimeout=window.setTimeout(s.clearWarning,fr)}),P(R(s),"clearWarning",function(){s.state.showWarning&&s.setState({showWarning:!1})}),P(R(s),"zoomAroundMouse",function(l,d){if(s._containerRef){var p=s.state.zoom,v=s.props,y=v.minZoom,b=v.maxZoom,S=v.zoomSnap;if(s._mousePosition=V(s._containerRef,d),!(!s._mousePosition||p===y&&l<0||p===b&&l>0)){var w=s.pixelToLatLng(s._mousePosition),C=p+l;S&&(C=l<0?Math.floor(C):Math.ceil(C)),C=Math.max(y,Math.min(C,b)),s.setCenterZoomTarget(null,C,!1,w)}}}),P(R(s),"zoomPlusDelta",function(){return s.state.zoom+s.state.zoomDelta}),P(R(s),"pixelToLatLng",function(l,d,p){d===void 0&&(d=s.state.center),p===void 0&&(p=s.zoomPlusDelta());var v=s.state,y=v.width,b=v.height,S=v.pixelDelta,w=[(l[0]-y/2-(S?S[0]:0))/256,(l[1]-b/2-(S?S[1]:0))/256],C=Ae(d[1],p)+w[0],E=Fe(d[0],p)+w[1];return[Math.max(tt[0],Math.min(tt[1],Se(E,p))),Math.max(tt[2],Math.min(tt[3],we(C,p)))]}),P(R(s),"latLngToPixel",function(l,d,p){d===void 0&&(d=s.state.center),p===void 0&&(p=s.zoomPlusDelta());var v=s.state,y=v.width,b=v.height,S=v.pixelDelta,w=Ae(d[1],p),C=Fe(d[0],p),E=Ae(l[1],p),M=Fe(l[0],p);return[(E-w)*256+y/2+(S?S[0]:0),(M-C)*256+b/2+(S?S[1]:0)]}),P(R(s),"calculateZoomCenter",function(l,d,p,v){var y=s.state,b=y.width,S=y.height,w=s.latLngToPixel(d,l,p),C=s.latLngToPixel(d,l,v),E=s.pixelToLatLng([b/2+C[0]-w[0],S/2+C[1]-w[1]],l,v);return s.limitCenterAtZoom(E,v)}),P(R(s),"setRef",function(l){s._containerRef=l}),s.syncToProps=rr(s.syncToProps,hr),s._lastZoom=(r=(a=i.defaultZoom)!==null&&a!==void 0?a:i.zoom)!==null&&r!==void 0?r:14,s._lastCenter=(o=(u=i.defaultCenter)!==null&&u!==void 0?u:i.center)!==null&&o!==void 0?o:[0,0],s.state={zoom:s._lastZoom,center:s._lastCenter,width:(h=(c=i.width)!==null&&c!==void 0?c:i.defaultWidth)!==null&&h!==void 0?h:-1,height:(g=(m=i.height)!==null&&m!==void 0?m:i.defaultHeight)!==null&&g!==void 0?g:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},s}var t=e.prototype;return t.componentDidMount=function(){var r=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),(!this.props.width||!this.props.height)&&(this.updateWidthHeight()||Nt(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),typeof window.ResizeObserver<"u"&&(this._resizeObserver=new window.ResizeObserver(function(){r.updateWidthHeight()}),this._resizeObserver.observe(this._containerRef))},t.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),(!this.props.width||!this.props.height)&&this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},t.componentDidUpdate=function(r){var a;if(this.props.mouseEvents!==r.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==r.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==r.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==r.height&&this.setState({height:this.props.height}),!(!this.props.center&&!this.props.zoom)&&!((!this.props.center||this.props.center[0]===(r==null||(a=r.center)===null||a===void 0?void 0:a[0])&&this.props.center[1]===r.center[1])&&this.props.zoom===r.zoom)){var o=this._isAnimating?this._centerTarget:this.state.center,u=this._isAnimating?this._zoomTarget:this.state.zoom;if(o&&u){var h,c,g=(h=this.props.center)!==null&&h!==void 0?h:o,m=(c=this.props.zoom)!==null&&c!==void 0?c:u;(Math.abs(m-u)>.001||Math.abs(g[0]-o[0])>1e-4||Math.abs(g[1]-o[1])>1e-4)&&this.setCenterZoomTarget(g,m,!0)}}},t.coordsInside=function(r){var a=this.state,o=a.width,u=a.height;if(r[0]<0||r[1]<0||r[0]>=o||r[1]>=u)return!1;var h=this._containerRef;if(h){var c=ls(h),g=document.elementFromPoint(r[0]+c.x,r[1]+c.y);return h===g||h.contains(g)}else return!1},t.tileValues=function(r){var a=r.center,o=r.zoom,u=r.pixelDelta,h=r.zoomDelta,c=r.width,g=r.height,m=Math.round(o+(h||0)),s=o+(h||0)-m,l=Math.pow(2,s),d=c/l,p=g/l,v=Ae(a[1],m)-(u?u[0]/256/l:0),y=Fe(a[0],m)-(u?u[1]/256/l:0),b=d/2/256,S=p/2/256,w=Math.floor(v-b),C=Math.floor(v+b),E=Math.floor(y-S),M=Math.floor(y+S);return{tileMinX:w,tileMaxX:C,tileMinY:E,tileMaxY:M,tileCenterX:v,tileCenterY:y,roundedZoom:m,zoomDelta:h||0,scaleWidth:d,scaleHeight:p,scale:l}},t.renderTiles=function(){for(var r=this,a=this.state,o=a.oldTiles,u=a.width,h=a.height,c=this.props.dprs,g=this.props.provider||ar,m=this.tileValues(this.state),s=m.tileMinX,l=m.tileMaxX,d=m.tileMinY,p=m.tileMaxY,v=m.tileCenterX,y=m.tileCenterY,b=m.roundedZoom,S=m.scaleWidth,w=m.scaleHeight,C=m.scale,E=[],M=0;M<o.length;M++){var O=o[M],k=O.roundedZoom-b;if(!(Math.abs(k)>4||k===0))for(var A=1/Math.pow(2,k),$=-(s-O.tileMinX*A)*256,ue=-(d-O.tileMinY*A)*256,Ge=Math.max(O.tileMinX,0),ve=Math.max(O.tileMinY,0),ye=Math.min(O.tileMaxX,Math.pow(2,O.roundedZoom)-1),Te=Math.min(O.tileMaxY,Math.pow(2,O.roundedZoom)-1),re=Ge;re<=ye;re++)for(var U=ve;U<=Te;U++)E.push({key:re+"-"+U+"-"+O.roundedZoom,url:g(re,U,O.roundedZoom),srcSet:Ln(c,g,re,U,O.roundedZoom),left:$+(re-O.tileMinX)*256*A,top:ue+(U-O.tileMinY)*256*A,width:256*A,height:256*A,active:!1})}for(var ae=Math.max(s,0),be=Math.max(d,0),ft=Math.min(l,Math.pow(2,b)-1),cs=Math.min(p,Math.pow(2,b)-1),Ne=ae;Ne<=ft;Ne++)for(var ke=be;ke<=cs;ke++)E.push({key:Ne+"-"+ke+"-"+b,url:g(Ne,ke,b),srcSet:Ln(c,g,Ne,ke,b),left:(Ne-s)*256,top:(ke-d)*256,width:256,height:256,active:!0});var fs={width:S,height:w,position:"absolute",top:"calc((100% - "+h+"px) / 2)",left:"calc((100% - "+u+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+C+", "+C+")",transformOrigin:"top left"},ds=this.props.boxClassname||"pigeon-tiles-box",gs=-((v-s)*256-S/2),ps=-((y-d)*256-w/2),ms={position:"absolute",width:(l-s+1)*256,height:(p-d+1)*256,willChange:"transform",transform:"translate("+gs+"px, "+ps+"px)"},vs=this.props.tileComponent;return D.createElement("div",{style:fs,className:ds},D.createElement("div",{className:"pigeon-tiles",style:ms},E.map(function(Mt){return D.createElement(vs,{key:Mt.key,tile:Mt,tileLoaded:function(){return r.tileLoaded(Mt.key)}})})))},t.renderOverlays=function(){var r=this,a=this.state,o=a.width,u=a.height,h=a.center,c={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:h,width:o,height:u},g=D.Children.map(this.props.children,function(s){if(!s)return null;if(!D.isValidElement(s))return s;var l=s.props,d=l.anchor,p=l.position,v=l.offset,y=r.latLngToPixel(d||p||h);return D.cloneElement(s,{left:y[0]-(v?v[0]:0),top:y[1]-(v?v[1]:0),latLngToPixel:r.latLngToPixel,pixelToLatLng:r.pixelToLatLng,setCenterZoom:r.setCenterZoomForChildren,mapProps:r.props,mapState:c})}),m={position:"absolute",width:o,height:u,top:"calc((100% - "+u+"px) / 2)",left:"calc((100% - "+o+"px) / 2)"};return D.createElement("div",{className:"pigeon-overlays",style:m},g)},t.renderAttribution=function(){var r=this.props,a=r.attribution,o=r.attributionPrefix;if(a===!1)return null;var u={position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"},h={color:"#0078A8",textDecoration:"none"};return D.createElement("div",{key:"attr",className:"pigeon-attribution",style:u},o===!1?null:D.createElement("span",null,o||D.createElement("a",{href:"https://pigeon-maps.js.org/",style:h,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),a||D.createElement("span",null," © ",D.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:h,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},t.renderWarning=function(){var r=this.props,a=r.metaWheelZoom,o=r.metaWheelZoomWarning,u=r.twoFingerDrag,h=r.twoFingerDragWarning,c=r.warningZIndex,g=this.state,m=g.showWarning,s=g.warningType,l=g.width,d=g.height;if(a&&o||u&&h){var p={position:"absolute",top:0,left:0,width:l,height:d,overflow:"hidden",pointerEvents:"none",opacity:m?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:c},v=typeof window<"u"&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"ctrl",y=s==="fingers"?h:o;return D.createElement("div",{className:"pigeon-overlay-warning",style:p},y.replace("META",v))}else return null},t.render=function(){var r=this.props,a=r.touchEvents,o=r.twoFingerDrag,u=this.state,h=u.width,c=u.height,g={width:this.props.width?h:"100%",height:this.props.height?c:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:a?o?"pan-x pan-y":"none":"auto"},m=!!(h&&c);return D.createElement("div",{style:g,ref:this.setRef,dir:"ltr"},m&&this.renderTiles(),m&&this.renderOverlays(),m&&this.renderAttribution(),m&&this.renderWarning())},e}(T.Component);P(hs,"defaultProps",{animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[],tileComponent:gr});function pr(n){var e=typeof n.width<"u"?n.width:typeof n.height<"u"?n.height*29/34:29,t=typeof n.height<"u"?n.height:typeof n.width<"u"?n.width*34/29:34,i=T.useState(n.hover||!1),r=i[0],a=i[1],o=typeof n.hover>"u"?r:n.hover,u=n.color||"#93C0D0",h=function(g){return{event:g,anchor:n.anchor,payload:n.payload}};return D.createElement("div",{style:xe({position:"absolute",transform:"translate("+(n.left-e/2)+"px, "+(n.top-(t-1))+"px)",filter:o?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},n.style||{}),className:n.className?n.className+" pigeon-click-block":"pigeon-click-block",onClick:n.onClick?function(c){return n.onClick(h(c))}:null,onContextMenu:n.onContextMenu?function(c){return n.onContextMenu(h(c))}:null,onMouseOver:function(g){n.onMouseOver&&n.onMouseOver(h(g)),a(!0)},onMouseOut:function(g){n.onMouseOut&&n.onMouseOut(h(g)),a(!1)}},n.children||D.createElement("svg",{width:e,height:t,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},D.createElement("g",{style:{pointerEvents:"auto"}},D.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:u,stroke:"white",strokeWidth:"4"}),D.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:o?.98:.6}))))}var Tn={position:"absolute",top:10,left:10},yt={width:28,height:28,borderRadius:2,boxShadow:"0 1px 4px -1px rgba(0,0,0,.3)",background:"white",lineHeight:"26px",fontSize:"20px",fontWeight:700,color:"#666",marginBottom:1,cursor:"pointer",border:"none",display:"block",outline:"none"};function mr(n){var e=n.style,t=n.buttonStyle,i=n.setCenterZoom,r=n.mapState,a=n.mapProps;return D.createElement("div",{className:"pigeon-zoom-buttons pigeon-drag-block",style:e?xe(xe({},Tn),e):Tn},D.createElement("button",{className:"pigeon-zoom-in",type:"button",style:t?xe(xe({},yt),t):yt,onClick:function(){return i(r.center,Math.min(r.zoom+1,a.maxZoom))}},"+"),D.createElement("button",{className:"pigeon-zoom-out",type:"button",style:t?xe(xe({},yt),t):yt,onClick:function(){return i(r.center,Math.max(r.zoom-1,a.minZoom))}},"–"))}const Nn=({onLocationSelect:n,initialLocation:e})=>{const[t,i]=T.useState(e||[55.7558,37.6173]),[r,a]=T.useState(10),[o,u]=T.useState(e),h=({latLng:c})=>{u(c),n(c)};return x.jsxs(hs,{height:300,center:t,zoom:r,onBoundsChanged:({center:c,zoom:g})=>{i(c),a(g)},onClick:h,children:[o&&x.jsx(pr,{width:50,anchor:o}),x.jsx(mr,{})]})},vr={name:"",pointA:sn,pointB:sn,hourA:"00:00",hourB:"00:00"},yr=({setCurrentPage:n})=>{const{t:e}=Yt(),[t,i]=T.useState(vr),[r,a]=T.useState(!1),[o,u]=T.useState(""),[h,c]=T.useState(""),[g,m]=T.useState(!1),[s,l]=T.useState(!1),[d,p]=T.useState(!1),[v,y]=T.useState(""),b=M=>O=>{const k=O.target.value;i(A=>({...A,[M]:k}))},S=M=>{if(M.preventDefault(),!o||!h){y("Пожалуйста, укажите обе точки (А и Б)");return}qt(Wn,{data:{...t}}).then(O=>{!O.success&&!O.id?y(O.message):n("home")})},w=(M,O)=>{p(!0),y(""),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async k=>{const{latitude:A,longitude:$}=k.coords;try{const Ge=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${A}&lon=${$}`)).json();M(Ge.display_name),b(O)({target:{value:[A,$]}})}catch{y("Не удалось получить название местоположения")}finally{p(!1)}},k=>{y("Не удалось получить местоположение"),p(!1)}):(y("Геолокация не поддерживается вашим браузером"),p(!1))},C=async(M,O,k)=>{p(!0),y("");try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${M[0]}&lon=${M[1]}`)).json();O($.display_name),b(k)({target:{value:M}})}catch{y("Не удалось получить название местоположения")}finally{p(!1)}},E="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700";return x.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"20px"},className:"mx-auto",children:[x.jsx("input",{type:"text",value:t.name||"",onChange:b("name"),placeholder:e("Route name"),style:{padding:"10px",borderRadius:"5px",border:"1px solid #dbdbdb"},required:!0}),x.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 ",children:[e("Select time from A to B"),":"]}),x.jsx("div",{className:"relative",children:x.jsx("input",{type:"time",id:"timeA",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"00:00",max:"24:00",value:t.hourA||"00:00",onChange:b("hourA"),required:!0})}),x.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 ",children:[e("Select time from B to A"),":"]}),x.jsx("div",{className:"relative",children:x.jsx("input",{type:"time",id:"timeB",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"00:00",max:"24:00",value:t.hourB||"00:00",onChange:b("hourB"),required:!0})}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[x.jsxs("div",{style:{display:"flex",gap:"10px"},children:[x.jsx("button",{className:E,type:"button",onClick:()=>w(u,"pointA"),style:{},disabled:d,children:d?"Загрузка...":"📍"}),x.jsx("button",{className:E,type:"button",onClick:()=>m(!g),style:{},children:"🗺️"})]}),g&&x.jsx(Nn,{onLocationSelect:M=>C(M,u,"pointA")}),x.jsxs("div",{style:{display:"flex",gap:"10px"},children:[x.jsx("button",{type:"button",onClick:()=>w(c,"pointB"),style:{},className:E,disabled:d,children:d?"Загрузка...":"📍"}),x.jsx("button",{className:E,type:"button",onClick:()=>l(!s),style:{},children:"🗺️"})]}),s&&x.jsx(Nn,{onLocationSelect:M=>C(M,c,"pointB")})]}),v&&x.jsx("p",{style:{color:"red"},children:v}),x.jsx("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:e("Create route")}),x.jsx(qn,{isOpen:r,onClose:()=>a(!1),location})]})},br={en:{translation:{welcome:"Welcome to routeCab app!",changeLanguage:"Change language",currentLanguage:"Current language",loading:"Loading"}},es:{translation:{welcome:"¡Bienvenido a nuestra routeCab!",changeLanguage:"Cambiar idioma",currentLanguage:"Idioma actual"}},fr:{translation:{welcome:"Bienvenue dans notre routeCab!",changeLanguage:"Changer de langue",currentLanguage:"Langue actuelle"}},ru:{translation:{welcome:"Добро пожаловать",changeLanguage:"Изменить язык",currentLanguage:"Текущий язык",loading:"Загрузка"}}},xr=T.lazy(()=>Ss(()=>import("./PostDetail-BOfpna58.js"),__vite__mapDeps([0,1,2,3]))),wr=Vn.get("lang");W.use(Fs).init({resources:br,lng:wr,fallbackLng:"en",interpolation:{escapeValue:!1}});const Sr=()=>{const[n,e]=T.useState("home"),[t,i]=T.useState(null),{data:r}=Cs();if(Yt(),r.successMessage)return x.jsx("div",{className:"loading",children:x.jsx("div",{className:"loader-wrap welcome-loader",children:x.jsx("div",{children:x.jsx("div",{children:x.jsxs("div",{className:"p-4 text-sm text-gray-800 rounded-lg bg-gray-50 dark:bg-gray-800 dark:text-gray-300",role:"alert",children:[x.jsx("span",{className:"font-medium"})," Soon, stay tuned add me ",x.jsx("a",{href:"https://t.me/routeCabBot",children:"t.me/routeCabBot"})]})})})})});const a=u=>{i(u),e("postDetail")},o=()=>{switch(n){case"home":return x.jsxs(x.Fragment,{children:[x.jsx(et,{title:"Route cab",setCurrentPage:e}),x.jsx(sr,{onClick:a})]});case"newPost":return x.jsxs(x.Fragment,{children:[x.jsx(et,{title:"Create new route",setCurrentPage:e}),x.jsx(yr,{setCurrentPage:e})]});case"profile":return x.jsxs(x.Fragment,{children:[x.jsx(et,{title:"Profile",setCurrentPage:e}),x.jsx(gi,{})]});case"settings":return x.jsxs(x.Fragment,{children:[x.jsx(et,{title:"Settings",setCurrentPage:e}),x.jsx(fi,{setCurrentPage:e})]});case"postDetail":return x.jsxs(x.Fragment,{children:[x.jsx(et,{title:`Route ${(t==null?void 0:t.name)||"Noname"}`,setCurrentPage:e}),x.jsx(T.Suspense,{fallback:x.jsx(Os,{}),children:x.jsx(xr,{post:t,setCurrentPage:e})})]});default:return null}};return x.jsxs("div",{style:{backgroundColor:"#fafafa",minHeight:"100vh"},children:[x.jsx("main",{style:{maxWidth:"975px",margin:"0 auto",padding:"80px 20px 60px"},children:o()}),x.jsx(di,{setCurrentPage:e})]})},Cr=new Ii,Or=()=>x.jsx(Wi,{client:Cr,children:x.jsx(Sr,{})}),Er=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));export{Er as A,hs as M,mr as Z,pr as a};
