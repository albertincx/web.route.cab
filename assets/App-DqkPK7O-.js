const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostDetail-C7YiIY9U.js","assets/index-B2QiXZax.js","assets/index-DKb3rbVF.css","assets/PostDetail--j4rfmDn.css"])))=>i.map(i=>d[i]);
var _s=Object.defineProperty;var an=n=>{throw TypeError(n)};var js=(n,e,t)=>e in n?_s(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var on=(n,e,t)=>js(n,typeof e!="symbol"?e+"":e,t),Lt=(n,e,t)=>e.has(n)||an("Cannot "+t);var g=(n,e,t)=>(Lt(n,e,"read from private field"),t?t.call(n):e.get(n)),_=(n,e,t)=>e.has(n)?an("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),L=(n,e,t,s)=>(Lt(n,e,"write to private field"),s?s.call(n,t):e.set(n,t),t),k=(n,e,t)=>(Lt(n,e,"access private method"),t);var gt=(n,e,t,s)=>({set _(r){L(n,e,r,t)},get _(){return g(n,e,s)}});import{r as T,g as ks,R as F,A as un,a as As,b as Xt,c as Ns,d as Ds,e as Fs,p as qn,j as w,f as Is,y as $s,D as ln,_ as Us,L as zs}from"./index-B2QiXZax.js";var Ws={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const cn=n=>{let e;const t=new Set,s=(d,p)=>{const i=typeof d=="function"?d(e):d;if(!Object.is(i,e)){const l=e;e=p??(typeof i!="object"||i===null)?i:Object.assign({},e,i),t.forEach(f=>f(e,l))}},r=()=>e,c={setState:s,getState:r,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d)),destroy:()=>{(Ws?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},h=e=n(s,r,c);return c},Qs=n=>n?cn(n):cn;var Yn={exports:{}},Jn={},Gn={exports:{}},Xn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=T;function Ks(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zs=typeof Object.is=="function"?Object.is:Ks,Bs=Je.useState,Hs=Je.useEffect,Vs=Je.useLayoutEffect,qs=Je.useDebugValue;function Ys(n,e){var t=e(),s=Bs({inst:{value:t,getSnapshot:e}}),r=s[0].inst,a=s[1];return Vs(function(){r.value=t,r.getSnapshot=e,Tt(r)&&a({inst:r})},[n,t,e]),Hs(function(){return Tt(r)&&a({inst:r}),n(function(){Tt(r)&&a({inst:r})})},[n]),qs(t),t}function Tt(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zs(n,t)}catch{return!0}}function Js(n,e){return e()}var Gs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Js:Ys;Xn.useSyncExternalStore=Je.useSyncExternalStore!==void 0?Je.useSyncExternalStore:Gs;Gn.exports=Xn;var Xs=Gn.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mt=T,ei=Xs;function ti(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ni=typeof Object.is=="function"?Object.is:ti,si=ei.useSyncExternalStore,ii=Mt.useRef,ri=Mt.useEffect,ai=Mt.useMemo,oi=Mt.useDebugValue;Jn.useSyncExternalStoreWithSelector=function(n,e,t,s,r){var a=ii(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=ai(function(){function c(l){if(!h){if(h=!0,d=l,l=s(l),r!==void 0&&o.hasValue){var f=o.value;if(r(f,l))return p=f}return p=l}if(f=p,ni(d,l))return f;var m=s(l);return r!==void 0&&r(f,m)?f:(d=l,p=m)}var h=!1,d,p,i=t===void 0?null:t;return[function(){return c(e())},i===null?void 0:function(){return c(i())}]},[e,t,s,r]);var u=si(n,a[0],a[1]);return ri(function(){o.hasValue=!0,o.value=u},[u]),oi(u),u};Yn.exports=Jn;var ui=Yn.exports;const li=ks(ui);var es={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:ci}=F,{useSyncExternalStoreWithSelector:hi}=li;let hn=!1;const fi=n=>n;function di(n,e=fi,t){(es?"production":void 0)!=="production"&&t&&!hn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),hn=!0);const s=hi(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return ci(s),s}const fn=n=>{(es?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Qs(n):n,t=(s,r)=>di(e,s,r);return Object.assign(t,e),t},gi=n=>n?fn(n):fn,ts=gi(n=>({data:{},setData:e=>{n(t=>({...t,data:{...t.data,...e}}))}}));function pi(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const dn={};function Dt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&dn[e[0]]||(typeof e[0]=="string"&&(dn[e[0]]=new Date),pi(...e))}const ns=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function gn(n,e,t){n.loadNamespaces(e,ns(n,t))}function pn(n,e,t,s){typeof t=="string"&&(t=[t]),t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,ns(n,s))}function mi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=e.languages[0],r=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(u,c)=>{const h=e.services.backendConnector.state[`${u}|${c}`];return h===-1||h===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(s,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(s,n)&&(!r||o(a,n)))}function vi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Dt("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,n))return!1}}):mi(n,e,t)}const yi=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bi={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},xi=n=>bi[n],Si=n=>n.replace(yi,xi);let Ft={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Si};function wi(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ft={...Ft,...n}}function Ci(){return Ft}let ss;function Oi(n){ss=n}function Mi(){return ss}const Ei={type:"3rdParty",init(n){wi(n.options.react),Oi(n)}},Ri=T.createContext();class Pi{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Li=(n,e)=>{const t=T.useRef();return T.useEffect(()=>{t.current=n},[n,e]),t.current};function is(n,e,t,s){return n.getFixedT(e,t,s)}function Ti(n,e,t,s){return T.useCallback(is(n,e,t,s),[n,e,t,s])}function en(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:s,defaultNS:r}=T.useContext(Ri)||{},a=t||s||Mi();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Pi),!a){Dt("You will need to pass in an i18next instance by using initReactI18next");const x=(P,M)=>typeof M=="string"?M:M&&typeof M=="object"&&typeof M.defaultValue=="string"?M.defaultValue:Array.isArray(P)?P[P.length-1]:P,C=[x,{},!1];return C.t=x,C.i18n={},C.ready=!1,C}a.options.react&&a.options.react.wait!==void 0&&Dt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Ci(),...a.options.react,...e},{useSuspense:u,keyPrefix:c}=o;let h=r||a.options&&a.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);const d=(a.isInitialized||a.initializedStoreOnce)&&h.every(x=>vi(x,a,o)),p=Ti(a,e.lng||null,o.nsMode==="fallback"?h:h[0],c),i=()=>p,l=()=>is(a,e.lng||null,o.nsMode==="fallback"?h:h[0],c),[f,m]=T.useState(i);let v=h.join();e.lng&&(v=`${e.lng}${v}`);const y=Li(v),b=T.useRef(!0);T.useEffect(()=>{const{bindI18n:x,bindI18nStore:C}=o;b.current=!0,!d&&!u&&(e.lng?pn(a,e.lng,h,()=>{b.current&&m(l)}):gn(a,h,()=>{b.current&&m(l)})),d&&y&&y!==v&&b.current&&m(l);function P(){b.current&&m(l)}return x&&a&&a.on(x,P),C&&a&&a.store.on(C,P),()=>{b.current=!1,x&&a&&x.split(" ").forEach(M=>a.off(M,P)),C&&a&&C.split(" ").forEach(M=>a.store.off(M,P))}},[a,v]),T.useEffect(()=>{b.current&&d&&m(i)},[a,c,d]);const S=[f,a,d];if(S.t=f,S.i18n=a,S.ready=d,d||!d&&!u)return S;throw new Promise(x=>{e.lng?pn(a,e.lng,h,()=>x()):gn(a,h,()=>x())})}const _i={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class xt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||_i,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new xt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xt(this.logger,e)}}var ie=new xt;class Et{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const r=this.observers[s].get(t)||0;this.observers[s].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),r=1;r<t;r++)s[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[u,c]=o;for(let h=0;h<c;h++)u(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[u,c]=o;for(let h=0;h<c;h++)u.apply(u,[e,...s])})}}function et(){let n,e;const t=new Promise((s,r)=>{n=s,e=r});return t.resolve=n,t.reject=e,t}function mn(n){return n==null?"":""+n}function ji(n,e,t){n.forEach(s=>{e[s]&&(t[s]=e[s])})}const ki=/###/g;function it(n,e,t){function s(u){return u&&u.indexOf("###")>-1?u.replace(ki,"."):u}function r(){return!n||typeof n=="string"}const a=typeof e!="string"?e:e.split(".");let o=0;for(;o<a.length-1;){if(r())return{};const u=s(a[o]);!n[u]&&t&&(n[u]=new t),Object.prototype.hasOwnProperty.call(n,u)?n=n[u]:n={},++o}return r()?{}:{obj:n,k:s(a[o])}}function vn(n,e,t){const{obj:s,k:r}=it(n,e,Object);if(s!==void 0||e.length===1){s[r]=t;return}let a=e[e.length-1],o=e.slice(0,e.length-1),u=it(n,o,Object);for(;u.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),u=it(n,o,Object),u&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t}function Ai(n,e,t,s){const{obj:r,k:a}=it(n,e,Object);r[a]=r[a]||[],r[a].push(t)}function St(n,e){const{obj:t,k:s}=it(n,e);if(t)return t[s]}function Ni(n,e,t){const s=St(n,t);return s!==void 0?s:St(e,t)}function rs(n,e,t){for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?typeof n[s]=="string"||n[s]instanceof String||typeof e[s]=="string"||e[s]instanceof String?t&&(n[s]=e[s]):rs(n[s],e[s],t):n[s]=e[s]);return n}function ke(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Di={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Fi(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>Di[e]):n}class Ii{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const $i=[" ",",","?","!",";"],Ui=new Ii(20);function zi(n,e,t){e=e||"",t=t||"";const s=$i.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(s.length===0)return!0;const r=Ui.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(n);if(!a){const o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(a=!0)}return a}function It(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const s=e.split(t);let r=n;for(let a=0;a<s.length;){if(!r||typeof r!="object")return;let o,u="";for(let c=a;c<s.length;++c)if(c!==a&&(u+=t),u+=s[c],o=r[u],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;a+=c-a+1;break}r=o}return r}function wt(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class yn extends Et{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],s&&(Array.isArray(s)?u.push(...s):typeof s=="string"&&a?u.push(...s.split(a)):u.push(s)));const c=St(this.data,u);return!c&&!t&&!s&&e.indexOf(".")>-1&&(e=u[0],t=u[1],s=u.slice(2).join(".")),c||!o||typeof s!="string"?c:It(this.data&&this.data[e]&&this.data[e][t],s,a)}addResource(e,t,s,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];s&&(u=u.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(u=e.split("."),r=t,t=u[1]),this.addNamespaces(t),vn(this.data,u,r),a.silent||this.emit("added",e,t,s,r)}addResources(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in s)(typeof s[a]=="string"||Array.isArray(s[a]))&&this.addResource(e,t,a,s[a],{silent:!0});r.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),r=s,s=t,t=u[1]),this.addNamespaces(t);let c=St(this.data,u)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),r?rs(c,s,a):c={...c,...s},vn(this.data,u,c),o.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var as={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,r){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,s,r))}),e}};const bn={};class Ct extends Et{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ji(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const s=this.resolve(e,t);return s&&s.res!==void 0}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!zi(e,s,r);if(o&&!u){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:a};const h=e.split(s);(s!==r||s===r&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(r)}return typeof a=="string"&&(a=[a]),{key:e,namespaces:a}}translate(e,t,s){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],t),c=u[u.length-1],h=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(d){const x=t.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${x}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${x}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:o}const p=this.resolve(e,t);let i=p&&p.res;const l=p&&p.usedKey||o,f=p&&p.exactUsedKey||o,m=Object.prototype.toString.apply(i),v=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&i&&(typeof i!="string"&&typeof i!="boolean"&&typeof i!="number")&&v.indexOf(m)<0&&!(typeof y=="string"&&Array.isArray(i))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(l,i,{...t,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(p.res=x,p.usedParams=this.getUsedParamsDetails(t),p):x}if(a){const x=Array.isArray(i),C=x?[]:{},P=x?f:l;for(const M in i)if(Object.prototype.hasOwnProperty.call(i,M)){const O=`${P}${a}${M}`;C[M]=this.translate(O,{...t,joinArrays:!1,ns:u}),C[M]===O&&(C[M]=i[M])}i=C}}else if(b&&typeof y=="string"&&Array.isArray(i))i=i.join(y),i&&(i=this.extendTranslation(i,e,t,s));else{let x=!1,C=!1;const P=t.count!==void 0&&typeof t.count!="string",M=Ct.hasDefaultValue(t),O=P?this.pluralResolver.getSuffix(h,t.count,t):"",j=t.ordinal&&P?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",N=P&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),$=N&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${O}`]||t[`defaultValue${j}`]||t.defaultValue;!this.isValidLookup(i)&&M&&(x=!0,i=$),this.isValidLookup(i)||(C=!0,i=o);const Xe=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:i,ve=M&&$!==i&&this.options.updateMissing;if(C||x||ve){if(this.logger.log(ve?"updateKey":"missingKey",h,c,o,ve?$:i),a){const U=this.resolve(o,{...t,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Te&&Te[0])for(let U=0;U<Te.length;U++)ye.push(Te[U]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(t.lng||this.language):ye.push(t.lng||this.language);const re=(U,ae,be)=>{const dt=M&&be!==i?be:Xe;this.options.missingKeyHandler?this.options.missingKeyHandler(U,c,ae,dt,ve,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,c,ae,dt,ve,t),this.emit("missingKey",U,c,ae,i)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?ye.forEach(U=>{const ae=this.pluralResolver.getSuffixes(U,t);N&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(be=>{re([U],o+be,t[`defaultValue${be}`]||$)})}):re(ye,o,$))}i=this.extendTranslation(i,e,t,p,s),C&&i===o&&this.options.appendNamespaceToMissingKey&&(i=`${c}:${o}`),(C||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?i=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,x?i:void 0):i=this.options.parseMissingKeyHandler(i))}return r?(p.res=i,p.usedParams=this.getUsedParamsDetails(t),p):i}extendTranslation(e,t,s,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const h=typeof e=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const i=e.match(this.interpolator.nestingRegexp);d=i&&i.length}let p=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,s.lng||this.language,s),h){const i=e.match(this.interpolator.nestingRegexp),l=i&&i.length;d<l&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(s.lng=r.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var i=arguments.length,l=new Array(i),f=0;f<i;f++)l[f]=arguments[f];return a&&a[0]===l[0]&&!s.context?(o.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${t[0]}`),null):o.translate(...l,t)},s)),s.interpolation&&this.interpolator.reset()}const u=s.postProcess||this.options.postProcess,c=typeof u=="string"?[u]:u;return e!=null&&c&&c.length&&s.applyPostProcessor!==!1&&(e=as.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,r,a,o,u;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(s))return;const h=this.extractFromKey(c,t),d=h.key;r=d;let p=h.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const i=t.count!==void 0&&typeof t.count!="string",l=i&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),f=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",m=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);p.forEach(v=>{this.isValidLookup(s)||(u=v,!bn[`${m[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(bn[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(y=>{if(this.isValidLookup(s))return;o=y;const b=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,d,y,v,t);else{let x;i&&(x=this.pluralResolver.getSuffix(y,t.count,t));const C=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(i&&(b.push(d+x),t.ordinal&&x.indexOf(P)===0&&b.push(d+x.replace(P,this.options.pluralSeparator)),l&&b.push(d+C)),f){const M=`${d}${this.options.contextSeparator}${t.context}`;b.push(M),i&&(b.push(M+x),t.ordinal&&x.indexOf(P)===0&&b.push(M+x.replace(P,this.options.pluralSeparator)),l&&b.push(M+C))}}let S;for(;S=b.pop();)this.isValidLookup(s)||(a=S,s=this.getResource(y,v,S,t))}))})}),{res:s,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,s,r):this.resourceStore.getResource(e,t,s,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&typeof e.replace!="string";let r=s?e.replace:e;if(s&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!s){r={...r};for(const a of t)delete r[a]}return r}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}function _t(n){return n.charAt(0).toUpperCase()+n.slice(1)}class xn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ie.create("languageUtils")}getScriptPartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let s=e.split("-");return this.options.lowerCaseLng?s=s.map(r=>r.toLowerCase()):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=_t(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),t.indexOf(s[1].toLowerCase())>-1&&(s[1]=_t(s[1].toLowerCase())),t.indexOf(s[2].toLowerCase())>-1&&(s[2]=_t(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const r=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const r=this.getLanguagePartFromCode(s);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(a=>{if(a===r)return a;if(!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):typeof e=="string"&&a(this.formatLanguageCode(e)),s.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}let Wi=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Qi={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const Ki=["v1","v2","v3"],Zi=["v4"],Sn={zero:0,one:1,two:2,few:3,many:4,other:5};function Bi(){const n={};return Wi.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:Qi[e.fc]}})}),n}class Hi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ie.create("pluralResolver"),(!this.options.compatibilityJSON||Zi.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Bi()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(wt(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}getPluralFormsOfKey(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,s).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.getRule(e,t);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort((r,a)=>Sn[r]-Sn[a]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):s.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,s);return r?this.shouldUseIntlApi()?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const s=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[s];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}shouldUseIntlApi(){return!Ki.includes(this.options.compatibilityJSON)}}function wn(n,e,t){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Ni(n,e,t);return!a&&r&&typeof t=="string"&&(a=It(n,t,s),a===void 0&&(a=It(e,t,s))),a}class Vi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:u,suffixEscaped:c,formatSeparator:h,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:i,nestingPrefixEscaped:l,nestingSuffix:f,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:Fi,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?ke(a):o||"{{",this.suffix=u?ke(u):c||"}}",this.formatSeparator=h||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=i?ke(i):l||ke("$t("),this.nestingSuffix=f?ke(f):m||ke(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t&&t.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,s,r){let a,o,u;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(f){return f.replace(/\$/g,"$$$$")}const d=f=>{if(f.indexOf(this.formatSeparator)<0){const b=wn(t,c,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,s,{...r,...t,interpolationkey:f}):b}const m=f.split(this.formatSeparator),v=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(wn(t,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,s,{...r,...t,interpolationkey:v})};this.resetRegExp();const p=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,i=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>h(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?h(this.escape(f)):h(f)}].forEach(f=>{for(u=0;a=f.regex.exec(e);){const m=a[1].trim();if(o=d(m),o===void 0)if(typeof p=="function"){const y=p(e,a,r);o=typeof y=="string"?y:""}else if(r&&Object.prototype.hasOwnProperty.call(r,m))o="";else if(i){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=mn(o));const v=f.safeValue(o);if(e=e.replace(a[0],v),i?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=a[0].length):f.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a,o;function u(c,h){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const p=c.split(new RegExp(`${d}[ ]*{`));let i=`{${p[1]}`;c=p[0],i=this.interpolate(i,o);const l=i.match(/'/g),f=i.match(/"/g);(l&&l.length%2===0&&!f||f.length%2!==0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),h&&(o={...h,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${d}${i}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;r=this.nestingRegexp.exec(e);){let c=[];o={...s},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const d=r[1].split(this.formatSeparator).map(p=>p.trim());r[1]=d.shift(),c=d,h=!0}if(a=t(u.call(this,r[1].trim(),o),o),a&&r[0]===e&&typeof a!="string")return a;typeof a!="string"&&(a=mn(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),h&&(a=c.reduce((d,p)=>this.format(d,p,s.lng,{...s,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}function qi(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const r=s[1].substring(0,s[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(o){const[u,...c]=o.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,""),d=u.trim();t[d]||(t[d]=h),h==="false"&&(t[d]=!1),h==="true"&&(t[d]=!0),isNaN(h)||(t[d]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}}function Ae(n){const e={};return function(s,r,a){const o=r+JSON.stringify(a);let u=e[o];return u||(u=n(wt(r),a),e[o]=u),u(s)}}class Yi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("formatter"),this.options=e,this.formats={number:Ae((t,s)=>{const r=new Intl.NumberFormat(t,{...s});return a=>r.format(a)}),currency:Ae((t,s)=>{const r=new Intl.NumberFormat(t,{...s,style:"currency"});return a=>r.format(a)}),datetime:Ae((t,s)=>{const r=new Intl.DateTimeFormat(t,{...s});return a=>r.format(a)}),relativetime:Ae((t,s)=>{const r=new Intl.RelativeTimeFormat(t,{...s});return a=>r.format(a,s.range||"day")}),list:Ae((t,s)=>{const r=new Intl.ListFormat(t,{...s});return a=>r.format(a)})},this.init(e)}init(e){const s=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ae(t)}format(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((u,c)=>{const{formatName:h,formatOptions:d}=qi(c);if(this.formats[h]){let p=u;try{const i=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=i.locale||i.lng||r.locale||r.lng||s;p=this.formats[h](u,l,{...d,...r,...i})}catch(i){this.logger.warn(i)}return p}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function Ji(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class Gi extends Et{constructor(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=r,this.logger=ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,r.backend,r)}queueLoad(e,t,s,r){const a={},o={},u={},c={};return e.forEach(h=>{let d=!0;t.forEach(p=>{const i=`${h}|${p}`;!s.reload&&this.store.hasResourceBundle(h,p)?this.state[i]=2:this.state[i]<0||(this.state[i]===1?o[i]===void 0&&(o[i]=!0):(this.state[i]=1,d=!1,o[i]===void 0&&(o[i]=!0),a[i]===void 0&&(a[i]=!0),c[p]===void 0&&(c[p]=!0)))}),d||(u[h]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(c)}}loaded(e,t,s){const r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),s&&this.store.addResourceBundle(a,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const u={};this.queue.forEach(c=>{Ai(c.loaded,[a],o),Ji(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(h=>{u[h]||(u[h]={});const d=c.loaded[h];d.length&&d.forEach(p=>{u[h][p]===void 0&&(u[h][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(c=>!c.done)}read(e,t,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:r,wait:a,callback:o});return}this.readingCalls++;const u=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(h&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,r+1,a*2,o)},a);return}o(h,d)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const h=c(e,t);h&&typeof h.then=="function"?h.then(d=>u(null,d)).catch(u):u(null,h)}catch(h){u(h)}return}return c(e,t,u)}prepareLoading(e,t){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const a=this.queueLoad(e,t,s,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const s=e.split("|"),r=s[0],a=s[1];this.read(r,a,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,o),!o&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,u),this.loaded(e,o,u)})}saveMissing(e,t,s,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,t,s,r,c):d=h(e,t,s,r),d&&typeof d.then=="function"?d.then(p=>u(null,p)).catch(u):u(null,d)}catch(d){u(d)}else h(e,t,s,r,u,c)}!e||!e[0]||this.store.addResource(e[0],t,s,r)}}}function Cn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const s=e[3]||e[2];Object.keys(s).forEach(r=>{t[r]=s[r]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function On(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function pt(){}function Xi(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class rt extends Et{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=On(e),this.services={},this.logger=ie,this.modules={external:[]},Xi(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(s=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Cn();this.options={...r,...this.options,...On(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function a(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?ie.init(a(this.modules.logger),this.options):ie.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Yi);const p=new xn(this.options);this.store=new yn(this.options.resources,this.options);const i=this.services;i.logger=ie,i.resourceStore=this.store,i.languageUtils=p,i.pluralResolver=new Hi(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(i.formatter=a(d),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new Vi(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Gi(a(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(l){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];e.emit(l,...m)}),this.modules.languageDetector&&(i.languageDetector=a(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=a(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Ct(this.services,this.options),this.translator.on("*",function(l){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];e.emit(l,...m)}),this.modules.external.forEach(l=>{l.init&&l.init(this)})}if(this.format=this.options.interpolation.format,s||(s=pt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=et(),h=()=>{const d=(p,i)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(i),s(p,i)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),c}loadResources(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],o=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(u)})}else s(null)}reloadResources(e,t,s){const r=et();return e||(e=this.languages),t||(t=this.options.ns),s||(s=pt),this.services.backendConnector.reload(e,t,a=>{r.resolve(),s(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&as.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}changeLanguage(e,t){var s=this;this.isLanguageChangingTo=e;const r=et();this.emit("languageChanging",e);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,h)=>{h?(a(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,r.resolve(function(){return s.t(...arguments)}),t&&t(c,function(){return s.t(...arguments)})},u=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const h=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,d=>{o(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,s){var r=this;const a=function(o,u){let c;if(typeof u!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),p=2;p<h;p++)d[p-2]=arguments[p];c=r.options.overloadTranslationOptionHandler([o,u].concat(d))}else c={...u};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix=c.keyPrefix||s||a.keyPrefix;const i=r.options.keySeparator||".";let l;return c.keyPrefix&&Array.isArray(o)?l=o.map(f=>`${c.keyPrefix}${i}${f}`):l=c.keyPrefix?`${c.keyPrefix}${i}${o}`:o,r.t(l,c)};return typeof e=="string"?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(u,c)=>{const h=this.services.backendConnector.state[`${u}|${c}`];return h===-1||h===2};if(t.precheck){const u=t.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!r||o(a,e)))}loadNamespaces(e,t){const s=et();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{s.resolve(),t&&t(r)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=et();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],a=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{s.resolve(),t&&t(o)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new xn(Cn());return t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new rt(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const s=e.forkResourceStore;s&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new rt(r);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s&&(a.store=new yn(this.store.data,r),a.services.resourceStore=a.store),a.translator=new Ct(a.services,r),a.translator.on("*",function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];a.emit(u,...h)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const W=rt.createInstance();W.createInstance=rt.createInstance;W.createInstance;W.dir;W.init;W.loadResources;W.reloadResources;W.use;W.changeLanguage;W.getFixedT;W.t;W.exists;W.setDefaultNamespace;W.hasLoadedNamespace;W.loadNamespaces;W.loadLanguages;function er(){var n,e,t;for(n="",t=0;t<32;t++)(t==8||t==12||t==16||t==20)&&(n=n+"-"),e=Math.floor(Math.random()*16).toString(16).toUpperCase(),n=n+e;return n}class tr{constructor(){on(this,"preName","route-cab")}_(e,t=!1){return localStorage.getItem(e)||t}rm(e){return localStorage.removeItem(e)}rmUniq(e){return this.rm(`${this.preName}${e}`)}getUniq(e,t=""){return this.get(`${this.preName}${e}`)||t}get(e,t=""){return localStorage.getItem(e)||t}set(e,t){localStorage.setItem(e,t)}getJ(e){const t=this.get(e);if(t)try{return JSON.parse(t)}catch{}return!1}setJ(e,t){return this.set(e,JSON.stringify(t))}createUniq(e){const t=`${this.preName}${e}`;let s=this.get(t);return s||(s=er(),this.set(t,s)),s}}const os=new tr,Rt=(n,e={})=>{let{data:t,query:s={}}=e;s||(s={});const r=e.range==="Content-Range",a=o=>fetch(Ns+n+Ds(s),Fs(o));return a(t).then(async o=>{if(o.status===401&&(un.accessToken=null,await un.auth(),o=await a(t)),o.status===200){if(r){const u=`${o.headers.get("Content-Range")}`;return{data:await o.json(),total:parseInt(u.split("/").pop()||"",10)}}}return o.json()}).then(o=>(o.success&&e&&e[As]&&Rt(Xt,{}).then(u=>{ts.getState().setData(u)}),o))},nr=({setCurrentPage:n})=>{const{t:e}=en(),[t,s]=T.useState("en"),r=qn().id,a=u=>{W.changeLanguage(u),s(u),os.set("lang",u)},o=()=>{Rt(Is)};return w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[w.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[w.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("welcome")}),w.jsxs("p",{className:"mb-4",children:[e("currentLanguage"),": ",t]}),w.jsxs("div",{className:"space-x-2",children:[w.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("en"),children:"English"}),w.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("es"),children:"Español"}),w.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>a("ru"),children:"Русский"})]})]}),r===36058859&&w.jsx("button",{onClick:o,style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"20px"},children:"restart"})]})},tt=({title:n,setCurrentPage:e})=>w.jsx("header",{style:{backgroundColor:"#fff",borderBottom:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",top:0,left:0,right:0,zIndex:1e3},children:w.jsxs("div",{style:{maxWidth:"975px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"},children:[w.jsx("h1",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',fontSize:"20px"},children:n}),w.jsx("button",{onClick:()=>e("settings"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:"⚙️"})]})}),sr=({setCurrentPage:n})=>w.jsx("nav",{style:{backgroundColor:"#fff",borderTop:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",bottom:0,left:0,right:0,zIndex:1e3},children:w.jsxs("div",{style:{display:"flex",justifyContent:"space-around",maxWidth:"975px",margin:"0 auto"},children:[w.jsx("button",{onClick:()=>n("home"),style:{background:"none",border:"none",fontSize:"24px"},children:"🏠"}),w.jsx("button",{onClick:()=>n("newPost"),style:{background:"none",border:"none",fontSize:"24px"},children:"➕"}),w.jsx("button",{onClick:()=>n("profile"),style:{background:"none",border:"none",fontSize:"24px"},children:"👤"})]})}),ir=()=>{let{initDataRaw:n}=$s();const e=qn(n);return w.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[w.jsxs("h2",{style:{margin:"20px 0"},children:[e==null?void 0:e.first_name," ",e!=null&&e.username?`(@${e==null?void 0:e.username})`:""]}),w.jsx("p",{children:"О себе: Любитель фотографии | Собачник | Кофеман"}),w.jsxs("div",{style:{margin:"20px 0"},children:[w.jsxs("span",{style:{margin:"0 10px"},children:[w.jsx("strong",{children:"0"})," подписчиков"]}),w.jsxs("span",{style:{margin:"0 10px"},children:[w.jsx("strong",{children:"0"})," подписок"]})]})]})},us=({isOpen:n,onClose:e,location:t})=>n?w.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:w.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",width:"80%",maxWidth:"500px"},children:[w.jsxs("h2",{children:["Location: ",t]}),w.jsxs("div",{style:{width:"100%",height:"300px",backgroundColor:"#f0f0f0",display:"flex",justifyContent:"center",alignItems:"center"},children:['Здесь будет карта с меткой в точке "',t,'"']}),w.jsx("button",{onClick:e,style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Закрыть"})]})}):null,rr=({name:n,imageUrl:e,caption:t,isFavorite:s,location:r,onClick:a})=>{const[o,u]=T.useState(!1);return w.jsxs("div",{style:{backgroundColor:"#fff",border:"1px solid #dbdbdb",borderRadius:"3px",marginBottom:"20px",cursor:"pointer"},onClick:a,children:[w.jsxs("div",{style:{padding:"10px",fontWeight:"bold",display:"flex",justifyContent:"space-between"},children:[w.jsx("span",{children:n}),s&&w.jsx("span",{children:"⭐"})]}),w.jsx("div",{style:{padding:"10px"}}),r&&w.jsx("div",{style:{padding:"0 10px 10px"},children:w.jsxs("span",{style:{color:"#0095f6"},children:["📍 ",r]})}),w.jsx(us,{isOpen:o,onClose:()=>u(!1),location:r})]})};var $t=new Map,mt=new WeakMap,Mn=0,ar=void 0;function or(n){return n?(mt.has(n)||(Mn+=1,mt.set(n,Mn.toString())),mt.get(n)):"0"}function ur(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?or(n.root):n[e]}`).toString()}function lr(n){const e=ur(n);let t=$t.get(e);if(!t){const s=new Map;let r;const a=new IntersectionObserver(o=>{o.forEach(u=>{var c;const h=u.isIntersecting&&r.some(d=>u.intersectionRatio>=d);n.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=h),(c=s.get(u.target))==null||c.forEach(d=>{d(h,u)})})},n);r=a.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:a,elements:s},$t.set(e,t)}return t}function cr(n,e,t={},s=ar){if(typeof window.IntersectionObserver>"u"&&s!==void 0){const c=n.getBoundingClientRect();return e(s,{isIntersecting:s,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:r,observer:a,elements:o}=lr(t),u=o.get(n)||[];return o.has(n)||o.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(o.delete(n),a.unobserve(n)),o.size===0&&(a.disconnect(),$t.delete(r))}}function hr({threshold:n,delay:e,trackVisibility:t,rootMargin:s,root:r,triggerOnce:a,skip:o,initialInView:u,fallbackInView:c,onChange:h}={}){var d;const[p,i]=T.useState(null),l=T.useRef(),[f,m]=T.useState({inView:!!u,entry:void 0});l.current=h,T.useEffect(()=>{if(o||!p)return;let S;return S=cr(p,(x,C)=>{m({inView:x,entry:C}),l.current&&l.current(x,C),C.isIntersecting&&a&&S&&(S(),S=void 0)},{root:r,rootMargin:s,threshold:n,trackVisibility:t,delay:e},c),()=>{S&&S()}},[Array.isArray(n)?n.toString():n,p,r,s,a,o,t,c,e]);const v=(d=f.entry)==null?void 0:d.target,y=T.useRef();!p&&v&&!a&&!o&&y.current!==v&&(y.current=v,m({inView:!!u,entry:void 0}));const b=[i,f.inView,f.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}var ft=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ge=typeof window>"u"||"Deno"in globalThis;function J(){}function fr(n,e){return typeof n=="function"?n(e):n}function Ut(n){return typeof n=="number"&&n>=0&&n!==1/0}function ls(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Fe(n,e){return typeof n=="function"?n(e):n}function X(n,e){return typeof n=="function"?n(e):n}function En(n,e){const{type:t="all",exact:s,fetchStatus:r,predicate:a,queryKey:o,stale:u}=n;if(o){if(s){if(e.queryHash!==tn(o,e.options))return!1}else if(!ot(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||a&&!a(e))}function Rn(n,e){const{exact:t,status:s,predicate:r,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(at(e.options.mutationKey)!==at(a))return!1}else if(!ot(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function tn(n,e){return((e==null?void 0:e.queryKeyHashFn)||at)(n)}function at(n){return JSON.stringify(n,(e,t)=>Wt(t)?Object.keys(t).sort().reduce((s,r)=>(s[r]=t[r],s),{}):t)}function ot(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!ot(n[t],e[t])):!1}function cs(n,e){if(n===e)return n;const t=Pn(n)&&Pn(e);if(t||Wt(n)&&Wt(e)){const s=t?n:Object.keys(n),r=s.length,a=t?e:Object.keys(e),o=a.length,u=t?[]:{};let c=0;for(let h=0;h<o;h++){const d=t?h:a[h];(!t&&s.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(u[d]=void 0,c++):(u[d]=cs(n[d],e[d]),u[d]===n[d]&&n[d]!==void 0&&c++)}return r===o&&c===r?n:u}return e}function zt(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function Pn(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Wt(n){if(!Ln(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Ln(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Ln(n){return Object.prototype.toString.call(n)==="[object Object]"}function dr(n){return new Promise(e=>{setTimeout(e,n)})}function Qt(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?cs(n,e):e}function gr(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function pr(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var hs=Symbol(),fs=(n,e)=>!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===hs?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn,Ce,he,Ie,Un,mr=(Un=class extends ft{constructor(){super();_(this,Ce);_(this,he);_(this,Ie);L(this,Ie,e=>{if(!Ge&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){g(this,he)||this.setEventListener(g(this,Ie))}onUnsubscribe(){var e;this.hasListeners()||((e=g(this,he))==null||e.call(this),L(this,he,void 0))}setEventListener(e){var t;L(this,Ie,e),(t=g(this,he))==null||t.call(this),L(this,he,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){g(this,Ce)!==e&&(L(this,Ce,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof g(this,Ce)=="boolean"?g(this,Ce):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ce=new WeakMap,he=new WeakMap,Ie=new WeakMap,Un),nn=new mr,$e,fe,Ue,zn,vr=(zn=class extends ft{constructor(){super();_(this,$e,!0);_(this,fe);_(this,Ue);L(this,Ue,e=>{if(!Ge&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}})}onSubscribe(){g(this,fe)||this.setEventListener(g(this,Ue))}onUnsubscribe(){var e;this.hasListeners()||((e=g(this,fe))==null||e.call(this),L(this,fe,void 0))}setEventListener(e){var t;L(this,Ue,e),(t=g(this,fe))==null||t.call(this),L(this,fe,e(this.setOnline.bind(this)))}setOnline(e){g(this,$e)!==e&&(L(this,$e,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return g(this,$e)}},$e=new WeakMap,fe=new WeakMap,Ue=new WeakMap,zn),Ot=new vr;function yr(n){return Math.min(1e3*2**n,3e4)}function ds(n){return(n??"online")==="online"?Ot.isOnline():!0}var gs=class{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function jt(n){return n instanceof gs}function ps(n){let e=!1,t=0,s=!1,r,a,o;const u=new Promise((y,b)=>{a=y,o=b}),c=y=>{var b;s||(f(new gs(y)),(b=n.abort)==null||b.call(n))},h=()=>{e=!0},d=()=>{e=!1},p=()=>nn.isFocused()&&(n.networkMode==="always"||Ot.isOnline())&&n.canRun(),i=()=>ds(n.networkMode)&&n.canRun(),l=y=>{var b;s||(s=!0,(b=n.onSuccess)==null||b.call(n,y),r==null||r(),a(y))},f=y=>{var b;s||(s=!0,(b=n.onError)==null||b.call(n,y),r==null||r(),o(y))},m=()=>new Promise(y=>{var b;r=S=>{(s||p())&&y(S)},(b=n.onPause)==null||b.call(n)}).then(()=>{var y;r=void 0,s||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(s)return;let y;const b=t===0?n.initialPromise:void 0;try{y=b??n.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(l).catch(S=>{var O;if(s)return;const x=n.retry??(Ge?0:3),C=n.retryDelay??yr,P=typeof C=="function"?C(t,S):C,M=x===!0||typeof x=="number"&&t<x||typeof x=="function"&&x(t,S);if(e||!M){f(S);return}t++,(O=n.onFail)==null||O.call(n,t,S),dr(P).then(()=>p()?void 0:m()).then(()=>{e?f(S):v()})})};return{promise:u,cancel:c,continue:()=>(r==null||r(),u),cancelRetry:h,continueRetry:d,canStart:i,start:()=>(i()?v():m().then(v),u)}}function br(){let n=[],e=0,t=i=>{i()},s=i=>{i()},r=i=>setTimeout(i,0);const a=i=>{r=i},o=i=>{let l;e++;try{l=i()}finally{e--,e||h()}return l},u=i=>{e?n.push(i):r(()=>{t(i)})},c=i=>(...l)=>{u(()=>{i(...l)})},h=()=>{const i=n;n=[],i.length&&r(()=>{s(()=>{i.forEach(l=>{t(l)})})})};return{batch:o,batchCalls:c,schedule:u,setNotifyFunction:i=>{t=i},setBatchNotifyFunction:i=>{s=i},setScheduler:a}}var z=br(),Oe,Wn,ms=(Wn=class{constructor(){_(this,Oe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ut(this.gcTime)&&L(this,Oe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ge?1/0:5*60*1e3))}clearGcTimeout(){g(this,Oe)&&(clearTimeout(g(this,Oe)),L(this,Oe,void 0))}},Oe=new WeakMap,Wn),ze,We,Y,Q,ut,Me,G,oe,Qn,xr=(Qn=class extends ms{constructor(e){super();_(this,G);_(this,ze);_(this,We);_(this,Y);_(this,Q);_(this,ut);_(this,Me);L(this,Me,!1),L(this,ut,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,Y,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,ze,e.state||Sr(this.options)),this.state=g(this,ze),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=g(this,Q))==null?void 0:e.promise}setOptions(e){this.options={...g(this,ut),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&g(this,Y).remove(this)}setData(e,t){const s=Qt(this.state.data,e,this.options);return k(this,G,oe).call(this,{data:s,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),s}setState(e,t){k(this,G,oe).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var s,r;const t=(s=g(this,Q))==null?void 0:s.promise;return(r=g(this,Q))==null||r.cancel(e),t?t.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(g(this,ze))}isActive(){return this.observers.some(e=>X(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!ls(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=g(this,Q))==null||t.continue()}onOnline(){var t;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=g(this,Q))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),g(this,Y).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(g(this,Q)&&(g(this,Me)?g(this,Q).cancel({revert:!0}):g(this,Q).cancelRetry()),this.scheduleGc()),g(this,Y).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,G,oe).call(this,{type:"invalidate"})}fetch(e,t){var c,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(g(this,Q))return g(this,Q).continueRetry(),g(this,Q).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(i=>i.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,r=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(L(this,Me,!0),s.signal)})},a=()=>{const p=fs(this.options,t),i={queryKey:this.queryKey,meta:this.meta};return r(i),L(this,Me,!1),this.options.persister?this.options.persister(p,i,this):p(i)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),L(this,We,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&k(this,G,oe).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const u=p=>{var i,l,f,m;jt(p)&&p.silent||k(this,G,oe).call(this,{type:"error",error:p}),jt(p)||((l=(i=g(this,Y).config).onError)==null||l.call(i,p,this),(m=(f=g(this,Y).config).onSettled)==null||m.call(f,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return L(this,Q,ps({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var i,l,f,m;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(p),(l=(i=g(this,Y).config).onSuccess)==null||l.call(i,p,this),(m=(f=g(this,Y).config).onSettled)==null||m.call(f,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(p,i)=>{k(this,G,oe).call(this,{type:"failed",failureCount:p,error:i})},onPause:()=>{k(this,G,oe).call(this,{type:"pause"})},onContinue:()=>{k(this,G,oe).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),g(this,Q).start()}},ze=new WeakMap,We=new WeakMap,Y=new WeakMap,Q=new WeakMap,ut=new WeakMap,Me=new WeakMap,G=new WeakSet,oe=function(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...vs(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return jt(r)&&r.revert&&g(this,We)?{...g(this,We),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),z.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),g(this,Y).notify({query:this,type:"updated",action:e})})},Qn);function vs(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ds(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Sr(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ee,Kn,wr=(Kn=class extends ft{constructor(e={}){super();_(this,ee);this.config=e,L(this,ee,new Map)}build(e,t,s){const r=t.queryKey,a=t.queryHash??tn(r,t);let o=this.get(a);return o||(o=new xr({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){g(this,ee).has(e.queryHash)||(g(this,ee).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=g(this,ee).get(e.queryHash);t&&(e.destroy(),t===e&&g(this,ee).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return g(this,ee).get(e)}getAll(){return[...g(this,ee).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>En(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>En(e,s)):t}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){z.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ee=new WeakMap,Kn),te,K,Ee,ne,ce,Zn,Cr=(Zn=class extends ms{constructor(e){super();_(this,ne);_(this,te);_(this,K);_(this,Ee);this.mutationId=e.mutationId,L(this,K,e.mutationCache),L(this,te,[]),this.state=e.state||Or(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){g(this,te).includes(e)||(g(this,te).push(e),this.clearGcTimeout(),g(this,K).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,te,g(this,te).filter(t=>t!==e)),this.scheduleGc(),g(this,K).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){g(this,te).length||(this.state.status==="pending"?this.scheduleGc():g(this,K).remove(this))}continue(){var e;return((e=g(this,Ee))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,a,o,u,c,h,d,p,i,l,f,m,v,y,b,S,x,C,P,M;L(this,Ee,ps({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(O,j)=>{k(this,ne,ce).call(this,{type:"failed",failureCount:O,error:j})},onPause:()=>{k(this,ne,ce).call(this,{type:"pause"})},onContinue:()=>{k(this,ne,ce).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>g(this,K).canRun(this)}));const t=this.state.status==="pending",s=!g(this,Ee).canStart();try{if(!t){k(this,ne,ce).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(r=g(this,K).config).onMutate)==null?void 0:a.call(r,e,this));const j=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));j!==this.state.context&&k(this,ne,ce).call(this,{type:"pending",context:j,variables:e,isPaused:s})}const O=await g(this,Ee).start();return await((h=(c=g(this,K).config).onSuccess)==null?void 0:h.call(c,O,e,this.state.context,this)),await((p=(d=this.options).onSuccess)==null?void 0:p.call(d,O,e,this.state.context)),await((l=(i=g(this,K).config).onSettled)==null?void 0:l.call(i,O,null,this.state.variables,this.state.context,this)),await((m=(f=this.options).onSettled)==null?void 0:m.call(f,O,null,e,this.state.context)),k(this,ne,ce).call(this,{type:"success",data:O}),O}catch(O){try{throw await((y=(v=g(this,K).config).onError)==null?void 0:y.call(v,O,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,O,e,this.state.context)),await((C=(x=g(this,K).config).onSettled)==null?void 0:C.call(x,void 0,O,this.state.variables,this.state.context,this)),await((M=(P=this.options).onSettled)==null?void 0:M.call(P,void 0,O,e,this.state.context)),O}finally{k(this,ne,ce).call(this,{type:"error",error:O})}}finally{g(this,K).runNext(this)}}},te=new WeakMap,K=new WeakMap,Ee=new WeakMap,ne=new WeakSet,ce=function(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),z.batch(()=>{g(this,te).forEach(s=>{s.onMutationUpdate(e)}),g(this,K).notify({mutation:this,type:"updated",action:e})})},Zn);function Or(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var H,lt,Bn,Mr=(Bn=class extends ft{constructor(e={}){super();_(this,H);_(this,lt);this.config=e,L(this,H,new Map),L(this,lt,Date.now())}build(e,t,s){const r=new Cr({mutationCache:this,mutationId:++gt(this,lt)._,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){const t=vt(e),s=g(this,H).get(t)??[];s.push(e),g(this,H).set(t,s),this.notify({type:"added",mutation:e})}remove(e){var s;const t=vt(e);if(g(this,H).has(t)){const r=(s=g(this,H).get(t))==null?void 0:s.filter(a=>a!==e);r&&(r.length===0?g(this,H).delete(t):g(this,H).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const t=(s=g(this,H).get(vt(e)))==null?void 0:s.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var s;const t=(s=g(this,H).get(vt(e)))==null?void 0:s.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){z.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...g(this,H).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Rn(t,s))}findAll(e={}){return this.getAll().filter(t=>Rn(e,t))}notify(e){z.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return z.batch(()=>Promise.all(e.map(t=>t.continue().catch(J))))}},H=new WeakMap,lt=new WeakMap,Bn);function vt(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function Er(n){return{onFetch:(e,t)=>{const s=async()=>{var f,m,v,y,b;const r=e.options,a=(v=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],u=((b=e.state.data)==null?void 0:b.pageParams)||[],c={pages:[],pageParams:[]};let h=!1;const d=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},p=fs(e.options,e.fetchOptions),i=async(S,x,C)=>{if(h)return Promise.reject();if(x==null&&S.pages.length)return Promise.resolve(S);const P={queryKey:e.queryKey,pageParam:x,direction:C?"backward":"forward",meta:e.options.meta};d(P);const M=await p(P),{maxPages:O}=e.options,j=C?pr:gr;return{pages:j(S.pages,M,O),pageParams:j(S.pageParams,x,O)}};let l;if(a&&o.length){const S=a==="backward",x=S?Rr:Tn,C={pages:o,pageParams:u},P=x(r,C);l=await i(C,P,S)}else{l=await i(c,u[0]??r.initialPageParam);const S=n??o.length;for(let x=1;x<S;x++){const C=Tn(r,l);l=await i(l,C)}}return l};e.options.persister?e.fetchFn=()=>{var r,a;return(a=(r=e.options).persister)==null?void 0:a.call(r,s,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=s}}}function Tn(n,{pages:e,pageParams:t}){const s=e.length-1;return n.getNextPageParam(e[s],e,t[s],t)}function Rr(n,{pages:e,pageParams:t}){var s;return(s=n.getPreviousPageParam)==null?void 0:s.call(n,e[0],e,t[0],t)}var I,de,ge,Qe,Ke,pe,Ze,Be,Hn,Pr=(Hn=class{constructor(n={}){_(this,I);_(this,de);_(this,ge);_(this,Qe);_(this,Ke);_(this,pe);_(this,Ze);_(this,Be);L(this,I,n.queryCache||new wr),L(this,de,n.mutationCache||new Mr),L(this,ge,n.defaultOptions||{}),L(this,Qe,new Map),L(this,Ke,new Map),L(this,pe,0)}mount(){gt(this,pe)._++,g(this,pe)===1&&(L(this,Ze,nn.subscribe(async n=>{n&&(await this.resumePausedMutations(),g(this,I).onFocus())})),L(this,Be,Ot.subscribe(async n=>{n&&(await this.resumePausedMutations(),g(this,I).onOnline())})))}unmount(){var n,e;gt(this,pe)._--,g(this,pe)===0&&((n=g(this,Ze))==null||n.call(this),L(this,Ze,void 0),(e=g(this,Be))==null||e.call(this),L(this,Be,void 0))}isFetching(n){return g(this,I).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return g(this,de).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=g(this,I).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),s=g(this,I).build(this,t);return n.revalidateIfStale&&s.isStaleByTime(Fe(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return g(this,I).findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=g(this,I).get(s.queryHash),a=r==null?void 0:r.state.data,o=fr(e,a);if(o!==void 0)return g(this,I).build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return z.batch(()=>g(this,I).findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=g(this,I).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=g(this,I);z.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=g(this,I),s={type:"active",...n};return z.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(s,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},s=z.batch(()=>g(this,I).findAll(n).map(r=>r.cancel(t)));return Promise.all(s).then(J).catch(J)}invalidateQueries(n={},e={}){return z.batch(()=>{if(g(this,I).findAll(n).forEach(s=>{s.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=z.batch(()=>g(this,I).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,t);return t.throwOnError||(a=a.catch(J)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(J)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=g(this,I).build(this,e);return t.isStaleByTime(Fe(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(J).catch(J)}fetchInfiniteQuery(n){return n.behavior=Er(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(J).catch(J)}resumePausedMutations(){return Ot.isOnline()?g(this,de).resumePausedMutations():Promise.resolve()}getQueryCache(){return g(this,I)}getMutationCache(){return g(this,de)}getDefaultOptions(){return g(this,ge)}setDefaultOptions(n){L(this,ge,n)}setQueryDefaults(n,e){g(this,Qe).set(at(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...g(this,Qe).values()];let t={};return e.forEach(s=>{ot(n,s.queryKey)&&(t={...t,...s.defaultOptions})}),t}setMutationDefaults(n,e){g(this,Ke).set(at(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...g(this,Ke).values()];let t={};return e.forEach(s=>{ot(n,s.mutationKey)&&(t={...t,...s.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...g(this,ge).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=tn(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===hs&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...g(this,ge).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){g(this,I).clear(),g(this,de).clear()}},I=new WeakMap,de=new WeakMap,ge=new WeakMap,Qe=new WeakMap,Ke=new WeakMap,pe=new WeakMap,Ze=new WeakMap,Be=new WeakMap,Hn),B,A,ct,Z,Re,He,se,ht,Ve,qe,Pe,Le,me,Ye,D,st,Kt,Zt,Bt,Ht,Vt,qt,Yt,ys,Vn,Lr=(Vn=class extends ft{constructor(e,t){super();_(this,D);_(this,B);_(this,A);_(this,ct);_(this,Z);_(this,Re);_(this,He);_(this,se);_(this,ht);_(this,Ve);_(this,qe);_(this,Pe);_(this,Le);_(this,me);_(this,Ye,new Set);this.options=t,L(this,B,e),L(this,se,null),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,A).addObserver(this),_n(g(this,A),this.options)?k(this,D,st).call(this):this.updateResult(),k(this,D,Ht).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jt(g(this,A),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jt(g(this,A),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,D,Vt).call(this),k(this,D,qt).call(this),g(this,A).removeObserver(this)}setOptions(e,t){const s=this.options,r=g(this,A);if(this.options=g(this,B).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,g(this,A))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,D,Yt).call(this),g(this,A).setOptions(this.options),s._defaulted&&!zt(this.options,s)&&g(this,B).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,A),observer:this});const a=this.hasListeners();a&&jn(g(this,A),r,this.options,s)&&k(this,D,st).call(this),this.updateResult(t),a&&(g(this,A)!==r||X(this.options.enabled,g(this,A))!==X(s.enabled,g(this,A))||Fe(this.options.staleTime,g(this,A))!==Fe(s.staleTime,g(this,A)))&&k(this,D,Kt).call(this);const o=k(this,D,Zt).call(this);a&&(g(this,A)!==r||X(this.options.enabled,g(this,A))!==X(s.enabled,g(this,A))||o!==g(this,me))&&k(this,D,Bt).call(this,o)}getOptimisticResult(e){const t=g(this,B).getQueryCache().build(g(this,B),e),s=this.createResult(t,e);return _r(this,s)&&(L(this,Z,s),L(this,He,this.options),L(this,Re,g(this,A).state)),s}getCurrentResult(){return g(this,Z)}trackResult(e,t){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),s}trackProp(e){g(this,Ye).add(e)}getCurrentQuery(){return g(this,A)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=g(this,B).defaultQueryOptions(e),s=g(this,B).getQueryCache().build(g(this,B),t);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,t))}fetch(e){return k(this,D,st).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,Z)))}createResult(e,t){var M;const s=g(this,A),r=this.options,a=g(this,Z),o=g(this,Re),u=g(this,He),h=e!==s?e.state:g(this,ct),{state:d}=e;let p={...d},i=!1,l;if(t._optimisticResults){const O=this.hasListeners(),j=!O&&_n(e,t),N=O&&jn(e,s,t,r);(j||N)&&(p={...p,...vs(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:f,errorUpdatedAt:m,status:v}=p;if(t.select&&p.data!==void 0)if(a&&p.data===(o==null?void 0:o.data)&&t.select===g(this,ht))l=g(this,Ve);else try{L(this,ht,t.select),l=t.select(p.data),l=Qt(a==null?void 0:a.data,l,t),L(this,Ve,l),L(this,se,null)}catch(O){L(this,se,O)}else l=p.data;if(t.placeholderData!==void 0&&l===void 0&&v==="pending"){let O;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))O=a.data;else if(O=typeof t.placeholderData=="function"?t.placeholderData((M=g(this,qe))==null?void 0:M.state.data,g(this,qe)):t.placeholderData,t.select&&O!==void 0)try{O=t.select(O),L(this,se,null)}catch(j){L(this,se,j)}O!==void 0&&(v="success",l=Qt(a==null?void 0:a.data,O,t),i=!0)}g(this,se)&&(f=g(this,se),l=g(this,Ve),m=Date.now(),v="error");const y=p.fetchStatus==="fetching",b=v==="pending",S=v==="error",x=b&&y,C=l!==void 0;return{status:v,fetchStatus:p.fetchStatus,isPending:b,isSuccess:v==="success",isError:S,isInitialLoading:x,isLoading:x,data:l,dataUpdatedAt:p.dataUpdatedAt,error:f,errorUpdatedAt:m,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:S&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:i,isRefetchError:S&&C,isStale:sn(e,t),refetch:this.refetch}}updateResult(e){const t=g(this,Z),s=this.createResult(g(this,A),this.options);if(L(this,Re,g(this,A).state),L(this,He,this.options),g(this,Re).data!==void 0&&L(this,qe,g(this,A)),zt(s,t))return;L(this,Z,s);const r={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!g(this,Ye).size)return!0;const c=new Set(u??g(this,Ye));return this.options.throwOnError&&c.add("error"),Object.keys(g(this,Z)).some(h=>{const d=h;return g(this,Z)[d]!==t[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),k(this,D,ys).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,D,Ht).call(this)}},B=new WeakMap,A=new WeakMap,ct=new WeakMap,Z=new WeakMap,Re=new WeakMap,He=new WeakMap,se=new WeakMap,ht=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Pe=new WeakMap,Le=new WeakMap,me=new WeakMap,Ye=new WeakMap,D=new WeakSet,st=function(e){k(this,D,Yt).call(this);let t=g(this,A).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(J)),t},Kt=function(){k(this,D,Vt).call(this);const e=Fe(this.options.staleTime,g(this,A));if(Ge||g(this,Z).isStale||!Ut(e))return;const s=ls(g(this,Z).dataUpdatedAt,e)+1;L(this,Pe,setTimeout(()=>{g(this,Z).isStale||this.updateResult()},s))},Zt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,A)):this.options.refetchInterval)??!1},Bt=function(e){k(this,D,qt).call(this),L(this,me,e),!(Ge||X(this.options.enabled,g(this,A))===!1||!Ut(g(this,me))||g(this,me)===0)&&L(this,Le,setInterval(()=>{(this.options.refetchIntervalInBackground||nn.isFocused())&&k(this,D,st).call(this)},g(this,me)))},Ht=function(){k(this,D,Kt).call(this),k(this,D,Bt).call(this,k(this,D,Zt).call(this))},Vt=function(){g(this,Pe)&&(clearTimeout(g(this,Pe)),L(this,Pe,void 0))},qt=function(){g(this,Le)&&(clearInterval(g(this,Le)),L(this,Le,void 0))},Yt=function(){const e=g(this,B).getQueryCache().build(g(this,B),this.options);if(e===g(this,A))return;const t=g(this,A);L(this,A,e),L(this,ct,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},ys=function(e){z.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(g(this,Z))}),g(this,B).getQueryCache().notify({query:g(this,A),type:"observerResultsUpdated"})})},Vn);function Tr(n,e){return X(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function _n(n,e){return Tr(n,e)||n.state.data!==void 0&&Jt(n,e,e.refetchOnMount)}function Jt(n,e,t){if(X(e.enabled,n)!==!1){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&sn(n,e)}return!1}function jn(n,e,t,s){return(n!==e||X(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&sn(n,t)}function sn(n,e){return X(e.enabled,n)!==!1&&n.isStaleByTime(Fe(e.staleTime,n))}function _r(n,e){return!zt(n.getCurrentResult(),e)}var bs=T.createContext(void 0),xs=n=>{const e=T.useContext(bs);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},jr=({client:n,children:e})=>(T.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),w.jsx(bs.Provider,{value:n,children:e})),Ss=T.createContext(!1),kr=()=>T.useContext(Ss);Ss.Provider;function Ar(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var Nr=T.createContext(Ar()),Dr=()=>T.useContext(Nr);function Fr(n,e){return typeof n=="function"?n(...e):!!n}var Ir=(n,e)=>{(n.suspense||n.throwOnError)&&(e.isReset()||(n.retryOnMount=!1))},$r=n=>{T.useEffect(()=>{n.clearReset()},[n])},Ur=({result:n,errorResetBoundary:e,throwOnError:t,query:s})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&Fr(t,[n.error,s]),zr=n=>{n.suspense&&typeof n.staleTime!="number"&&(n.staleTime=1e3)},Wr=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,Qr=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Kr(n,e,t){var h,d,p,i;const s=xs(),r=kr(),a=Dr(),o=s.defaultQueryOptions(n);(d=(h=s.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||d.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",zr(o),Ir(o,a),$r(a);const[u]=T.useState(()=>new e(s,o)),c=u.getOptimisticResult(o);if(T.useSyncExternalStore(T.useCallback(l=>{const f=r?()=>{}:u.subscribe(z.batchCalls(l));return u.updateResult(),f},[u,r]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),Wr(o,c))throw Qr(o,u,a);if(Ur({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw c.error;return(i=(p=s.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||i.call(p,o,c),o.notifyOnChangeProps?c:u.trackResult(c)}function Zr(n,e){return Kr(n,Lr)}const kt=10;function Br(n,e){const t=xs(),[s,r]=T.useState(0),[a,o]=T.useState([]),{ref:u,inView:c}=hr({threshold:1});T.useEffect(()=>(t.clear(),()=>t.clear()),[e]);const{data:h,isLoading:d,error:p}=Zr({queryKey:[n,e,s],queryFn:()=>Rt(n,{query:{page:s,range:`[${s*kt},${kt}]`},range:"Content-Range"}),retry:1});let i=Array.isArray(h)?h:(h==null?void 0:h.data)||[];const l=i==null?void 0:i.length;return T.useEffect(()=>{l&&o(m=>[...m,...i])},[l]),T.useEffect(()=>{c&&!d&&l===kt&&r(m=>m+1)},[c,d,l]),{data:a,dataLength:l,loading:d,ref:u,setPage:r,setAllData:o,page:s,error:p,resetQuery:()=>t.clear()}}const Hr=({onClick:n})=>{const{data:e,resetQuery:t,ref:s,dataLength:r}=Br(Xt);return w.jsxs("div",{style:{textAlign:"center"},children:[e.map(a=>w.jsx(rr,{...a,onClick:()=>n(a)},a.id)),!!r&&w.jsx("div",{children:w.jsx("div",{ref:s,className:"more"})})]})};function kn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);e&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,s)}return t}function xe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kn(Object(t),!0).forEach(function(s){E(n,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach(function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(t,s))})}return n}function E(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vr(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Gt(n,e)}function Gt(n,e){return Gt=Object.setPrototypeOf||function(s,r){return s.__proto__=r,s},Gt(n,e)}function R(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qr(n,e){var t;return function(){for(var s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout(function(){return n.apply(o,r)},e)}}function yt(n,e){for(;n;){if(n.classList&&n.classList.contains(e))return!0;n=n.parentElement}return!1}function ws(n){var e=n.getBoundingClientRect();return{x:e.left,y:e.top}}function Yr(n,e,t){return"https://tile.openstreetmap.org/"+t+"/"+n+"/"+e+".png"}var An=300,Jr=1500,Gr=150,Xr=40,At=2,Nn=300,ea=60,ta=300,na=300,le=function(){return!0},Ne=function(e,t){return(e+180)/360*Math.pow(2,t)},De=function(e,t){return(1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t)};function Se(n,e){return n/Math.pow(2,e)*360-180}function we(n,e){var t=Math.PI-2*Math.PI*n/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function V(n,e){var t=ws(n);return[e.clientX-t.x,e.clientY-t.y]}function sa(n){return n*(2-n)}var nt=[we(Math.pow(2,10),10),we(0,10),Se(0,10),Se(Math.pow(2,10),10)],rn=typeof window<"u",q=rn&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var n=new Date().getTime();return function(){return new Date().getTime()-n}}(),Nt=function(e){return rn?(window.requestAnimationFrame||window.setTimeout)(e):(e(new Date().getTime()),null)},Dn=function(e){return rn&&e?(window.cancelAnimationFrame||window.clearTimeout)(e):!1};function Fn(n,e,t,s,r){return!n||n.length===0?"":n.map(function(a){return e(t,s,r,a)+(a===1?"":" "+a+"x")}).join(", ")}var ia=function(e){var t=e.tile,s=e.tileLoaded;return F.createElement("img",{src:t.url,srcSet:t.srcSet,width:t.width,height:t.height,loading:"lazy",onLoad:s,alt:"",style:{position:"absolute",left:t.left,top:t.top,willChange:"transform",transformOrigin:"top left",opacity:1}})},Cs=function(n){Vr(e,n);function e(s){var r,a,o,u,c,h,d,p,i;return i=n.call(this,s)||this,E(R(i),"_containerRef",void 0),E(R(i),"_mousePosition",void 0),E(R(i),"_loadTracker",void 0),E(R(i),"_dragStart",null),E(R(i),"_mouseDown",!1),E(R(i),"_moveEvents",[]),E(R(i),"_lastClick",null),E(R(i),"_lastTap",null),E(R(i),"_lastWheel",null),E(R(i),"_touchStartPixel",null),E(R(i),"_touchStartMidPoint",null),E(R(i),"_touchStartDistance",null),E(R(i),"_secondTouchEnd",null),E(R(i),"_warningClearTimeout",null),E(R(i),"_isAnimating",!1),E(R(i),"_animationStart",null),E(R(i),"_animationEnd",null),E(R(i),"_zoomStart",null),E(R(i),"_centerTarget",null),E(R(i),"_zoomTarget",null),E(R(i),"_zoomAround",null),E(R(i),"_animFrame",null),E(R(i),"_boundsSynced",!1),E(R(i),"_minMaxCache",null),E(R(i),"_lastZoom",void 0),E(R(i),"_lastCenter",void 0),E(R(i),"_centerStart",void 0),E(R(i),"_resizeObserver",null),E(R(i),"updateWidthHeight",function(){if(i._containerRef){var l=i._containerRef.getBoundingClientRect();if(l&&l.width>0&&l.height>0)return i.setState({width:l.width,height:l.height}),!0}return!1}),E(R(i),"wa",function(){var l;return(l=window).addEventListener.apply(l,arguments)}),E(R(i),"wr",function(){var l;return(l=window).removeEventListener.apply(l,arguments)}),E(R(i),"bindMouseEvents",function(){i.wa("mousedown",i.handleMouseDown),i.wa("mouseup",i.handleMouseUp),i.wa("mousemove",i.handleMouseMove)}),E(R(i),"bindTouchEvents",function(){i.wa("touchstart",i.handleTouchStart,{passive:!1}),i.wa("touchmove",i.handleTouchMove,{passive:!1}),i.wa("touchend",i.handleTouchEnd,{passive:!1})}),E(R(i),"unbindMouseEvents",function(){i.wr("mousedown",i.handleMouseDown),i.wr("mouseup",i.handleMouseUp),i.wr("mousemove",i.handleMouseMove)}),E(R(i),"unbindTouchEvents",function(){i.wr("touchstart",i.handleTouchStart),i.wr("touchmove",i.handleTouchMove),i.wr("touchend",i.handleTouchEnd)}),E(R(i),"bindResizeEvent",function(){i.wa("resize",i.updateWidthHeight)}),E(R(i),"unbindResizeEvent",function(){i.wr("resize",i.updateWidthHeight)}),E(R(i),"bindWheelEvent",function(){i._containerRef&&i._containerRef.addEventListener("wheel",i.handleWheel,{passive:!1})}),E(R(i),"unbindWheelEvent",function(){i._containerRef&&i._containerRef.removeEventListener("wheel",i.handleWheel)}),E(R(i),"setCenterZoomTarget",function(l,f,m,v,y){if(m===void 0&&(m=!1),v===void 0&&(v=null),y===void 0&&(y=An),i.props.animate&&(!m||i.distanceInScreens(l,f,i.state.center,i.state.zoom)<=i.props.animateMaxScreens)){if(i._isAnimating){Dn(i._animFrame);var b=i.animationStep(q()),S=b.centerStep,x=b.zoomStep;i._centerStart=S,i._zoomStart=x}else i._isAnimating=!0,i._centerStart=i.limitCenterAtZoom([i._lastCenter[0],i._lastCenter[1]],i._lastZoom),i._zoomStart=i._lastZoom,i.onAnimationStart();i._animationStart=q(),i._animationEnd=i._animationStart+y,v?(i._zoomAround=v,i._centerTarget=i.calculateZoomCenter(i._lastCenter,v,i._lastZoom,f)):(i._zoomAround=null,i._centerTarget=l),i._zoomTarget=f,i._animFrame=Nt(i.animate)}else if(i.stopAnimating(),v){var C=i.calculateZoomCenter(i._lastCenter,v,i._lastZoom,f);i.setCenterZoom(C,f,m)}else i.setCenterZoom(l||i.state.center,f,m)}),E(R(i),"setCenterZoomForChildren",function(l,f){i.setCenterZoomTarget(l||i.state.center,f||i.state.zoom,!0)}),E(R(i),"distanceInScreens",function(l,f,m,v){var y=i.state,b=y.width,S=y.height,x=i.latLngToPixel(m,m,v),C=i.latLngToPixel(l,m,v),P=i.latLngToPixel(m,m,f),M=i.latLngToPixel(l,m,f),O=(Math.abs(x[0]-C[0])+Math.abs(P[0]-M[0]))/2/b,j=(Math.abs(x[1]-C[1])+Math.abs(P[1]-M[1]))/2/S;return Math.sqrt(O*O+j*j)}),E(R(i),"animationStep",function(l){if(!i._animationEnd||!i._animationStart||!i._zoomTarget||!i._zoomStart||!i._centerStart||!i._centerTarget)return{centerStep:i.state.center,zoomStep:i.state.zoom};var f=i._animationEnd-i._animationStart,m=Math.max(l-i._animationStart,0),v=sa(m/f),y=(i._zoomTarget-i._zoomStart)*v,b=i._zoomStart+y;if(i._zoomAround){var S=i.calculateZoomCenter(i._centerStart,i._zoomAround,i._zoomStart,b);return{centerStep:S,zoomStep:b}}else{var x=[i._centerStart[0]+(i._centerTarget[0]-i._centerStart[0])*v,i._centerStart[1]+(i._centerTarget[1]-i._centerStart[1])*v];return{centerStep:x,zoomStep:b}}}),E(R(i),"animate",function(l){if(!i._animationEnd||l>=i._animationEnd)i._isAnimating=!1,i.setCenterZoom(i._centerTarget,i._zoomTarget,!0),i.onAnimationStop();else{var f=i.animationStep(l),m=f.centerStep,v=f.zoomStep;i.setCenterZoom(m,v),i._animFrame=Nt(i.animate)}}),E(R(i),"stopAnimating",function(){i._isAnimating&&(i._isAnimating=!1,i.onAnimationStop(),Dn(i._animFrame))}),E(R(i),"limitCenterAtZoom",function(l,f){var m=i.getBoundsMinMax(f||i.state.zoom);return[Math.max(Math.min(!l||isNaN(l[0])?i.state.center[0]:l[0],m[1]),m[0]),Math.max(Math.min(!l||isNaN(l[1])?i.state.center[1]:l[1],m[3]),m[2])]}),E(R(i),"onAnimationStart",function(){i.props.onAnimationStart&&i.props.onAnimationStart()}),E(R(i),"onAnimationStop",function(){i.props.onAnimationStop&&i.props.onAnimationStop()}),E(R(i),"setCenterZoom",function(l,f,m){m===void 0&&(m=!1);var v=i.limitCenterAtZoom(l,f);if(f&&Math.round(i.state.zoom)!==Math.round(f)){var y=i.tileValues(i.state),b=i.tileValues({center:v,zoom:f,width:i.state.width,height:i.state.height}),S=i.state.oldTiles;i.setState({oldTiles:S.filter(function(N){return N.roundedZoom!==y.roundedZoom}).concat(y)},le);for(var x={},C=b.tileMinX;C<=b.tileMaxX;C++)for(var P=b.tileMinY;P<=b.tileMaxY;P++){var M=C+"-"+P+"-"+b.roundedZoom;x[M]=!1}i._loadTracker=x}i.setState({center:v,zoom:f||i.state.zoom},le);var O=i.props.zoom?i.props.zoom:i._lastZoom,j=i.props.center?i.props.center:i._lastCenter;f&&(m||Math.abs(O-f)>.001||Math.abs(j[0]-v[0])>1e-5||Math.abs(j[1]-v[1])>1e-5)&&(i._lastZoom=f,i._lastCenter=[].concat(v),i.syncToProps(v,f))}),E(R(i),"getBoundsMinMax",function(l){if(i.props.limitBounds==="center")return nt;var f=i.state,m=f.width,v=f.height;if(i._minMaxCache&&i._minMaxCache[0]===l&&i._minMaxCache[1]===m&&i._minMaxCache[2]===v)return i._minMaxCache[3];var y=Math.pow(2,l)*256,b=m>y?0:Se(m/512,l),S=v>y?0:we(Math.pow(2,l)-v/512,l),x=m>y?0:Se(Math.pow(2,l)-m/512,l),C=v>y?0:we(v/512,l),P=[S,C,b,x];return i._minMaxCache=[l,m,v,P],P}),E(R(i),"tileLoaded",function(l){if(i._loadTracker&&l in i._loadTracker){i._loadTracker[l]=!0;var f=Object.values(i._loadTracker).filter(function(m){return!m}).length;f===0&&i.setState({oldTiles:[]},le)}}),E(R(i),"handleTouchStart",function(l){if(i._containerRef&&!(l.target&&yt(l.target,"pigeon-drag-block"))){if(l.touches.length===1){var f=l.touches[0],m=V(i._containerRef,f);if(i.coordsInside(m)&&(i._touchStartPixel=[m],!i.props.twoFingerDrag))if(i.stopAnimating(),i._lastTap&&q()-i._lastTap<Nn){l.preventDefault();var v=i.pixelToLatLng(i._touchStartPixel[0]);i.setCenterZoomTarget(null,Math.max(i.props.minZoom,Math.min(i.state.zoom+1,i.props.maxZoom)),!1,v)}else i._lastTap=q(),i.trackMoveEvents(m)}else if(l.touches.length===2&&i._touchStartPixel){l.preventDefault(),i.stopTrackingMoveEvents(),(i.state.pixelDelta||i.state.zoomDelta)&&i.sendDeltaChange();var y=V(i._containerRef,l.touches[0]),b=V(i._containerRef,l.touches[1]);i._touchStartPixel=[y,b],i._touchStartMidPoint=[(y[0]+b[0])/2,(y[1]+b[1])/2],i._touchStartDistance=Math.sqrt(Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2))}}}),E(R(i),"handleTouchMove",function(l){if(!i._containerRef){i._touchStartPixel=null;return}if(l.touches.length===1&&i._touchStartPixel){var f=l.touches[0],m=V(i._containerRef,f);i.props.twoFingerDrag?i.coordsInside(m)&&i.showWarning("fingers"):(l.preventDefault(),i.trackMoveEvents(m),i.setState({pixelDelta:[m[0]-i._touchStartPixel[0][0],m[1]-i._touchStartPixel[0][1]]},le))}else if(l.touches.length===2&&i._touchStartPixel&&i._touchStartMidPoint&&i._touchStartDistance){var v=i.state,y=v.width,b=v.height,S=v.zoom;l.preventDefault();var x=V(i._containerRef,l.touches[0]),C=V(i._containerRef,l.touches[1]),P=[(x[0]+C[0])/2,(x[1]+C[1])/2],M=[P[0]-i._touchStartMidPoint[0],P[1]-i._touchStartMidPoint[1]],O=Math.sqrt(Math.pow(x[0]-C[0],2)+Math.pow(x[1]-C[1],2)),j=Math.max(i.props.minZoom,Math.min(i.props.maxZoom,S+Math.log2(O/i._touchStartDistance)))-S,N=Math.pow(2,j),$=[(y/2-P[0])*(N-1),(b/2-P[1])*(N-1)];i.setState({zoomDelta:j,pixelDelta:[$[0]+M[0]*N,$[1]+M[1]*N]},le)}}),E(R(i),"handleTouchEnd",function(l){if(!i._containerRef){i._touchStartPixel=null;return}if(i._touchStartPixel){var f=i.props,m=f.zoomSnap,v=f.twoFingerDrag,y=f.minZoom,b=f.maxZoom,S=i.state.zoomDelta,x=i.sendDeltaChange(),C=x.center,P=x.zoom;if(l.touches.length===0)if(v)i.clearWarning();else{var M=i._touchStartPixel[0],O=V(i._containerRef,l.changedTouches[0]);(Math.abs(M[0]-O[0])>At||Math.abs(M[1]-O[1])>At)&&(!i._secondTouchEnd||q()-i._secondTouchEnd>ta)&&(l.preventDefault(),i.throwAfterMoving(O,C,P)),i._touchStartPixel=null,i._secondTouchEnd=null}else if(l.touches.length===1){l.preventDefault();var j=V(i._containerRef,l.touches[0]);if(i._secondTouchEnd=q(),i._touchStartPixel=[j],i.trackMoveEvents(j),m){var N=i._touchStartMidPoint?i.pixelToLatLng(i._touchStartMidPoint):i.state.center,$;v&&Math.round(i.state.zoom)===Math.round(i.state.zoom+S)?$=Math.round(i.state.zoom):$=S>0?Math.ceil(i.state.zoom):Math.floor(i.state.zoom);var ue=Math.max(y,Math.min($,b));i.setCenterZoomTarget(N,ue,!1,N)}}}}),E(R(i),"handleMouseDown",function(l){if(i._containerRef){var f=V(i._containerRef,l);if(l.button===0&&(!l.target||!yt(l.target,"pigeon-drag-block"))&&i.coordsInside(f))if(i.stopAnimating(),l.preventDefault(),i._lastClick&&q()-i._lastClick<Nn){if(!yt(l.target,"pigeon-click-block")){var m=i.pixelToLatLng(i._mousePosition||f);i.setCenterZoomTarget(null,Math.max(i.props.minZoom,Math.min(i.state.zoom+1,i.props.maxZoom)),!1,m)}}else i._lastClick=q(),i._mouseDown=!0,i._dragStart=f,i.trackMoveEvents(f)}}),E(R(i),"handleMouseMove",function(l){i._containerRef&&(i._mousePosition=V(i._containerRef,l),i._mouseDown&&i._dragStart&&(i.trackMoveEvents(i._mousePosition),i.setState({pixelDelta:[i._mousePosition[0]-i._dragStart[0],i._mousePosition[1]-i._dragStart[1]]},le)))}),E(R(i),"handleMouseUp",function(l){if(!i._containerRef){i._mouseDown=!1;return}var f=i.state.pixelDelta;if(i._mouseDown){i._mouseDown=!1;var m=V(i._containerRef,l);if(i.props.onClick&&(!l.target||!yt(l.target,"pigeon-click-block"))&&(!f||Math.abs(f[0])+Math.abs(f[1])<=At)){var v=i.pixelToLatLng(m);i.props.onClick({event:l,latLng:v,pixel:m}),i.setState({pixelDelta:void 0},le)}else{var y=i.sendDeltaChange(),b=y.center,S=y.zoom;i.throwAfterMoving(m,b,S)}}}),E(R(i),"stopTrackingMoveEvents",function(){i._moveEvents=[]}),E(R(i),"trackMoveEvents",function(l){var f=q();(i._moveEvents.length===0||f-i._moveEvents[i._moveEvents.length-1].timestamp>40)&&(i._moveEvents.push({timestamp:f,coords:l}),i._moveEvents.length>2&&i._moveEvents.shift())}),E(R(i),"throwAfterMoving",function(l,f,m){var v=i.state,y=v.width,b=v.height,S=i.props.animate,x=q(),C=i._moveEvents.shift();if(C&&S){var P=Math.max(x-C.timestamp,1),M=[(l[0]-C.coords[0])/P*120,(l[1]-C.coords[1])/P*120],O=Math.sqrt(M[0]*M[0]+M[1]*M[1]);if(O>Xr){var j=Math.sqrt(y*y+b*b),N=Jr*O/j,$=Se(Ne(f[1],m)-M[0]/256,m),ue=we(De(f[0],m)-M[1]/256,m);i.setCenterZoomTarget([ue,$],m,!1,null,N)}}i.stopTrackingMoveEvents()}),E(R(i),"sendDeltaChange",function(){var l=i.state,f=l.center,m=l.zoom,v=l.pixelDelta,y=l.zoomDelta,b=f[0],S=f[1];return(v||y!==0)&&(S=Se(Ne(f[1],m+y)-(v?v[0]/256:0),m+y),b=we(De(f[0],m+y)-(v?v[1]/256:0),m+y),i.setCenterZoom([b,S],m+y)),i.setState({pixelDelta:void 0,zoomDelta:0},le),{center:i.limitCenterAtZoom([b,S],m+y),zoom:m+y}}),E(R(i),"getBounds",function(l,f){l===void 0&&(l=i.state.center),f===void 0&&(f=i.zoomPlusDelta());var m=i.state,v=m.width,y=m.height;return{ne:i.pixelToLatLng([v-1,0],l,f),sw:i.pixelToLatLng([0,y-1],l,f)}}),E(R(i),"syncToProps",function(l,f){l===void 0&&(l=i.state.center),f===void 0&&(f=i.state.zoom);var m=i.props.onBoundsChanged;if(m){var v=i.getBounds(l,f);m({center:l,zoom:f,bounds:v,initial:!i._boundsSynced}),i._boundsSynced=!0}}),E(R(i),"handleWheel",function(l){var f=i.props,m=f.mouseEvents,v=f.metaWheelZoom,y=f.zoomSnap,b=f.animate;if(m)if(!v||l.metaKey||l.ctrlKey){l.preventDefault();var S=-l.deltaY/Gr;if(!y&&i._zoomTarget){var x=i._zoomTarget-i.state.zoom;i.zoomAroundMouse(S+x,l)}else b?i.zoomAroundMouse(S,l):(!i._lastWheel||q()-i._lastWheel>An)&&(i._lastWheel=q(),i.zoomAroundMouse(S,l))}else i.showWarning("wheel")}),E(R(i),"showWarning",function(l){(!i.state.showWarning||i.state.warningType!==l)&&i.setState({showWarning:!0,warningType:l}),i._warningClearTimeout&&window.clearTimeout(i._warningClearTimeout),i._warningClearTimeout=window.setTimeout(i.clearWarning,na)}),E(R(i),"clearWarning",function(){i.state.showWarning&&i.setState({showWarning:!1})}),E(R(i),"zoomAroundMouse",function(l,f){if(i._containerRef){var m=i.state.zoom,v=i.props,y=v.minZoom,b=v.maxZoom,S=v.zoomSnap;if(i._mousePosition=V(i._containerRef,f),!(!i._mousePosition||m===y&&l<0||m===b&&l>0)){var x=i.pixelToLatLng(i._mousePosition),C=m+l;S&&(C=l<0?Math.floor(C):Math.ceil(C)),C=Math.max(y,Math.min(C,b)),i.setCenterZoomTarget(null,C,!1,x)}}}),E(R(i),"zoomPlusDelta",function(){return i.state.zoom+i.state.zoomDelta}),E(R(i),"pixelToLatLng",function(l,f,m){f===void 0&&(f=i.state.center),m===void 0&&(m=i.zoomPlusDelta());var v=i.state,y=v.width,b=v.height,S=v.pixelDelta,x=[(l[0]-y/2-(S?S[0]:0))/256,(l[1]-b/2-(S?S[1]:0))/256],C=Ne(f[1],m)+x[0],P=De(f[0],m)+x[1];return[Math.max(nt[0],Math.min(nt[1],we(P,m))),Math.max(nt[2],Math.min(nt[3],Se(C,m)))]}),E(R(i),"latLngToPixel",function(l,f,m){f===void 0&&(f=i.state.center),m===void 0&&(m=i.zoomPlusDelta());var v=i.state,y=v.width,b=v.height,S=v.pixelDelta,x=Ne(f[1],m),C=De(f[0],m),P=Ne(l[1],m),M=De(l[0],m);return[(P-x)*256+y/2+(S?S[0]:0),(M-C)*256+b/2+(S?S[1]:0)]}),E(R(i),"calculateZoomCenter",function(l,f,m,v){var y=i.state,b=y.width,S=y.height,x=i.latLngToPixel(f,l,m),C=i.latLngToPixel(f,l,v),P=i.pixelToLatLng([b/2+C[0]-x[0],S/2+C[1]-x[1]],l,v);return i.limitCenterAtZoom(P,v)}),E(R(i),"setRef",function(l){i._containerRef=l}),i.syncToProps=qr(i.syncToProps,ea),i._lastZoom=(r=(a=s.defaultZoom)!==null&&a!==void 0?a:s.zoom)!==null&&r!==void 0?r:14,i._lastCenter=(o=(u=s.defaultCenter)!==null&&u!==void 0?u:s.center)!==null&&o!==void 0?o:[0,0],i.state={zoom:i._lastZoom,center:i._lastCenter,width:(c=(h=s.width)!==null&&h!==void 0?h:s.defaultWidth)!==null&&c!==void 0?c:-1,height:(d=(p=s.height)!==null&&p!==void 0?p:s.defaultHeight)!==null&&d!==void 0?d:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},i}var t=e.prototype;return t.componentDidMount=function(){var r=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),(!this.props.width||!this.props.height)&&(this.updateWidthHeight()||Nt(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),typeof window.ResizeObserver<"u"&&(this._resizeObserver=new window.ResizeObserver(function(){r.updateWidthHeight()}),this._resizeObserver.observe(this._containerRef))},t.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),(!this.props.width||!this.props.height)&&this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},t.componentDidUpdate=function(r){var a;if(this.props.mouseEvents!==r.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==r.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==r.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==r.height&&this.setState({height:this.props.height}),!(!this.props.center&&!this.props.zoom)&&!((!this.props.center||this.props.center[0]===(r==null||(a=r.center)===null||a===void 0?void 0:a[0])&&this.props.center[1]===r.center[1])&&this.props.zoom===r.zoom)){var o=this._isAnimating?this._centerTarget:this.state.center,u=this._isAnimating?this._zoomTarget:this.state.zoom;if(o&&u){var c,h,d=(c=this.props.center)!==null&&c!==void 0?c:o,p=(h=this.props.zoom)!==null&&h!==void 0?h:u;(Math.abs(p-u)>.001||Math.abs(d[0]-o[0])>1e-4||Math.abs(d[1]-o[1])>1e-4)&&this.setCenterZoomTarget(d,p,!0)}}},t.coordsInside=function(r){var a=this.state,o=a.width,u=a.height;if(r[0]<0||r[1]<0||r[0]>=o||r[1]>=u)return!1;var c=this._containerRef;if(c){var h=ws(c),d=document.elementFromPoint(r[0]+h.x,r[1]+h.y);return c===d||c.contains(d)}else return!1},t.tileValues=function(r){var a=r.center,o=r.zoom,u=r.pixelDelta,c=r.zoomDelta,h=r.width,d=r.height,p=Math.round(o+(c||0)),i=o+(c||0)-p,l=Math.pow(2,i),f=h/l,m=d/l,v=Ne(a[1],p)-(u?u[0]/256/l:0),y=De(a[0],p)-(u?u[1]/256/l:0),b=f/2/256,S=m/2/256,x=Math.floor(v-b),C=Math.floor(v+b),P=Math.floor(y-S),M=Math.floor(y+S);return{tileMinX:x,tileMaxX:C,tileMinY:P,tileMaxY:M,tileCenterX:v,tileCenterY:y,roundedZoom:p,zoomDelta:c||0,scaleWidth:f,scaleHeight:m,scale:l}},t.renderTiles=function(){for(var r=this,a=this.state,o=a.oldTiles,u=a.width,c=a.height,h=this.props.dprs,d=this.props.provider||Yr,p=this.tileValues(this.state),i=p.tileMinX,l=p.tileMaxX,f=p.tileMinY,m=p.tileMaxY,v=p.tileCenterX,y=p.tileCenterY,b=p.roundedZoom,S=p.scaleWidth,x=p.scaleHeight,C=p.scale,P=[],M=0;M<o.length;M++){var O=o[M],j=O.roundedZoom-b;if(!(Math.abs(j)>4||j===0))for(var N=1/Math.pow(2,j),$=-(i-O.tileMinX*N)*256,ue=-(f-O.tileMinY*N)*256,Xe=Math.max(O.tileMinX,0),ve=Math.max(O.tileMinY,0),ye=Math.min(O.tileMaxX,Math.pow(2,O.roundedZoom)-1),Te=Math.min(O.tileMaxY,Math.pow(2,O.roundedZoom)-1),re=Xe;re<=ye;re++)for(var U=ve;U<=Te;U++)P.push({key:re+"-"+U+"-"+O.roundedZoom,url:d(re,U,O.roundedZoom),srcSet:Fn(h,d,re,U,O.roundedZoom),left:$+(re-O.tileMinX)*256*N,top:ue+(U-O.tileMinY)*256*N,width:256*N,height:256*N,active:!1})}for(var ae=Math.max(i,0),be=Math.max(f,0),dt=Math.min(l,Math.pow(2,b)-1),Os=Math.min(m,Math.pow(2,b)-1),_e=ae;_e<=dt;_e++)for(var je=be;je<=Os;je++)P.push({key:_e+"-"+je+"-"+b,url:d(_e,je,b),srcSet:Fn(h,d,_e,je,b),left:(_e-i)*256,top:(je-f)*256,width:256,height:256,active:!0});var Ms={width:S,height:x,position:"absolute",top:"calc((100% - "+c+"px) / 2)",left:"calc((100% - "+u+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+C+", "+C+")",transformOrigin:"top left"},Es=this.props.boxClassname||"pigeon-tiles-box",Rs=-((v-i)*256-S/2),Ps=-((y-f)*256-x/2),Ls={position:"absolute",width:(l-i+1)*256,height:(m-f+1)*256,willChange:"transform",transform:"translate("+Rs+"px, "+Ps+"px)"},Ts=this.props.tileComponent;return F.createElement("div",{style:Ms,className:Es},F.createElement("div",{className:"pigeon-tiles",style:Ls},P.map(function(Pt){return F.createElement(Ts,{key:Pt.key,tile:Pt,tileLoaded:function(){return r.tileLoaded(Pt.key)}})})))},t.renderOverlays=function(){var r=this,a=this.state,o=a.width,u=a.height,c=a.center,h={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:c,width:o,height:u},d=F.Children.map(this.props.children,function(i){if(!i)return null;if(!F.isValidElement(i))return i;var l=i.props,f=l.anchor,m=l.position,v=l.offset,y=r.latLngToPixel(f||m||c);return F.cloneElement(i,{left:y[0]-(v?v[0]:0),top:y[1]-(v?v[1]:0),latLngToPixel:r.latLngToPixel,pixelToLatLng:r.pixelToLatLng,setCenterZoom:r.setCenterZoomForChildren,mapProps:r.props,mapState:h})}),p={position:"absolute",width:o,height:u,top:"calc((100% - "+u+"px) / 2)",left:"calc((100% - "+o+"px) / 2)"};return F.createElement("div",{className:"pigeon-overlays",style:p},d)},t.renderAttribution=function(){var r=this.props,a=r.attribution,o=r.attributionPrefix;if(a===!1)return null;var u={position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"},c={color:"#0078A8",textDecoration:"none"};return F.createElement("div",{key:"attr",className:"pigeon-attribution",style:u},o===!1?null:F.createElement("span",null,o||F.createElement("a",{href:"https://pigeon-maps.js.org/",style:c,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),a||F.createElement("span",null," © ",F.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:c,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},t.renderWarning=function(){var r=this.props,a=r.metaWheelZoom,o=r.metaWheelZoomWarning,u=r.twoFingerDrag,c=r.twoFingerDragWarning,h=r.warningZIndex,d=this.state,p=d.showWarning,i=d.warningType,l=d.width,f=d.height;if(a&&o||u&&c){var m={position:"absolute",top:0,left:0,width:l,height:f,overflow:"hidden",pointerEvents:"none",opacity:p?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:h},v=typeof window<"u"&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"ctrl",y=i==="fingers"?c:o;return F.createElement("div",{className:"pigeon-overlay-warning",style:m},y.replace("META",v))}else return null},t.render=function(){var r=this.props,a=r.touchEvents,o=r.twoFingerDrag,u=this.state,c=u.width,h=u.height,d={width:this.props.width?c:"100%",height:this.props.height?h:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:a?o?"pan-x pan-y":"none":"auto"},p=!!(c&&h);return F.createElement("div",{style:d,ref:this.setRef,dir:"ltr"},p&&this.renderTiles(),p&&this.renderOverlays(),p&&this.renderAttribution(),p&&this.renderWarning())},e}(T.Component);E(Cs,"defaultProps",{animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[],tileComponent:ia});function ra(n){var e=typeof n.width<"u"?n.width:typeof n.height<"u"?n.height*29/34:29,t=typeof n.height<"u"?n.height:typeof n.width<"u"?n.width*34/29:34,s=T.useState(n.hover||!1),r=s[0],a=s[1],o=typeof n.hover>"u"?r:n.hover,u=n.color||"#93C0D0",c=function(d){return{event:d,anchor:n.anchor,payload:n.payload}};return F.createElement("div",{style:xe({position:"absolute",transform:"translate("+(n.left-e/2)+"px, "+(n.top-(t-1))+"px)",filter:o?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},n.style||{}),className:n.className?n.className+" pigeon-click-block":"pigeon-click-block",onClick:n.onClick?function(h){return n.onClick(c(h))}:null,onContextMenu:n.onContextMenu?function(h){return n.onContextMenu(c(h))}:null,onMouseOver:function(d){n.onMouseOver&&n.onMouseOver(c(d)),a(!0)},onMouseOut:function(d){n.onMouseOut&&n.onMouseOut(c(d)),a(!1)}},n.children||F.createElement("svg",{width:e,height:t,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("g",{style:{pointerEvents:"auto"}},F.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:u,stroke:"white",strokeWidth:"4"}),F.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:o?.98:.6}))))}var In={position:"absolute",top:10,left:10},bt={width:28,height:28,borderRadius:2,boxShadow:"0 1px 4px -1px rgba(0,0,0,.3)",background:"white",lineHeight:"26px",fontSize:"20px",fontWeight:700,color:"#666",marginBottom:1,cursor:"pointer",border:"none",display:"block",outline:"none"};function aa(n){var e=n.style,t=n.buttonStyle,s=n.setCenterZoom,r=n.mapState,a=n.mapProps;return F.createElement("div",{className:"pigeon-zoom-buttons pigeon-drag-block",style:e?xe(xe({},In),e):In},F.createElement("button",{className:"pigeon-zoom-in",type:"button",style:t?xe(xe({},bt),t):bt,onClick:function(){return s(r.center,Math.min(r.zoom+1,a.maxZoom))}},"+"),F.createElement("button",{className:"pigeon-zoom-out",type:"button",style:t?xe(xe({},bt),t):bt,onClick:function(){return s(r.center,Math.max(r.zoom-1,a.minZoom))}},"–"))}const $n=({onLocationSelect:n,initialLocation:e})=>{const[t,s]=T.useState(e||[55.7558,37.6173]),[r,a]=T.useState(10),[o,u]=T.useState(e),c=({latLng:h})=>{u(h),n(h)};return w.jsxs(Cs,{height:300,center:t,zoom:r,onBoundsChanged:({center:h,zoom:d})=>{s(h),a(d)},onClick:c,children:[o&&w.jsx(ra,{width:50,anchor:o}),w.jsx(aa,{})]})},oa={name:"",pointA:ln,pointB:ln,hourA:"00:00",hourB:"00:00"},ua=({setCurrentPage:n})=>{const{t:e}=en(),[t,s]=T.useState(oa),[r,a]=T.useState(!1),[o,u]=T.useState(""),[c,h]=T.useState(""),[d,p]=T.useState(!1),[i,l]=T.useState(!1),[f,m]=T.useState(!1),[v,y]=T.useState(""),b=M=>O=>{const j=O.target.value;s(N=>({...N,[M]:j}))},S=M=>{if(M.preventDefault(),!o||!c){y("Пожалуйста, укажите обе точки (А и Б)");return}Rt(Xt,{data:{...t}}).then(O=>{!O.success&&!O.id?y(O.message):n("home")})},x=(M,O)=>{m(!0),y(""),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async j=>{const{latitude:N,longitude:$}=j.coords;try{const Xe=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${N}&lon=${$}`)).json();M(Xe.display_name),b(O)({target:{value:[N,$]}})}catch{y("Не удалось получить название местоположения")}finally{m(!1)}},j=>{y("Не удалось получить местоположение"),m(!1)}):(y("Геолокация не поддерживается вашим браузером"),m(!1))},C=async(M,O,j)=>{m(!0),y("");try{const $=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${M[0]}&lon=${M[1]}`)).json();O($.display_name),b(j)({target:{value:M}})}catch{y("Не удалось получить название местоположения")}finally{m(!1)}},P="py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700";return w.jsxs("form",{onSubmit:S,style:{display:"flex",flexDirection:"column",gap:"20px"},className:"mx-auto",children:[w.jsx("input",{type:"text",value:t.name||"",onChange:b("name"),placeholder:e("Route name"),style:{padding:"10px",borderRadius:"5px",border:"1px solid #dbdbdb"},required:!0}),w.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 ",children:[e("Select time from A to B"),":"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"time",id:"timeA",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"00:00",max:"24:00",value:t.hourA||"00:00",onChange:b("hourA"),required:!0})}),w.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 ",children:[e("Select time from B to A"),":"]}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"time",id:"timeB",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"00:00",max:"24:00",value:t.hourB||"00:00",onChange:b("hourB"),required:!0})}),w.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[w.jsxs("div",{style:{display:"flex",gap:"10px"},children:[w.jsx("button",{className:P,type:"button",onClick:()=>x(u,"pointA"),style:{},disabled:f,children:f?"Загрузка...":"📍"}),w.jsx("button",{className:P,type:"button",onClick:()=>p(!d),style:{},children:"🗺️"})]}),d&&w.jsx($n,{onLocationSelect:M=>C(M,u,"pointA")}),w.jsxs("div",{style:{display:"flex",gap:"10px"},children:[w.jsx("button",{type:"button",onClick:()=>x(h,"pointB"),style:{},className:P,disabled:f,children:f?"Загрузка...":"📍"}),w.jsx("button",{className:P,type:"button",onClick:()=>l(!i),style:{},children:"🗺️"})]}),i&&w.jsx($n,{onLocationSelect:M=>C(M,h,"pointB")})]}),v&&w.jsx("p",{style:{color:"red"},children:v}),w.jsx("button",{type:"submit",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800",children:e("Create route")}),w.jsx(us,{isOpen:r,onClose:()=>a(!1),location})]})},la={en:{translation:{welcome:"Welcome to routeCab app!",changeLanguage:"Change language",currentLanguage:"Current language",loading:"Loading"}},es:{translation:{welcome:"¡Bienvenido a nuestra routeCab!",changeLanguage:"Cambiar idioma",currentLanguage:"Idioma actual"}},fr:{translation:{welcome:"Bienvenue dans notre routeCab!",changeLanguage:"Changer de langue",currentLanguage:"Langue actuelle"}},ru:{translation:{welcome:"Добро пожаловать",changeLanguage:"Изменить язык",currentLanguage:"Текущий язык",loading:"Загрузка"}}},ca=T.lazy(()=>Us(()=>import("./PostDetail-C7YiIY9U.js"),__vite__mapDeps([0,1,2,3]))),ha=os.get("lang");W.use(Ei).init({resources:la,lng:ha,fallbackLng:"en",interpolation:{escapeValue:!1}});const fa=()=>{const[n,e]=T.useState("home"),[t,s]=T.useState(null),{data:r}=ts();if(en(),r.successMessage)return null;const a=u=>{s(u),e("postDetail")},o=()=>{switch(n){case"home":return w.jsxs(w.Fragment,{children:[w.jsx(tt,{title:"Route cab",setCurrentPage:e}),w.jsx(Hr,{onClick:a})]});case"newPost":return w.jsxs(w.Fragment,{children:[w.jsx(tt,{title:"Create new route",setCurrentPage:e}),w.jsx(ua,{setCurrentPage:e})]});case"profile":return w.jsxs(w.Fragment,{children:[w.jsx(tt,{title:"Profile",setCurrentPage:e}),w.jsx(ir,{})]});case"settings":return w.jsxs(w.Fragment,{children:[w.jsx(tt,{title:"Settings",setCurrentPage:e}),w.jsx(nr,{setCurrentPage:e})]});case"postDetail":return w.jsxs(w.Fragment,{children:[w.jsx(tt,{title:`Route ${(t==null?void 0:t.name)||"Noname"}`,setCurrentPage:e}),w.jsx(T.Suspense,{fallback:w.jsx(zs,{}),children:w.jsx(ca,{post:t,setCurrentPage:e})})]});default:return null}};return w.jsxs("div",{style:{backgroundColor:"#fafafa",minHeight:"100vh"},children:[w.jsx("main",{style:{maxWidth:"975px",margin:"0 auto",padding:"80px 20px 60px"},children:o()}),w.jsx(sr,{setCurrentPage:e})]})},da=new Pr,ga=()=>w.jsx(jr,{client:da,children:w.jsx(fa,{})}),ya=Object.freeze(Object.defineProperty({__proto__:null,default:ga},Symbol.toStringTag,{value:"Module"}));export{ya as A,Cs as M,aa as Z,ra as a,Rt as f};
