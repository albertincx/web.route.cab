const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PostDetail-DCeNaQQw.js","assets/index-Cp0po2m7.js","assets/index-DntK2lUG.css","assets/PostDetail--j4rfmDn.css"])))=>i.map(i=>d[i]);
var Rs=Object.defineProperty;var rn=n=>{throw TypeError(n)};var Ps=(n,e,t)=>e in n?Rs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var an=(n,e,t)=>Ps(n,typeof e!="symbol"?e+"":e,t),Pt=(n,e,t)=>e.has(n)||rn("Cannot "+t);var p=(n,e,t)=>(Pt(n,e,"read from private field"),t?t.call(n):e.get(n)),T=(n,e,t)=>e.has(n)?rn("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),L=(n,e,t,i)=>(Pt(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),k=(n,e,t)=>(Pt(n,e,"access private method"),t);var dt=(n,e,t,i)=>({set _(r){L(n,e,r,t)},get _(){return p(n,e,i)}});import{r as _,g as Ls,R as F,j as C,y as _s,p as Ts,A as on,a as ks,b as At,c as js,d as As,e as Ds,_ as Ns,L as Fs}from"./index-Cp0po2m7.js";var Is={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const un=n=>{let e;const t=new Set,i=(d,g)=>{const s=typeof d=="function"?d(e):d;if(!Object.is(s,e)){const l=e;e=g??(typeof s!="object"||s===null)?s:Object.assign({},e,s),t.forEach(f=>f(e,l))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>h,subscribe:d=>(t.add(d),()=>t.delete(d)),destroy:()=>{(Is?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},h=e=n(i,r,c);return c},$s=n=>n?un(n):un;var Hn={exports:{}},Vn={},qn={exports:{}},Yn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=_;function Us(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var zs=typeof Object.is=="function"?Object.is:Us,Ws=Je.useState,Ks=Je.useEffect,Zs=Je.useLayoutEffect,Qs=Je.useDebugValue;function Bs(n,e){var t=e(),i=Ws({inst:{value:t,getSnapshot:e}}),r=i[0].inst,a=i[1];return Zs(function(){r.value=t,r.getSnapshot=e,Lt(r)&&a({inst:r})},[n,t,e]),Ks(function(){return Lt(r)&&a({inst:r}),n(function(){Lt(r)&&a({inst:r})})},[n]),Qs(t),t}function Lt(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!zs(n,t)}catch{return!0}}function Hs(n,e){return e()}var Vs=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hs:Bs;Yn.useSyncExternalStore=Je.useSyncExternalStore!==void 0?Je.useSyncExternalStore:Vs;qn.exports=Yn;var qs=qn.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ot=_,Ys=qs;function Js(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Gs=typeof Object.is=="function"?Object.is:Js,Xs=Ys.useSyncExternalStore,ei=Ot.useRef,ti=Ot.useEffect,ni=Ot.useMemo,si=Ot.useDebugValue;Vn.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var a=ei(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=ni(function(){function c(l){if(!h){if(h=!0,d=l,l=i(l),r!==void 0&&o.hasValue){var f=o.value;if(r(f,l))return g=f}return g=l}if(f=g,Gs(d,l))return f;var m=i(l);return r!==void 0&&r(f,m)?f:(d=l,g=m)}var h=!1,d,g,s=t===void 0?null:t;return[function(){return c(e())},s===null?void 0:function(){return c(s())}]},[e,t,i,r]);var u=Xs(n,a[0],a[1]);return ti(function(){o.hasValue=!0,o.value=u},[u]),si(u),u};Hn.exports=Vn;var ii=Hn.exports;const ri=Ls(ii);var Jn={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:ai}=F,{useSyncExternalStoreWithSelector:oi}=ri;let ln=!1;const ui=n=>n;function li(n,e=ui,t){(Jn?"production":void 0)!=="production"&&t&&!ln&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ln=!0);const i=oi(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return ai(i),i}const cn=n=>{(Jn?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?$s(n):n,t=(i,r)=>li(e,i,r);return Object.assign(t,e),t},ci=n=>n?cn(n):cn,Gn=ci(n=>({data:{},setData:e=>{n(t=>({...t,data:{...t.data,...e}}))}}));function hi(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const hn={};function Dt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];typeof e[0]=="string"&&hn[e[0]]||(typeof e[0]=="string"&&(hn[e[0]]=new Date),hi(...e))}const Xn=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}};function fn(n,e,t){n.loadNamespaces(e,Xn(n,t))}function dn(n,e,t,i){typeof t=="string"&&(t=[t]),t.forEach(r=>{n.options.ns.indexOf(r)<0&&n.options.ns.push(r)}),n.loadLanguages(e,Xn(n,i))}function fi(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],r=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(u,c)=>{const h=e.services.backendConnector.state[`${u}|${c}`];return h===-1||h===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(i,n)&&(!r||o(a,n)))}function di(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Dt("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,n))return!1}}):fi(n,e,t)}const pi=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,gi={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},mi=n=>gi[n],vi=n=>n.replace(pi,mi);let Nt={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:vi};function yi(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Nt={...Nt,...n}}function bi(){return Nt}let es;function xi(n){es=n}function wi(){return es}const Si={type:"3rdParty",init(n){yi(n.options.react),xi(n)}},Ci=_.createContext();class Oi{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Mi=(n,e)=>{const t=_.useRef();return _.useEffect(()=>{t.current=n},[n,e]),t.current};function ts(n,e,t,i){return n.getFixedT(e,t,i)}function Ei(n,e,t,i){return _.useCallback(ts(n,e,t,i),[n,e,t,i])}function Gt(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:i,defaultNS:r}=_.useContext(Ci)||{},a=t||i||wi();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Oi),!a){Dt("You will need to pass in an i18next instance by using initReactI18next");const w=(R,P)=>typeof P=="string"?P:P&&typeof P=="object"&&typeof P.defaultValue=="string"?P.defaultValue:Array.isArray(R)?R[R.length-1]:R,x=[w,{},!1];return x.t=w,x.i18n={},x.ready=!1,x}a.options.react&&a.options.react.wait!==void 0&&Dt("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...bi(),...a.options.react,...e},{useSuspense:u,keyPrefix:c}=o;let h=r||a.options&&a.options.defaultNS;h=typeof h=="string"?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);const d=(a.isInitialized||a.initializedStoreOnce)&&h.every(w=>di(w,a,o)),g=Ei(a,e.lng||null,o.nsMode==="fallback"?h:h[0],c),s=()=>g,l=()=>ts(a,e.lng||null,o.nsMode==="fallback"?h:h[0],c),[f,m]=_.useState(s);let v=h.join();e.lng&&(v=`${e.lng}${v}`);const y=Mi(v),b=_.useRef(!0);_.useEffect(()=>{const{bindI18n:w,bindI18nStore:x}=o;b.current=!0,!d&&!u&&(e.lng?dn(a,e.lng,h,()=>{b.current&&m(l)}):fn(a,h,()=>{b.current&&m(l)})),d&&y&&y!==v&&b.current&&m(l);function R(){b.current&&m(l)}return w&&a&&a.on(w,R),x&&a&&a.store.on(x,R),()=>{b.current=!1,w&&a&&w.split(" ").forEach(P=>a.off(P,R)),x&&a&&x.split(" ").forEach(P=>a.store.off(P,R))}},[a,v]),_.useEffect(()=>{b.current&&d&&m(s)},[a,c,d]);const S=[f,a,d];if(S.t=f,S.i18n=a,S.ready=d,d||!d&&!u)return S;throw new Promise(w=>{e.lng?dn(a,e.lng,h,()=>w()):fn(a,h,()=>w())})}const Ri={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class bt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ri,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,r){return r&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new bt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new bt(this.logger,e)}}var ie=new bt;class Mt{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(t)||0;this.observers[i].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[u,c]=o;for(let h=0;h<c;h++)u(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[u,c]=o;for(let h=0;h<c;h++)u.apply(u,[e,...i])})}}function Xe(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});return t.resolve=n,t.reject=e,t}function pn(n){return n==null?"":""+n}function Pi(n,e,t){n.forEach(i=>{e[i]&&(t[i]=e[i])})}const Li=/###/g;function st(n,e,t){function i(u){return u&&u.indexOf("###")>-1?u.replace(Li,"."):u}function r(){return!n||typeof n=="string"}const a=typeof e!="string"?e:e.split(".");let o=0;for(;o<a.length-1;){if(r())return{};const u=i(a[o]);!n[u]&&t&&(n[u]=new t),Object.prototype.hasOwnProperty.call(n,u)?n=n[u]:n={},++o}return r()?{}:{obj:n,k:i(a[o])}}function gn(n,e,t){const{obj:i,k:r}=st(n,e,Object);if(i!==void 0||e.length===1){i[r]=t;return}let a=e[e.length-1],o=e.slice(0,e.length-1),u=st(n,o,Object);for(;u.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),u=st(n,o,Object),u&&u.obj&&typeof u.obj[`${u.k}.${a}`]<"u"&&(u.obj=void 0);u.obj[`${u.k}.${a}`]=t}function _i(n,e,t,i){const{obj:r,k:a}=st(n,e,Object);r[a]=r[a]||[],r[a].push(t)}function xt(n,e){const{obj:t,k:i}=st(n,e);if(t)return t[i]}function Ti(n,e,t){const i=xt(n,t);return i!==void 0?i:xt(e,t)}function ns(n,e,t){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?t&&(n[i]=e[i]):ns(n[i],e[i],t):n[i]=e[i]);return n}function je(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ji(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>ki[e]):n}class Ai{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const Di=[" ",",","?","!",";"],Ni=new Ai(20);function Fi(n,e,t){e=e||"",t=t||"";const i=Di.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const r=Ni.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!r.test(n);if(!a){const o=n.indexOf(t);o>0&&!r.test(n.substring(0,o))&&(a=!0)}return a}function Ft(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const i=e.split(t);let r=n;for(let a=0;a<i.length;){if(!r||typeof r!="object")return;let o,u="";for(let c=a;c<i.length;++c)if(c!==a&&(u+=t),u+=i[c],o=r[u],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<i.length-1)continue;a+=c-a+1;break}r=o}return r}function wt(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class mn extends Mt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let u;e.indexOf(".")>-1?u=e.split("."):(u=[e,t],i&&(Array.isArray(i)?u.push(...i):typeof i=="string"&&a?u.push(...i.split(a)):u.push(i)));const c=xt(this.data,u);return!c&&!t&&!i&&e.indexOf(".")>-1&&(e=u[0],t=u[1],i=u.slice(2).join(".")),c||!o||typeof i!="string"?c:Ft(this.data&&this.data[e]&&this.data[e][t],i,a)}addResource(e,t,i,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let u=[e,t];i&&(u=u.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(u=e.split("."),r=t,t=u[1]),this.addNamespaces(t),gn(this.data,u,r),a.silent||this.emit("added",e,t,i,r)}addResources(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in i)(typeof i[a]=="string"||Array.isArray(i[a]))&&this.addResource(e,t,a,i[a],{silent:!0});r.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},u=[e,t];e.indexOf(".")>-1&&(u=e.split("."),r=i,i=t,t=u[1]),this.addNamespaces(t);let c=xt(this.data,u)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?ns(c,i,a):c={...c,...i},gn(this.data,u,c),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(r=>t[r]&&Object.keys(t[r]).length>0)}toJSON(){return this.data}}var ss={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,i,r){return n.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,t,i,r))}),e}};const vn={};class St extends Mt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Pi(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,u=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Fi(e,i,r);if(o&&!u){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:a};const h=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(r)}return typeof a=="string"&&(a=[a]),{key:e,namespaces:a}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const r=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:u}=this.extractFromKey(e[e.length-1],t),c=u[u.length-1],h=t.lng||this.language,d=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&h.toLowerCase()==="cimode"){if(d){const w=t.nsSeparator||this.options.nsSeparator;return r?{res:`${c}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:`${c}${w}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(t)}:o}const g=this.resolve(e,t);let s=g&&g.res;const l=g&&g.usedKey||o,f=g&&g.exactUsedKey||o,m=Object.prototype.toString.apply(s),v=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject;if(b&&s&&(typeof s!="string"&&typeof s!="boolean"&&typeof s!="number")&&v.indexOf(m)<0&&!(typeof y=="string"&&Array.isArray(s))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(l,s,{...t,ns:u}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(g.res=w,g.usedParams=this.getUsedParamsDetails(t),g):w}if(a){const w=Array.isArray(s),x=w?[]:{},R=w?f:l;for(const P in s)if(Object.prototype.hasOwnProperty.call(s,P)){const M=`${R}${a}${P}`;x[P]=this.translate(M,{...t,joinArrays:!1,ns:u}),x[P]===M&&(x[P]=s[P])}s=x}}else if(b&&typeof y=="string"&&Array.isArray(s))s=s.join(y),s&&(s=this.extendTranslation(s,e,t,i));else{let w=!1,x=!1;const R=t.count!==void 0&&typeof t.count!="string",P=St.hasDefaultValue(t),M=R?this.pluralResolver.getSuffix(h,t.count,t):"",A=t.ordinal&&R?this.pluralResolver.getSuffix(h,t.count,{ordinal:!1}):"",N=R&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),W=N&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${M}`]||t[`defaultValue${A}`]||t.defaultValue;!this.isValidLookup(s)&&P&&(w=!0,s=W),this.isValidLookup(s)||(x=!0,s=o);const Et=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:s,me=P&&W!==s&&this.options.updateMissing;if(x||w||me){if(this.logger.log(me?"updateKey":"missingKey",h,c,o,me?W:s),a){const $=this.resolve(o,{...t,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ve=[];const _e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_e&&_e[0])for(let $=0;$<_e.length;$++)ve.push(_e[$]);else this.options.saveMissingTo==="all"?ve=this.languageUtils.toResolveHierarchy(t.lng||this.language):ve.push(t.lng||this.language);const re=($,ae,ye)=>{const ft=P&&ye!==s?ye:Et;this.options.missingKeyHandler?this.options.missingKeyHandler($,c,ae,ft,me,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing($,c,ae,ft,me,t),this.emit("missingKey",$,c,ae,s)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?ve.forEach($=>{const ae=this.pluralResolver.getSuffixes($,t);N&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ye=>{re([$],o+ye,t[`defaultValue${ye}`]||W)})}):re(ve,o,W))}s=this.extendTranslation(s,e,t,g,i),x&&s===o&&this.options.appendNamespaceToMissingKey&&(s=`${c}:${o}`),(x||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?s=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,w?s:void 0):s=this.options.parseMissingKeyHandler(s))}return r?(g.res=s,g.usedParams=this.getUsedParamsDetails(t),g):s}extendTranslation(e,t,i,r,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const h=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const s=e.match(this.interpolator.nestingRegexp);d=s&&s.length}let g=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,i.lng||this.language,i),h){const s=e.match(this.interpolator.nestingRegexp),l=s&&s.length;d<l&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&r&&r.res&&(i.lng=r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return a&&a[0]===l[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${l[0]} in key: ${t[0]}`),null):o.translate(...l,t)},i)),i.interpolation&&this.interpolator.reset()}const u=i.postProcess||this.options.postProcess,c=typeof u=="string"?[u]:u;return e!=null&&c&&c.length&&i.applyPostProcessor!==!1&&(e=ss.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,r,a,o,u;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const h=this.extractFromKey(c,t),d=h.key;r=d;let g=h.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const s=t.count!==void 0&&typeof t.count!="string",l=s&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),f=t.context!==void 0&&(typeof t.context=="string"||typeof t.context=="number")&&t.context!=="",m=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);g.forEach(v=>{this.isValidLookup(i)||(u=v,!vn[`${m[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(u)&&(vn[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${u}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(y=>{if(this.isValidLookup(i))return;o=y;const b=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,d,y,v,t);else{let w;s&&(w=this.pluralResolver.getSuffix(y,t.count,t));const x=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(s&&(b.push(d+w),t.ordinal&&w.indexOf(R)===0&&b.push(d+w.replace(R,this.options.pluralSeparator)),l&&b.push(d+x)),f){const P=`${d}${this.options.contextSeparator}${t.context}`;b.push(P),s&&(b.push(P+w),t.ordinal&&w.indexOf(R)===0&&b.push(P+w.replace(R,this.options.pluralSeparator)),l&&b.push(P+x))}}let S;for(;S=b.pop();)this.isValidLookup(i)||(a=S,i=this.getResource(y,v,S,t))}))})}),{res:i,usedKey:r,exactUsedKey:a,usedLng:o,usedNS:u}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,r):this.resourceStore.getResource(e,t,i,r)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const a of t)delete r[a]}return r}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}function _t(n){return n.charAt(0).toUpperCase()+n.slice(1)}class yn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ie.create("languageUtils")}getScriptPartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=wt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(r=>r.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=_t(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=_t(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=_t(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const r=this.getLanguagePartFromCode(i);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(a=>{if(a===r)return a;if(!(a.indexOf("-")<0&&r.indexOf("-")<0)&&(a.indexOf("-")>0&&r.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===r||a.indexOf(r)===0&&r.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],a=o=>{o&&(this.isSupportedCode(o)?r.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):typeof e=="string"&&a(this.formatLanguageCode(e)),i.forEach(o=>{r.indexOf(o)<0&&a(this.formatLanguageCode(o))}),r}}let Ii=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$i={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const Ui=["v1","v2","v3"],zi=["v4"],bn={zero:0,one:1,two:2,few:3,many:4,other:5};function Wi(){const n={};return Ii.forEach(e=>{e.lngs.forEach(t=>{n[t]={numbers:e.nr,plurals:$i[e.fc]}})}),n}class Ki{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ie.create("pluralResolver"),(!this.options.compatibilityJSON||zi.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Wi()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(wt(e==="dev"?"en":e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(r=>`${t}${r}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((r,a)=>bn[r]-bn[a]).map(r=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${r}`):i.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=this.getRule(e,i);return r?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(r===2?r="plural":r===1&&(r=""));const a=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return this.options.compatibilityJSON==="v1"?r===1?"":typeof r=="number"?`_plural_${r.toString()}`:a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!Ui.includes(this.options.compatibilityJSON)}}function xn(n,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Ti(n,e,t);return!a&&r&&typeof t=="string"&&(a=Ft(n,t,i),a===void 0&&(a=Ft(e,t,i))),a}class Zi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:r,prefix:a,prefixEscaped:o,suffix:u,suffixEscaped:c,formatSeparator:h,unescapeSuffix:d,unescapePrefix:g,nestingPrefix:s,nestingPrefixEscaped:l,nestingSuffix:f,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:ji,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=a?je(a):o||"{{",this.suffix=u?je(u):c||"}}",this.formatSeparator=h||",",this.unescapePrefix=d?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=s?je(s):l||je("$t("),this.nestingSuffix=f?je(f):m||je(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t&&t.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,r){let a,o,u;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(f){return f.replace(/\$/g,"$$$$")}const d=f=>{if(f.indexOf(this.formatSeparator)<0){const b=xn(t,c,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,i,{...r,...t,interpolationkey:f}):b}const m=f.split(this.formatSeparator),v=m.shift().trim(),y=m.join(this.formatSeparator).trim();return this.format(xn(t,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,i,{...r,...t,interpolationkey:v})};this.resetRegExp();const g=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,s=r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>h(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?h(this.escape(f)):h(f)}].forEach(f=>{for(u=0;a=f.regex.exec(e);){const m=a[1].trim();if(o=d(m),o===void 0)if(typeof g=="function"){const y=g(e,a,r);o=typeof y=="string"?y:""}else if(r&&Object.prototype.hasOwnProperty.call(r,m))o="";else if(s){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=pn(o));const v=f.safeValue(o);if(e=e.replace(a[0],v),s?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=a[0].length):f.regex.lastIndex=0,u++,u>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,a,o;function u(c,h){const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const g=c.split(new RegExp(`${d}[ ]*{`));let s=`{${g[1]}`;c=g[0],s=this.interpolate(s,o);const l=s.match(/'/g),f=s.match(/"/g);(l&&l.length%2===0&&!f||f.length%2!==0)&&(s=s.replace(/'/g,'"'));try{o=JSON.parse(s),h&&(o={...h,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${d}${s}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c}for(;r=this.nestingRegexp.exec(e);){let c=[];o={...i},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(r[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(r[1])){const d=r[1].split(this.formatSeparator).map(g=>g.trim());r[1]=d.shift(),c=d,h=!0}if(a=t(u.call(this,r[1].trim(),o),o),a&&r[0]===e&&typeof a!="string")return a;typeof a!="string"&&(a=pn(a)),a||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),a=""),h&&(a=c.reduce((d,g)=>this.format(d,g,i.lng,{...i,interpolationkey:r[1].trim()}),a.trim())),e=e.replace(r[0],a),this.regexp.lastIndex=0}return e}}function Qi(n){let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach(o=>{if(o){const[u,...c]=o.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,""),d=u.trim();t[d]||(t[d]=h),h==="false"&&(t[d]=!1),h==="true"&&(t[d]=!0),isNaN(h)||(t[d]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}}function Ae(n){const e={};return function(i,r,a){const o=r+JSON.stringify(a);let u=e[o];return u||(u=n(wt(r),a),e[o]=u),u(i)}}class Bi{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ie.create("formatter"),this.options=e,this.formats={number:Ae((t,i)=>{const r=new Intl.NumberFormat(t,{...i});return a=>r.format(a)}),currency:Ae((t,i)=>{const r=new Intl.NumberFormat(t,{...i,style:"currency"});return a=>r.format(a)}),datetime:Ae((t,i)=>{const r=new Intl.DateTimeFormat(t,{...i});return a=>r.format(a)}),relativetime:Ae((t,i)=>{const r=new Intl.RelativeTimeFormat(t,{...i});return a=>r.format(a,i.range||"day")}),list:Ae((t,i)=>{const r=new Intl.ListFormat(t,{...i});return a=>r.format(a)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Ae(t)}format(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return t.split(this.formatSeparator).reduce((u,c)=>{const{formatName:h,formatOptions:d}=Qi(c);if(this.formats[h]){let g=u;try{const s=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},l=s.locale||s.lng||r.locale||r.lng||i;g=this.formats[h](u,l,{...d,...r,...s})}catch(s){this.logger.warn(s)}return g}else this.logger.warn(`there was no format function for ${h}`);return u},e)}}function Hi(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}class Vi extends Mt{constructor(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,r.backend,r)}queueLoad(e,t,i,r){const a={},o={},u={},c={};return e.forEach(h=>{let d=!0;t.forEach(g=>{const s=`${h}|${g}`;!i.reload&&this.store.hasResourceBundle(h,g)?this.state[s]=2:this.state[s]<0||(this.state[s]===1?o[s]===void 0&&(o[s]=!0):(this.state[s]=1,d=!1,o[s]===void 0&&(o[s]=!0),a[s]===void 0&&(a[s]=!0),c[g]===void 0&&(c[g]=!0)))}),d||(u[h]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(u),toLoadNamespaces:Object.keys(c)}}loaded(e,t,i){const r=e.split("|"),a=r[0],o=r[1];t&&this.emit("failedLoading",a,o,t),i&&this.store.addResourceBundle(a,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2;const u={};this.queue.forEach(c=>{_i(c.loaded,[a],o),Hi(c,e),t&&c.errors.push(t),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(h=>{u[h]||(u[h]={});const d=c.loaded[h];d.length&&d.forEach(g=>{u[h][g]===void 0&&(u[h][g]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(c=>!c.done)}read(e,t,i){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:r,wait:a,callback:o});return}this.readingCalls++;const u=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(h&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,r+1,a*2,o)},a);return}o(h,d)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const h=c(e,t);h&&typeof h.then=="function"?h.then(d=>u(null,d)).catch(u):u(null,h)}catch(h){u(h)}return}return c(e,t,u)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof t=="string"&&(t=[t]);const a=this.queueLoad(e,t,i,r);if(!a.toLoad.length)return a.pending.length||r(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),r=i[0],a=i[1];this.read(r,a,"read",void 0,void 0,(o,u)=>{o&&this.logger.warn(`${t}loading namespace ${a} for language ${r} failed`,o),!o&&u&&this.logger.log(`${t}loaded namespace ${a} for language ${r}`,u),this.loaded(e,o,u)})}saveMissing(e,t,i,r,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const c={...o,isUpdate:a},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,t,i,r,c):d=h(e,t,i,r),d&&typeof d.then=="function"?d.then(g=>u(null,g)).catch(u):u(null,d)}catch(d){u(d)}else h(e,t,i,r,u,c)}!e||!e[0]||this.store.addResource(e[0],t,i,r)}}}function wn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if(typeof e[1]=="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(r=>{t[r]=i[r]})}return t},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Sn(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function pt(){}function qi(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})}class it extends Mt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Sn(e),this.services={},this.logger=ie,this.modules={external:[]},qi(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(typeof t.ns=="string"?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=wn();this.options={...r,...this.options,...Sn(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);function a(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?ie.init(a(this.modules.logger),this.options):ie.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Bi);const g=new yn(this.options);this.store=new mn(this.options.resources,this.options);const s=this.services;s.logger=ie,s.resourceStore=this.store,s.languageUtils=g,s.pluralResolver=new Ki(g,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(s.formatter=a(d),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new Zi(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Vi(a(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",function(l){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];e.emit(l,...m)}),this.modules.languageDetector&&(s.languageDetector=a(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=a(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new St(this.services,this.options),this.translator.on("*",function(l){for(var f=arguments.length,m=new Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];e.emit(l,...m)}),this.modules.external.forEach(l=>{l.init&&l.init(this)})}if(this.format=this.options.interpolation.format,i||(i=pt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=Xe(),h=()=>{const d=(g,s)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(s),i(g,s)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?h():setTimeout(h,0),c}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const r=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&r.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const a=[],o=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(h=>{h!=="cimode"&&a.indexOf(h)<0&&a.push(h)})};r?o(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload&&this.options.preload.forEach(u=>o(u)),this.services.backendConnector.load(a,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(u)})}else i(null)}reloadResources(e,t,i){const r=Xe();return e||(e=this.languages),t||(t=this.options.ns),i||(i=pt),this.services.backendConnector.reload(e,t,a=>{r.resolve(),i(a)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ss.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const r=Xe();this.emit("languageChanging",e);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,h)=>{h?(a(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,r.resolve(function(){return i.t(...arguments)}),t&&t(c,function(){return i.t(...arguments)})},u=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const h=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(h)),this.loadResources(h,d=>{o(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,i){var r=this;const a=function(o,u){let c;if(typeof u!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),g=2;g<h;g++)d[g-2]=arguments[g];c=r.options.overloadTranslationOptionHandler([o,u].concat(d))}else c={...u};c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix=c.keyPrefix||i||a.keyPrefix;const s=r.options.keySeparator||".";let l;return c.keyPrefix&&Array.isArray(o)?l=o.map(f=>`${c.keyPrefix}${s}${f}`):l=c.keyPrefix?`${c.keyPrefix}${s}${o}`:o,r.t(l,c)};return typeof e=="string"?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=i,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(u,c)=>{const h=this.services.backendConnector.state[`${u}|${c}`];return h===-1||h===2};if(t.precheck){const u=t.precheck(this,o);if(u!==void 0)return u}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!r||o(a,e)))}loadNamespaces(e,t){const i=Xe();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),t&&t(r)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Xe();typeof e=="string"&&(e=[e]);const r=this.options.preload||[],a=e.filter(o=>r.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=r.concat(a),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new yn(wn());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new it(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:pt;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},a=new it(r);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(u=>{a[u]=this[u]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},i&&(a.store=new mn(this.store.data,r),a.services.resourceStore=a.store),a.translator=new St(a.services,r),a.translator.on("*",function(u){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];a.emit(u,...h)}),a.init(r,t),a.translator.options=r,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const z=it.createInstance();z.createInstance=it.createInstance;z.createInstance;z.dir;z.init;z.loadResources;z.reloadResources;z.use;z.changeLanguage;z.getFixedT;z.t;z.exists;z.setDefaultNamespace;z.hasLoadedNamespace;z.loadNamespaces;z.loadLanguages;function Yi(){var n,e,t;for(n="",t=0;t<32;t++)(t==8||t==12||t==16||t==20)&&(n=n+"-"),e=Math.floor(Math.random()*16).toString(16).toUpperCase(),n=n+e;return n}class Ji{constructor(){an(this,"preName","route-cab")}_(e,t=!1){return localStorage.getItem(e)||t}rm(e){return localStorage.removeItem(e)}rmUniq(e){return this.rm(`${this.preName}${e}`)}getUniq(e,t=""){return this.get(`${this.preName}${e}`)||t}get(e,t=""){return localStorage.getItem(e)||t}set(e,t){localStorage.setItem(e,t)}getJ(e){const t=this.get(e);if(t)try{return JSON.parse(t)}catch{}return!1}setJ(e,t){return this.set(e,JSON.stringify(t))}createUniq(e){const t=`${this.preName}${e}`;let i=this.get(t);return i||(i=Yi(),this.set(t,i)),i}}const is=new Ji,Gi=({setCurrentPage:n})=>{const{t:e}=Gt(),[t,i]=_.useState("en"),r=a=>{z.changeLanguage(a),i(a),is.set("lang",a)};return C.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:C.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[C.jsx("h1",{className:"text-2xl font-bold mb-4",children:e("welcome")}),C.jsxs("p",{className:"mb-4",children:[e("currentLanguage"),": ",t]}),C.jsxs("div",{className:"space-x-2",children:[C.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:()=>r("en"),children:"English"}),C.jsx("button",{className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",onClick:()=>r("es"),children:"Español"}),C.jsx("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",onClick:()=>r("ru"),children:"Русский"})]})]})})},et=({title:n,setCurrentPage:e})=>C.jsx("header",{style:{backgroundColor:"#fff",borderBottom:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",top:0,left:0,right:0,zIndex:1e3},children:C.jsxs("div",{style:{maxWidth:"975px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 15px"},children:[C.jsx("h1",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif',fontSize:"20px"},children:n}),C.jsx("button",{onClick:()=>e("settings"),style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer"},children:"⚙️"})]})}),Xi=({setCurrentPage:n})=>C.jsx("nav",{style:{backgroundColor:"#fff",borderTop:"1px solid #dbdbdb",padding:"10px 0",position:"fixed",bottom:0,left:0,right:0,zIndex:1e3},children:C.jsxs("div",{style:{display:"flex",justifyContent:"space-around",maxWidth:"975px",margin:"0 auto"},children:[C.jsx("button",{onClick:()=>n("home"),style:{background:"none",border:"none",fontSize:"24px"},children:"🏠"}),C.jsx("button",{onClick:()=>n("newPost"),style:{background:"none",border:"none",fontSize:"24px"},children:"➕"}),C.jsx("button",{onClick:()=>n("profile"),style:{background:"none",border:"none",fontSize:"24px"},children:"👤"})]})}),er=()=>{let{initDataRaw:n}=_s();const e=Ts(n);return C.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[C.jsxs("h2",{style:{margin:"20px 0"},children:[e.first_name," ",e.username?`(@${e.username})`:""]}),C.jsx("p",{children:"О себе: Любитель фотографии | Собачник | Кофеман"}),C.jsxs("div",{style:{margin:"20px 0"},children:[C.jsxs("span",{style:{margin:"0 10px"},children:[C.jsx("strong",{children:"0"})," подписчиков"]}),C.jsxs("span",{style:{margin:"0 10px"},children:[C.jsx("strong",{children:"0"})," подписок"]})]})]})},tr=({isOpen:n,onClose:e,location:t})=>n?C.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:C.jsxs("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"5px",width:"80%",maxWidth:"500px"},children:[C.jsxs("h2",{children:["Location: ",t]}),C.jsxs("div",{style:{width:"100%",height:"300px",backgroundColor:"#f0f0f0",display:"flex",justifyContent:"center",alignItems:"center"},children:['Здесь будет карта с меткой в точке "',t,'"']}),C.jsx("button",{onClick:e,style:{marginTop:"10px",padding:"5px 10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Закрыть"})]})}):null,nr=({name:n,imageUrl:e,caption:t,isFavorite:i,location:r,onClick:a})=>{const[o,u]=_.useState(!1);return C.jsxs("div",{style:{backgroundColor:"#fff",border:"1px solid #dbdbdb",borderRadius:"3px",marginBottom:"20px",cursor:"pointer"},onClick:a,children:[C.jsxs("div",{style:{padding:"10px",fontWeight:"bold",display:"flex",justifyContent:"space-between"},children:[C.jsx("span",{children:n}),i&&C.jsx("span",{children:"⭐"})]}),C.jsx("div",{style:{padding:"10px"}}),r&&C.jsx("div",{style:{padding:"0 10px 10px"},children:C.jsxs("span",{style:{color:"#0095f6"},children:["📍 ",r]})}),C.jsx(tr,{isOpen:o,onClose:()=>u(!1),location:r})]})},sr=({data:n,onClick:e})=>C.jsx("div",{style:{textAlign:"center"},children:n.map(t=>C.jsx(nr,{...t,onClick:()=>e(t)},t.id))});var It=new Map,gt=new WeakMap,Cn=0,ir=void 0;function rr(n){return n?(gt.has(n)||(Cn+=1,gt.set(n,Cn.toString())),gt.get(n)):"0"}function ar(n){return Object.keys(n).sort().filter(e=>n[e]!==void 0).map(e=>`${e}_${e==="root"?rr(n.root):n[e]}`).toString()}function or(n){const e=ar(n);let t=It.get(e);if(!t){const i=new Map;let r;const a=new IntersectionObserver(o=>{o.forEach(u=>{var c;const h=u.isIntersecting&&r.some(d=>u.intersectionRatio>=d);n.trackVisibility&&typeof u.isVisible>"u"&&(u.isVisible=h),(c=i.get(u.target))==null||c.forEach(d=>{d(h,u)})})},n);r=a.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),t={id:e,observer:a,elements:i},It.set(e,t)}return t}function ur(n,e,t={},i=ir){if(typeof window.IntersectionObserver>"u"&&i!==void 0){const c=n.getBoundingClientRect();return e(i,{isIntersecting:i,target:n,intersectionRatio:typeof t.threshold=="number"?t.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:r,observer:a,elements:o}=or(t),u=o.get(n)||[];return o.has(n)||o.set(n,u),u.push(e),a.observe(n),function(){u.splice(u.indexOf(e),1),u.length===0&&(o.delete(n),a.unobserve(n)),o.size===0&&(a.disconnect(),It.delete(r))}}function lr({threshold:n,delay:e,trackVisibility:t,rootMargin:i,root:r,triggerOnce:a,skip:o,initialInView:u,fallbackInView:c,onChange:h}={}){var d;const[g,s]=_.useState(null),l=_.useRef(),[f,m]=_.useState({inView:!!u,entry:void 0});l.current=h,_.useEffect(()=>{if(o||!g)return;let S;return S=ur(g,(w,x)=>{m({inView:w,entry:x}),l.current&&l.current(w,x),x.isIntersecting&&a&&S&&(S(),S=void 0)},{root:r,rootMargin:i,threshold:n,trackVisibility:t,delay:e},c),()=>{S&&S()}},[Array.isArray(n)?n.toString():n,g,r,i,a,o,t,c,e]);const v=(d=f.entry)==null?void 0:d.target,y=_.useRef();!g&&v&&!a&&!o&&y.current!==v&&(y.current=v,m({inView:!!u,entry:void 0}));const b=[s,f.inView,f.entry];return b.ref=b[0],b.inView=b[1],b.entry=b[2],b}var ht=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ge=typeof window>"u"||"Deno"in globalThis;function J(){}function cr(n,e){return typeof n=="function"?n(e):n}function $t(n){return typeof n=="number"&&n>=0&&n!==1/0}function rs(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Fe(n,e){return typeof n=="function"?n(e):n}function X(n,e){return typeof n=="function"?n(e):n}function On(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:a,queryKey:o,stale:u}=n;if(o){if(i){if(e.queryHash!==Xt(o,e.options))return!1}else if(!at(e.queryKey,o))return!1}if(t!=="all"){const c=e.isActive();if(t==="active"&&!c||t==="inactive"&&c)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||r&&r!==e.state.fetchStatus||a&&!a(e))}function Mn(n,e){const{exact:t,status:i,predicate:r,mutationKey:a}=n;if(a){if(!e.options.mutationKey)return!1;if(t){if(rt(e.options.mutationKey)!==rt(a))return!1}else if(!at(e.options.mutationKey,a))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function Xt(n,e){return((e==null?void 0:e.queryKeyHashFn)||rt)(n)}function rt(n){return JSON.stringify(n,(e,t)=>zt(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function at(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?!Object.keys(e).some(t=>!at(n[t],e[t])):!1}function as(n,e){if(n===e)return n;const t=En(n)&&En(e);if(t||zt(n)&&zt(e)){const i=t?n:Object.keys(n),r=i.length,a=t?e:Object.keys(e),o=a.length,u=t?[]:{};let c=0;for(let h=0;h<o;h++){const d=t?h:a[h];(!t&&i.includes(d)||t)&&n[d]===void 0&&e[d]===void 0?(u[d]=void 0,c++):(u[d]=as(n[d],e[d]),u[d]===n[d]&&n[d]!==void 0&&c++)}return r===o&&c===r?n:u}return e}function Ut(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function En(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function zt(n){if(!Rn(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!Rn(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Rn(n){return Object.prototype.toString.call(n)==="[object Object]"}function hr(n){return new Promise(e=>{setTimeout(e,n)})}function Wt(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?as(n,e):e}function fr(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function dr(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var os=Symbol(),us=(n,e)=>!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===os?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn,Se,ce,Ie,In,pr=(In=class extends ht{constructor(){super();T(this,Se);T(this,ce);T(this,Ie);L(this,Ie,e=>{if(!Ge&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){p(this,ce)||this.setEventListener(p(this,Ie))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,ce))==null||e.call(this),L(this,ce,void 0))}setEventListener(e){var t;L(this,Ie,e),(t=p(this,ce))==null||t.call(this),L(this,ce,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){p(this,Se)!==e&&(L(this,Se,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof p(this,Se)=="boolean"?p(this,Se):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Se=new WeakMap,ce=new WeakMap,Ie=new WeakMap,In),en=new pr,$e,he,Ue,$n,gr=($n=class extends ht{constructor(){super();T(this,$e,!0);T(this,he);T(this,Ue);L(this,Ue,e=>{if(!Ge&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){p(this,he)||this.setEventListener(p(this,Ue))}onUnsubscribe(){var e;this.hasListeners()||((e=p(this,he))==null||e.call(this),L(this,he,void 0))}setEventListener(e){var t;L(this,Ue,e),(t=p(this,he))==null||t.call(this),L(this,he,e(this.setOnline.bind(this)))}setOnline(e){p(this,$e)!==e&&(L(this,$e,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return p(this,$e)}},$e=new WeakMap,he=new WeakMap,Ue=new WeakMap,$n),Ct=new gr;function mr(n){return Math.min(1e3*2**n,3e4)}function ls(n){return(n??"online")==="online"?Ct.isOnline():!0}var cs=class{constructor(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Tt(n){return n instanceof cs}function hs(n){let e=!1,t=0,i=!1,r,a,o;const u=new Promise((y,b)=>{a=y,o=b}),c=y=>{var b;i||(f(new cs(y)),(b=n.abort)==null||b.call(n))},h=()=>{e=!0},d=()=>{e=!1},g=()=>en.isFocused()&&(n.networkMode==="always"||Ct.isOnline())&&n.canRun(),s=()=>ls(n.networkMode)&&n.canRun(),l=y=>{var b;i||(i=!0,(b=n.onSuccess)==null||b.call(n,y),r==null||r(),a(y))},f=y=>{var b;i||(i=!0,(b=n.onError)==null||b.call(n,y),r==null||r(),o(y))},m=()=>new Promise(y=>{var b;r=S=>{(i||g())&&y(S)},(b=n.onPause)==null||b.call(n)}).then(()=>{var y;r=void 0,i||(y=n.onContinue)==null||y.call(n)}),v=()=>{if(i)return;let y;const b=t===0?n.initialPromise:void 0;try{y=b??n.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(l).catch(S=>{var M;if(i)return;const w=n.retry??(Ge?0:3),x=n.retryDelay??mr,R=typeof x=="function"?x(t,S):x,P=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,S);if(e||!P){f(S);return}t++,(M=n.onFail)==null||M.call(n,t,S),hr(R).then(()=>g()?void 0:m()).then(()=>{e?f(S):v()})})};return{promise:u,cancel:c,continue:()=>(r==null||r(),u),cancelRetry:h,continueRetry:d,canStart:s,start:()=>(s()?v():m().then(v),u)}}function vr(){let n=[],e=0,t=s=>{s()},i=s=>{s()},r=s=>setTimeout(s,0);const a=s=>{r=s},o=s=>{let l;e++;try{l=s()}finally{e--,e||h()}return l},u=s=>{e?n.push(s):r(()=>{t(s)})},c=s=>(...l)=>{u(()=>{s(...l)})},h=()=>{const s=n;n=[],s.length&&r(()=>{i(()=>{s.forEach(l=>{t(l)})})})};return{batch:o,batchCalls:c,schedule:u,setNotifyFunction:s=>{t=s},setBatchNotifyFunction:s=>{i=s},setScheduler:a}}var U=vr(),Ce,Un,fs=(Un=class{constructor(){T(this,Ce)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$t(this.gcTime)&&L(this,Ce,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ge?1/0:5*60*1e3))}clearGcTimeout(){p(this,Ce)&&(clearTimeout(p(this,Ce)),L(this,Ce,void 0))}},Ce=new WeakMap,Un),ze,We,Y,K,ot,Oe,G,oe,zn,yr=(zn=class extends fs{constructor(e){super();T(this,G);T(this,ze);T(this,We);T(this,Y);T(this,K);T(this,ot);T(this,Oe);L(this,Oe,!1),L(this,ot,e.defaultOptions),this.setOptions(e.options),this.observers=[],L(this,Y,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,L(this,ze,e.state||br(this.options)),this.state=p(this,ze),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=p(this,K))==null?void 0:e.promise}setOptions(e){this.options={...p(this,ot),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&p(this,Y).remove(this)}setData(e,t){const i=Wt(this.state.data,e,this.options);return k(this,G,oe).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){k(this,G,oe).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=p(this,K))==null?void 0:i.promise;return(r=p(this,K))==null||r.cancel(e),t?t.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(p(this,ze))}isActive(){return this.observers.some(e=>X(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!rs(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=p(this,K))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=p(this,K))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),p(this,Y).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(p(this,K)&&(p(this,Oe)?p(this,K).cancel({revert:!0}):p(this,K).cancelRetry()),this.scheduleGc()),p(this,Y).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||k(this,G,oe).call(this,{type:"invalidate"})}fetch(e,t){var c,h,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(p(this,K))return p(this,K).continueRetry(),p(this,K).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(s=>s.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,r=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(L(this,Oe,!0),i.signal)})},a=()=>{const g=us(this.options,t),s={queryKey:this.queryKey,meta:this.meta};return r(s),L(this,Oe,!1),this.options.persister?this.options.persister(g,s,this):g(s)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),L(this,We,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=o.fetchOptions)==null?void 0:h.meta))&&k(this,G,oe).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const u=g=>{var s,l,f,m;Tt(g)&&g.silent||k(this,G,oe).call(this,{type:"error",error:g}),Tt(g)||((l=(s=p(this,Y).config).onError)==null||l.call(s,g,this),(m=(f=p(this,Y).config).onSettled)==null||m.call(f,this.state.data,g,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return L(this,K,hs({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var s,l,f,m;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}this.setData(g),(l=(s=p(this,Y).config).onSuccess)==null||l.call(s,g,this),(m=(f=p(this,Y).config).onSettled)==null||m.call(f,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(g,s)=>{k(this,G,oe).call(this,{type:"failed",failureCount:g,error:s})},onPause:()=>{k(this,G,oe).call(this,{type:"pause"})},onContinue:()=>{k(this,G,oe).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),p(this,K).start()}},ze=new WeakMap,We=new WeakMap,Y=new WeakMap,K=new WeakMap,ot=new WeakMap,Oe=new WeakMap,G=new WeakSet,oe=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...ds(i.data,this.options),fetchMeta:e.meta??null};case"success":return{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Tt(r)&&r.revert&&p(this,We)?{...p(this,We),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),U.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),p(this,Y).notify({query:this,type:"updated",action:e})})},zn);function ds(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ls(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function br(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ee,Wn,xr=(Wn=class extends ht{constructor(e={}){super();T(this,ee);this.config=e,L(this,ee,new Map)}build(e,t,i){const r=t.queryKey,a=t.queryHash??Xt(r,t);let o=this.get(a);return o||(o=new yr({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){p(this,ee).has(e.queryHash)||(p(this,ee).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=p(this,ee).get(e.queryHash);t&&(e.destroy(),t===e&&p(this,ee).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){U.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return p(this,ee).get(e)}getAll(){return[...p(this,ee).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>On(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>On(e,i)):t}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){U.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){U.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ee=new WeakMap,Wn),te,Z,Me,ne,le,Kn,wr=(Kn=class extends fs{constructor(e){super();T(this,ne);T(this,te);T(this,Z);T(this,Me);this.mutationId=e.mutationId,L(this,Z,e.mutationCache),L(this,te,[]),this.state=e.state||Sr(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){p(this,te).includes(e)||(p(this,te).push(e),this.clearGcTimeout(),p(this,Z).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){L(this,te,p(this,te).filter(t=>t!==e)),this.scheduleGc(),p(this,Z).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){p(this,te).length||(this.state.status==="pending"?this.scheduleGc():p(this,Z).remove(this))}continue(){var e;return((e=p(this,Me))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var r,a,o,u,c,h,d,g,s,l,f,m,v,y,b,S,w,x,R,P;L(this,Me,hs({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,A)=>{k(this,ne,le).call(this,{type:"failed",failureCount:M,error:A})},onPause:()=>{k(this,ne,le).call(this,{type:"pause"})},onContinue:()=>{k(this,ne,le).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>p(this,Z).canRun(this)}));const t=this.state.status==="pending",i=!p(this,Me).canStart();try{if(!t){k(this,ne,le).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(r=p(this,Z).config).onMutate)==null?void 0:a.call(r,e,this));const A=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));A!==this.state.context&&k(this,ne,le).call(this,{type:"pending",context:A,variables:e,isPaused:i})}const M=await p(this,Me).start();return await((h=(c=p(this,Z).config).onSuccess)==null?void 0:h.call(c,M,e,this.state.context,this)),await((g=(d=this.options).onSuccess)==null?void 0:g.call(d,M,e,this.state.context)),await((l=(s=p(this,Z).config).onSettled)==null?void 0:l.call(s,M,null,this.state.variables,this.state.context,this)),await((m=(f=this.options).onSettled)==null?void 0:m.call(f,M,null,e,this.state.context)),k(this,ne,le).call(this,{type:"success",data:M}),M}catch(M){try{throw await((y=(v=p(this,Z).config).onError)==null?void 0:y.call(v,M,e,this.state.context,this)),await((S=(b=this.options).onError)==null?void 0:S.call(b,M,e,this.state.context)),await((x=(w=p(this,Z).config).onSettled)==null?void 0:x.call(w,void 0,M,this.state.variables,this.state.context,this)),await((P=(R=this.options).onSettled)==null?void 0:P.call(R,void 0,M,e,this.state.context)),M}finally{k(this,ne,le).call(this,{type:"error",error:M})}}finally{p(this,Z).runNext(this)}}},te=new WeakMap,Z=new WeakMap,Me=new WeakMap,ne=new WeakSet,le=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),U.batch(()=>{p(this,te).forEach(i=>{i.onMutationUpdate(e)}),p(this,Z).notify({mutation:this,type:"updated",action:e})})},Kn);function Sr(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var H,ut,Zn,Cr=(Zn=class extends ht{constructor(e={}){super();T(this,H);T(this,ut);this.config=e,L(this,H,new Map),L(this,ut,Date.now())}build(e,t,i){const r=new wr({mutationCache:this,mutationId:++dt(this,ut)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){const t=mt(e),i=p(this,H).get(t)??[];i.push(e),p(this,H).set(t,i),this.notify({type:"added",mutation:e})}remove(e){var i;const t=mt(e);if(p(this,H).has(t)){const r=(i=p(this,H).get(t))==null?void 0:i.filter(a=>a!==e);r&&(r.length===0?p(this,H).delete(t):p(this,H).set(t,r))}this.notify({type:"removed",mutation:e})}canRun(e){var i;const t=(i=p(this,H).get(mt(e)))==null?void 0:i.find(r=>r.state.status==="pending");return!t||t===e}runNext(e){var i;const t=(i=p(this,H).get(mt(e)))==null?void 0:i.find(r=>r!==e&&r.state.isPaused);return(t==null?void 0:t.continue())??Promise.resolve()}clear(){U.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...p(this,H).values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(i=>Mn(t,i))}findAll(e={}){return this.getAll().filter(t=>Mn(e,t))}notify(e){U.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return U.batch(()=>Promise.all(e.map(t=>t.continue().catch(J))))}},H=new WeakMap,ut=new WeakMap,Zn);function mt(n){var e;return((e=n.options.scope)==null?void 0:e.id)??String(n.mutationId)}function Or(n){return{onFetch:(e,t)=>{const i=async()=>{var f,m,v,y,b;const r=e.options,a=(v=(m=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:m.fetchMore)==null?void 0:v.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],u=((b=e.state.data)==null?void 0:b.pageParams)||[],c={pages:[],pageParams:[]};let h=!1;const d=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?h=!0:e.signal.addEventListener("abort",()=>{h=!0}),e.signal)})},g=us(e.options,e.fetchOptions),s=async(S,w,x)=>{if(h)return Promise.reject();if(w==null&&S.pages.length)return Promise.resolve(S);const R={queryKey:e.queryKey,pageParam:w,direction:x?"backward":"forward",meta:e.options.meta};d(R);const P=await g(R),{maxPages:M}=e.options,A=x?dr:fr;return{pages:A(S.pages,P,M),pageParams:A(S.pageParams,w,M)}};let l;if(a&&o.length){const S=a==="backward",w=S?Mr:Pn,x={pages:o,pageParams:u},R=w(r,x);l=await s(x,R,S)}else{l=await s(c,u[0]??r.initialPageParam);const S=n??o.length;for(let w=1;w<S;w++){const x=Pn(r,l);l=await s(l,x)}}return l};e.options.persister?e.fetchFn=()=>{var r,a;return(a=(r=e.options).persister)==null?void 0:a.call(r,i,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=i}}}function Pn(n,{pages:e,pageParams:t}){const i=e.length-1;return n.getNextPageParam(e[i],e,t[i],t)}function Mr(n,{pages:e,pageParams:t}){var i;return(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t)}var I,fe,de,Ke,Ze,pe,Qe,Be,Qn,Er=(Qn=class{constructor(n={}){T(this,I);T(this,fe);T(this,de);T(this,Ke);T(this,Ze);T(this,pe);T(this,Qe);T(this,Be);L(this,I,n.queryCache||new xr),L(this,fe,n.mutationCache||new Cr),L(this,de,n.defaultOptions||{}),L(this,Ke,new Map),L(this,Ze,new Map),L(this,pe,0)}mount(){dt(this,pe)._++,p(this,pe)===1&&(L(this,Qe,en.subscribe(async n=>{n&&(await this.resumePausedMutations(),p(this,I).onFocus())})),L(this,Be,Ct.subscribe(async n=>{n&&(await this.resumePausedMutations(),p(this,I).onOnline())})))}unmount(){var n,e;dt(this,pe)._--,p(this,pe)===0&&((n=p(this,Qe))==null||n.call(this),L(this,Qe,void 0),(e=p(this,Be))==null||e.call(this),L(this,Be,void 0))}isFetching(n){return p(this,I).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return p(this,fe).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=p(this,I).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.getQueryData(n.queryKey);if(e===void 0)return this.fetchQuery(n);{const t=this.defaultQueryOptions(n),i=p(this,I).build(this,t);return n.revalidateIfStale&&i.isStaleByTime(Fe(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(e)}}getQueriesData(n){return p(this,I).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=p(this,I).get(i.queryHash),a=r==null?void 0:r.state.data,o=cr(e,a);if(o!==void 0)return p(this,I).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return U.batch(()=>p(this,I).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=p(this,I).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=p(this,I);U.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=p(this,I),i={type:"active",...n};return U.batch(()=>(t.findAll(n).forEach(r=>{r.reset()}),this.refetchQueries(i,e)))}cancelQueries(n={},e={}){const t={revert:!0,...e},i=U.batch(()=>p(this,I).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(J).catch(J)}invalidateQueries(n={},e={}){return U.batch(()=>{if(p(this,I).findAll(n).forEach(i=>{i.invalidate()}),n.refetchType==="none")return Promise.resolve();const t={...n,type:n.refetchType??n.type??"active"};return this.refetchQueries(t,e)})}refetchQueries(n={},e){const t={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},i=U.batch(()=>p(this,I).findAll(n).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,t);return t.throwOnError||(a=a.catch(J)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(i).then(J)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=p(this,I).build(this,e);return t.isStaleByTime(Fe(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(J).catch(J)}fetchInfiniteQuery(n){return n.behavior=Or(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(J).catch(J)}resumePausedMutations(){return Ct.isOnline()?p(this,fe).resumePausedMutations():Promise.resolve()}getQueryCache(){return p(this,I)}getMutationCache(){return p(this,fe)}getDefaultOptions(){return p(this,de)}setDefaultOptions(n){L(this,de,n)}setQueryDefaults(n,e){p(this,Ke).set(rt(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...p(this,Ke).values()];let t={};return e.forEach(i=>{at(n,i.queryKey)&&(t={...t,...i.defaultOptions})}),t}setMutationDefaults(n,e){p(this,Ze).set(rt(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...p(this,Ze).values()];let t={};return e.forEach(i=>{at(n,i.mutationKey)&&(t={...t,...i.defaultOptions})}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...p(this,de).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Xt(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===os&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...p(this,de).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){p(this,I).clear(),p(this,fe).clear()}},I=new WeakMap,fe=new WeakMap,de=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,pe=new WeakMap,Qe=new WeakMap,Be=new WeakMap,Qn),B,j,lt,Q,Ee,He,se,ct,Ve,qe,Re,Pe,ge,Ye,D,nt,Kt,Zt,Qt,Bt,Ht,Vt,qt,ps,Bn,Rr=(Bn=class extends ht{constructor(e,t){super();T(this,D);T(this,B);T(this,j);T(this,lt);T(this,Q);T(this,Ee);T(this,He);T(this,se);T(this,ct);T(this,Ve);T(this,qe);T(this,Re);T(this,Pe);T(this,ge);T(this,Ye,new Set);this.options=t,L(this,B,e),L(this,se,null),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(p(this,j).addObserver(this),Ln(p(this,j),this.options)?k(this,D,nt).call(this):this.updateResult(),k(this,D,Bt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Yt(p(this,j),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Yt(p(this,j),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,D,Ht).call(this),k(this,D,Vt).call(this),p(this,j).removeObserver(this)}setOptions(e,t){const i=this.options,r=p(this,j);if(this.options=p(this,B).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof X(this.options.enabled,p(this,j))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,D,qt).call(this),p(this,j).setOptions(this.options),i._defaulted&&!Ut(this.options,i)&&p(this,B).getQueryCache().notify({type:"observerOptionsUpdated",query:p(this,j),observer:this});const a=this.hasListeners();a&&_n(p(this,j),r,this.options,i)&&k(this,D,nt).call(this),this.updateResult(t),a&&(p(this,j)!==r||X(this.options.enabled,p(this,j))!==X(i.enabled,p(this,j))||Fe(this.options.staleTime,p(this,j))!==Fe(i.staleTime,p(this,j)))&&k(this,D,Kt).call(this);const o=k(this,D,Zt).call(this);a&&(p(this,j)!==r||X(this.options.enabled,p(this,j))!==X(i.enabled,p(this,j))||o!==p(this,ge))&&k(this,D,Qt).call(this,o)}getOptimisticResult(e){const t=p(this,B).getQueryCache().build(p(this,B),e),i=this.createResult(t,e);return Lr(this,i)&&(L(this,Q,i),L(this,He,this.options),L(this,Ee,p(this,j).state)),i}getCurrentResult(){return p(this,Q)}trackResult(e,t){const i={};return Object.keys(e).forEach(r=>{Object.defineProperty(i,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t==null||t(r),e[r])})}),i}trackProp(e){p(this,Ye).add(e)}getCurrentQuery(){return p(this,j)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=p(this,B).defaultQueryOptions(e),i=p(this,B).getQueryCache().build(p(this,B),t);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,t))}fetch(e){return k(this,D,nt).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),p(this,Q)))}createResult(e,t){var P;const i=p(this,j),r=this.options,a=p(this,Q),o=p(this,Ee),u=p(this,He),h=e!==i?e.state:p(this,lt),{state:d}=e;let g={...d},s=!1,l;if(t._optimisticResults){const M=this.hasListeners(),A=!M&&Ln(e,t),N=M&&_n(e,i,t,r);(A||N)&&(g={...g,...ds(d.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:f,errorUpdatedAt:m,status:v}=g;if(t.select&&g.data!==void 0)if(a&&g.data===(o==null?void 0:o.data)&&t.select===p(this,ct))l=p(this,Ve);else try{L(this,ct,t.select),l=t.select(g.data),l=Wt(a==null?void 0:a.data,l,t),L(this,Ve,l),L(this,se,null)}catch(M){L(this,se,M)}else l=g.data;if(t.placeholderData!==void 0&&l===void 0&&v==="pending"){let M;if(a!=null&&a.isPlaceholderData&&t.placeholderData===(u==null?void 0:u.placeholderData))M=a.data;else if(M=typeof t.placeholderData=="function"?t.placeholderData((P=p(this,qe))==null?void 0:P.state.data,p(this,qe)):t.placeholderData,t.select&&M!==void 0)try{M=t.select(M),L(this,se,null)}catch(A){L(this,se,A)}M!==void 0&&(v="success",l=Wt(a==null?void 0:a.data,M,t),s=!0)}p(this,se)&&(f=p(this,se),l=p(this,Ve),m=Date.now(),v="error");const y=g.fetchStatus==="fetching",b=v==="pending",S=v==="error",w=b&&y,x=l!==void 0;return{status:v,fetchStatus:g.fetchStatus,isPending:b,isSuccess:v==="success",isError:S,isInitialLoading:w,isLoading:w,data:l,dataUpdatedAt:g.dataUpdatedAt,error:f,errorUpdatedAt:m,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:S&&!x,isPaused:g.fetchStatus==="paused",isPlaceholderData:s,isRefetchError:S&&x,isStale:tn(e,t),refetch:this.refetch}}updateResult(e){const t=p(this,Q),i=this.createResult(p(this,j),this.options);if(L(this,Ee,p(this,j).state),L(this,He,this.options),p(this,Ee).data!==void 0&&L(this,qe,p(this,j)),Ut(i,t))return;L(this,Q,i);const r={},a=()=>{if(!t)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!p(this,Ye).size)return!0;const c=new Set(u??p(this,Ye));return this.options.throwOnError&&c.add("error"),Object.keys(p(this,Q)).some(h=>{const d=h;return p(this,Q)[d]!==t[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),k(this,D,ps).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,D,Bt).call(this)}},B=new WeakMap,j=new WeakMap,lt=new WeakMap,Q=new WeakMap,Ee=new WeakMap,He=new WeakMap,se=new WeakMap,ct=new WeakMap,Ve=new WeakMap,qe=new WeakMap,Re=new WeakMap,Pe=new WeakMap,ge=new WeakMap,Ye=new WeakMap,D=new WeakSet,nt=function(e){k(this,D,qt).call(this);let t=p(this,j).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(J)),t},Kt=function(){k(this,D,Ht).call(this);const e=Fe(this.options.staleTime,p(this,j));if(Ge||p(this,Q).isStale||!$t(e))return;const i=rs(p(this,Q).dataUpdatedAt,e)+1;L(this,Re,setTimeout(()=>{p(this,Q).isStale||this.updateResult()},i))},Zt=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(p(this,j)):this.options.refetchInterval)??!1},Qt=function(e){k(this,D,Vt).call(this),L(this,ge,e),!(Ge||X(this.options.enabled,p(this,j))===!1||!$t(p(this,ge))||p(this,ge)===0)&&L(this,Pe,setInterval(()=>{(this.options.refetchIntervalInBackground||en.isFocused())&&k(this,D,nt).call(this)},p(this,ge)))},Bt=function(){k(this,D,Kt).call(this),k(this,D,Qt).call(this,k(this,D,Zt).call(this))},Ht=function(){p(this,Re)&&(clearTimeout(p(this,Re)),L(this,Re,void 0))},Vt=function(){p(this,Pe)&&(clearInterval(p(this,Pe)),L(this,Pe,void 0))},qt=function(){const e=p(this,B).getQueryCache().build(p(this,B),this.options);if(e===p(this,j))return;const t=p(this,j);L(this,j,e),L(this,lt,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},ps=function(e){U.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(p(this,Q))}),p(this,B).getQueryCache().notify({query:p(this,j),type:"observerResultsUpdated"})})},Bn);function Pr(n,e){return X(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function Ln(n,e){return Pr(n,e)||n.state.data!==void 0&&Yt(n,e,e.refetchOnMount)}function Yt(n,e,t){if(X(e.enabled,n)!==!1){const i=typeof t=="function"?t(n):t;return i==="always"||i!==!1&&tn(n,e)}return!1}function _n(n,e,t,i){return(n!==e||X(i.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&tn(n,t)}function tn(n,e){return X(e.enabled,n)!==!1&&n.isStaleByTime(Fe(e.staleTime,n))}function Lr(n,e){return!Ut(n.getCurrentResult(),e)}var gs=_.createContext(void 0),ms=n=>{const e=_.useContext(gs);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},_r=({client:n,children:e})=>(_.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),C.jsx(gs.Provider,{value:n,children:e})),vs=_.createContext(!1),Tr=()=>_.useContext(vs);vs.Provider;function kr(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var jr=_.createContext(kr()),Ar=()=>_.useContext(jr);function Dr(n,e){return typeof n=="function"?n(...e):!!n}var Nr=(n,e)=>{(n.suspense||n.throwOnError)&&(e.isReset()||(n.retryOnMount=!1))},Fr=n=>{_.useEffect(()=>{n.clearReset()},[n])},Ir=({result:n,errorResetBoundary:e,throwOnError:t,query:i})=>n.isError&&!e.isReset()&&!n.isFetching&&i&&Dr(t,[n.error,i]),$r=n=>{n.suspense&&typeof n.staleTime!="number"&&(n.staleTime=1e3)},Ur=(n,e)=>(n==null?void 0:n.suspense)&&e.isPending,zr=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function Wr(n,e,t){var h,d,g,s;const i=ms(),r=Tr(),a=Ar(),o=i.defaultQueryOptions(n);(d=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||d.call(h,o),o._optimisticResults=r?"isRestoring":"optimistic",$r(o),Nr(o,a),Fr(a);const[u]=_.useState(()=>new e(i,o)),c=u.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(l=>{const f=r?()=>{}:u.subscribe(U.batchCalls(l));return u.updateResult(),f},[u,r]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),_.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),Ur(o,c))throw zr(o,u,a);if(Ir({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash)}))throw c.error;return(s=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||s.call(g,o,c),o.notifyOnChangeProps?c:u.trackResult(c)}function Kr(n,e){return Wr(n,Rr)}const nn=(n,e)=>{let{data:t,query:i={}}=e;i||(i={});const r=a=>fetch(js+n+As(i),Ds(a));return r(t).then(async a=>(a.status===401&&(on.accessToken=null,await on.auth(),a=await r(t)),a.status===400||e&&e[ks]&&nn(At,{}).then(o=>{Gn.getState().setData(o)}),a.json()))};function Zr(n,e){const t=ms(),[i,r]=_.useState(1),[a,o]=_.useState([]),{ref:u,inView:c}=lr({threshold:1});_.useEffect(()=>(t.clear(),()=>t.clear()),[e]);const{data:h,isLoading:d,error:g}=Kr({queryKey:[n,e,i],queryFn:()=>nn(n,{query:{page:i}}),retry:1});let s=Array.isArray(h)?h:(h==null?void 0:h.data)||[];h!=null&&h.check_in&&(s=h.check_in);const l=(h==null?void 0:h.pageSize)||0;_.useEffect(()=>{s&&(Array.isArray(s)&&s.length?o(m=>[...m,...s]):s.days&&o(s))},[s]),_.useEffect(()=>{c&&!d&&(s==null?void 0:s.length)===l&&r(m=>m+1)},[c,d,s]);const f=()=>t.clear();return{data:a,dataLength:s==null?void 0:s.length,loading:d,ref:u,setPage:r,setAllData:o,page:i,error:g,resetQuery:f}}function Tn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Tn(Object(t),!0).forEach(function(i){O(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Tn(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function O(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qr(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Jt(n,e)}function Jt(n,e){return Jt=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},Jt(n,e)}function E(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Br(n,e){var t;return function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];var o=this;clearTimeout(t),t=setTimeout(function(){return n.apply(o,r)},e)}}function vt(n,e){for(;n;){if(n.classList&&n.classList.contains(e))return!0;n=n.parentElement}return!1}function ys(n){var e=n.getBoundingClientRect();return{x:e.left,y:e.top}}function Hr(n,e,t){return"https://tile.openstreetmap.org/"+t+"/"+n+"/"+e+".png"}var kn=300,Vr=1500,qr=150,Yr=40,kt=2,jn=300,Jr=60,Gr=300,Xr=300,ue=function(){return!0},De=function(e,t){return(e+180)/360*Math.pow(2,t)},Ne=function(e,t){return(1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,t)};function xe(n,e){return n/Math.pow(2,e)*360-180}function we(n,e){var t=Math.PI-2*Math.PI*n/Math.pow(2,e);return 180/Math.PI*Math.atan(.5*(Math.exp(t)-Math.exp(-t)))}function V(n,e){var t=ys(n);return[e.clientX-t.x,e.clientY-t.y]}function ea(n){return n*(2-n)}var tt=[we(Math.pow(2,10),10),we(0,10),xe(0,10),xe(Math.pow(2,10),10)],sn=typeof window<"u",q=sn&&window.performance&&window.performance.now?function(){return window.performance.now()}:function(){var n=new Date().getTime();return function(){return new Date().getTime()-n}}(),jt=function(e){return sn?(window.requestAnimationFrame||window.setTimeout)(e):(e(new Date().getTime()),null)},An=function(e){return sn&&e?(window.cancelAnimationFrame||window.clearTimeout)(e):!1};function Dn(n,e,t,i,r){return!n||n.length===0?"":n.map(function(a){return e(t,i,r,a)+(a===1?"":" "+a+"x")}).join(", ")}var ta=function(e){var t=e.tile,i=e.tileLoaded;return F.createElement("img",{src:t.url,srcSet:t.srcSet,width:t.width,height:t.height,loading:"lazy",onLoad:i,alt:"",style:{position:"absolute",left:t.left,top:t.top,willChange:"transform",transformOrigin:"top left",opacity:1}})},bs=function(n){Qr(e,n);function e(i){var r,a,o,u,c,h,d,g,s;return s=n.call(this,i)||this,O(E(s),"_containerRef",void 0),O(E(s),"_mousePosition",void 0),O(E(s),"_loadTracker",void 0),O(E(s),"_dragStart",null),O(E(s),"_mouseDown",!1),O(E(s),"_moveEvents",[]),O(E(s),"_lastClick",null),O(E(s),"_lastTap",null),O(E(s),"_lastWheel",null),O(E(s),"_touchStartPixel",null),O(E(s),"_touchStartMidPoint",null),O(E(s),"_touchStartDistance",null),O(E(s),"_secondTouchEnd",null),O(E(s),"_warningClearTimeout",null),O(E(s),"_isAnimating",!1),O(E(s),"_animationStart",null),O(E(s),"_animationEnd",null),O(E(s),"_zoomStart",null),O(E(s),"_centerTarget",null),O(E(s),"_zoomTarget",null),O(E(s),"_zoomAround",null),O(E(s),"_animFrame",null),O(E(s),"_boundsSynced",!1),O(E(s),"_minMaxCache",null),O(E(s),"_lastZoom",void 0),O(E(s),"_lastCenter",void 0),O(E(s),"_centerStart",void 0),O(E(s),"_resizeObserver",null),O(E(s),"updateWidthHeight",function(){if(s._containerRef){var l=s._containerRef.getBoundingClientRect();if(l&&l.width>0&&l.height>0)return s.setState({width:l.width,height:l.height}),!0}return!1}),O(E(s),"wa",function(){var l;return(l=window).addEventListener.apply(l,arguments)}),O(E(s),"wr",function(){var l;return(l=window).removeEventListener.apply(l,arguments)}),O(E(s),"bindMouseEvents",function(){s.wa("mousedown",s.handleMouseDown),s.wa("mouseup",s.handleMouseUp),s.wa("mousemove",s.handleMouseMove)}),O(E(s),"bindTouchEvents",function(){s.wa("touchstart",s.handleTouchStart,{passive:!1}),s.wa("touchmove",s.handleTouchMove,{passive:!1}),s.wa("touchend",s.handleTouchEnd,{passive:!1})}),O(E(s),"unbindMouseEvents",function(){s.wr("mousedown",s.handleMouseDown),s.wr("mouseup",s.handleMouseUp),s.wr("mousemove",s.handleMouseMove)}),O(E(s),"unbindTouchEvents",function(){s.wr("touchstart",s.handleTouchStart),s.wr("touchmove",s.handleTouchMove),s.wr("touchend",s.handleTouchEnd)}),O(E(s),"bindResizeEvent",function(){s.wa("resize",s.updateWidthHeight)}),O(E(s),"unbindResizeEvent",function(){s.wr("resize",s.updateWidthHeight)}),O(E(s),"bindWheelEvent",function(){s._containerRef&&s._containerRef.addEventListener("wheel",s.handleWheel,{passive:!1})}),O(E(s),"unbindWheelEvent",function(){s._containerRef&&s._containerRef.removeEventListener("wheel",s.handleWheel)}),O(E(s),"setCenterZoomTarget",function(l,f,m,v,y){if(m===void 0&&(m=!1),v===void 0&&(v=null),y===void 0&&(y=kn),s.props.animate&&(!m||s.distanceInScreens(l,f,s.state.center,s.state.zoom)<=s.props.animateMaxScreens)){if(s._isAnimating){An(s._animFrame);var b=s.animationStep(q()),S=b.centerStep,w=b.zoomStep;s._centerStart=S,s._zoomStart=w}else s._isAnimating=!0,s._centerStart=s.limitCenterAtZoom([s._lastCenter[0],s._lastCenter[1]],s._lastZoom),s._zoomStart=s._lastZoom,s.onAnimationStart();s._animationStart=q(),s._animationEnd=s._animationStart+y,v?(s._zoomAround=v,s._centerTarget=s.calculateZoomCenter(s._lastCenter,v,s._lastZoom,f)):(s._zoomAround=null,s._centerTarget=l),s._zoomTarget=f,s._animFrame=jt(s.animate)}else if(s.stopAnimating(),v){var x=s.calculateZoomCenter(s._lastCenter,v,s._lastZoom,f);s.setCenterZoom(x,f,m)}else s.setCenterZoom(l||s.state.center,f,m)}),O(E(s),"setCenterZoomForChildren",function(l,f){s.setCenterZoomTarget(l||s.state.center,f||s.state.zoom,!0)}),O(E(s),"distanceInScreens",function(l,f,m,v){var y=s.state,b=y.width,S=y.height,w=s.latLngToPixel(m,m,v),x=s.latLngToPixel(l,m,v),R=s.latLngToPixel(m,m,f),P=s.latLngToPixel(l,m,f),M=(Math.abs(w[0]-x[0])+Math.abs(R[0]-P[0]))/2/b,A=(Math.abs(w[1]-x[1])+Math.abs(R[1]-P[1]))/2/S;return Math.sqrt(M*M+A*A)}),O(E(s),"animationStep",function(l){if(!s._animationEnd||!s._animationStart||!s._zoomTarget||!s._zoomStart||!s._centerStart||!s._centerTarget)return{centerStep:s.state.center,zoomStep:s.state.zoom};var f=s._animationEnd-s._animationStart,m=Math.max(l-s._animationStart,0),v=ea(m/f),y=(s._zoomTarget-s._zoomStart)*v,b=s._zoomStart+y;if(s._zoomAround){var S=s.calculateZoomCenter(s._centerStart,s._zoomAround,s._zoomStart,b);return{centerStep:S,zoomStep:b}}else{var w=[s._centerStart[0]+(s._centerTarget[0]-s._centerStart[0])*v,s._centerStart[1]+(s._centerTarget[1]-s._centerStart[1])*v];return{centerStep:w,zoomStep:b}}}),O(E(s),"animate",function(l){if(!s._animationEnd||l>=s._animationEnd)s._isAnimating=!1,s.setCenterZoom(s._centerTarget,s._zoomTarget,!0),s.onAnimationStop();else{var f=s.animationStep(l),m=f.centerStep,v=f.zoomStep;s.setCenterZoom(m,v),s._animFrame=jt(s.animate)}}),O(E(s),"stopAnimating",function(){s._isAnimating&&(s._isAnimating=!1,s.onAnimationStop(),An(s._animFrame))}),O(E(s),"limitCenterAtZoom",function(l,f){var m=s.getBoundsMinMax(f||s.state.zoom);return[Math.max(Math.min(!l||isNaN(l[0])?s.state.center[0]:l[0],m[1]),m[0]),Math.max(Math.min(!l||isNaN(l[1])?s.state.center[1]:l[1],m[3]),m[2])]}),O(E(s),"onAnimationStart",function(){s.props.onAnimationStart&&s.props.onAnimationStart()}),O(E(s),"onAnimationStop",function(){s.props.onAnimationStop&&s.props.onAnimationStop()}),O(E(s),"setCenterZoom",function(l,f,m){m===void 0&&(m=!1);var v=s.limitCenterAtZoom(l,f);if(f&&Math.round(s.state.zoom)!==Math.round(f)){var y=s.tileValues(s.state),b=s.tileValues({center:v,zoom:f,width:s.state.width,height:s.state.height}),S=s.state.oldTiles;s.setState({oldTiles:S.filter(function(N){return N.roundedZoom!==y.roundedZoom}).concat(y)},ue);for(var w={},x=b.tileMinX;x<=b.tileMaxX;x++)for(var R=b.tileMinY;R<=b.tileMaxY;R++){var P=x+"-"+R+"-"+b.roundedZoom;w[P]=!1}s._loadTracker=w}s.setState({center:v,zoom:f||s.state.zoom},ue);var M=s.props.zoom?s.props.zoom:s._lastZoom,A=s.props.center?s.props.center:s._lastCenter;f&&(m||Math.abs(M-f)>.001||Math.abs(A[0]-v[0])>1e-5||Math.abs(A[1]-v[1])>1e-5)&&(s._lastZoom=f,s._lastCenter=[].concat(v),s.syncToProps(v,f))}),O(E(s),"getBoundsMinMax",function(l){if(s.props.limitBounds==="center")return tt;var f=s.state,m=f.width,v=f.height;if(s._minMaxCache&&s._minMaxCache[0]===l&&s._minMaxCache[1]===m&&s._minMaxCache[2]===v)return s._minMaxCache[3];var y=Math.pow(2,l)*256,b=m>y?0:xe(m/512,l),S=v>y?0:we(Math.pow(2,l)-v/512,l),w=m>y?0:xe(Math.pow(2,l)-m/512,l),x=v>y?0:we(v/512,l),R=[S,x,b,w];return s._minMaxCache=[l,m,v,R],R}),O(E(s),"tileLoaded",function(l){if(s._loadTracker&&l in s._loadTracker){s._loadTracker[l]=!0;var f=Object.values(s._loadTracker).filter(function(m){return!m}).length;f===0&&s.setState({oldTiles:[]},ue)}}),O(E(s),"handleTouchStart",function(l){if(s._containerRef&&!(l.target&&vt(l.target,"pigeon-drag-block"))){if(l.touches.length===1){var f=l.touches[0],m=V(s._containerRef,f);if(s.coordsInside(m)&&(s._touchStartPixel=[m],!s.props.twoFingerDrag))if(s.stopAnimating(),s._lastTap&&q()-s._lastTap<jn){l.preventDefault();var v=s.pixelToLatLng(s._touchStartPixel[0]);s.setCenterZoomTarget(null,Math.max(s.props.minZoom,Math.min(s.state.zoom+1,s.props.maxZoom)),!1,v)}else s._lastTap=q(),s.trackMoveEvents(m)}else if(l.touches.length===2&&s._touchStartPixel){l.preventDefault(),s.stopTrackingMoveEvents(),(s.state.pixelDelta||s.state.zoomDelta)&&s.sendDeltaChange();var y=V(s._containerRef,l.touches[0]),b=V(s._containerRef,l.touches[1]);s._touchStartPixel=[y,b],s._touchStartMidPoint=[(y[0]+b[0])/2,(y[1]+b[1])/2],s._touchStartDistance=Math.sqrt(Math.pow(y[0]-b[0],2)+Math.pow(y[1]-b[1],2))}}}),O(E(s),"handleTouchMove",function(l){if(!s._containerRef){s._touchStartPixel=null;return}if(l.touches.length===1&&s._touchStartPixel){var f=l.touches[0],m=V(s._containerRef,f);s.props.twoFingerDrag?s.coordsInside(m)&&s.showWarning("fingers"):(l.preventDefault(),s.trackMoveEvents(m),s.setState({pixelDelta:[m[0]-s._touchStartPixel[0][0],m[1]-s._touchStartPixel[0][1]]},ue))}else if(l.touches.length===2&&s._touchStartPixel&&s._touchStartMidPoint&&s._touchStartDistance){var v=s.state,y=v.width,b=v.height,S=v.zoom;l.preventDefault();var w=V(s._containerRef,l.touches[0]),x=V(s._containerRef,l.touches[1]),R=[(w[0]+x[0])/2,(w[1]+x[1])/2],P=[R[0]-s._touchStartMidPoint[0],R[1]-s._touchStartMidPoint[1]],M=Math.sqrt(Math.pow(w[0]-x[0],2)+Math.pow(w[1]-x[1],2)),A=Math.max(s.props.minZoom,Math.min(s.props.maxZoom,S+Math.log2(M/s._touchStartDistance)))-S,N=Math.pow(2,A),W=[(y/2-R[0])*(N-1),(b/2-R[1])*(N-1)];s.setState({zoomDelta:A,pixelDelta:[W[0]+P[0]*N,W[1]+P[1]*N]},ue)}}),O(E(s),"handleTouchEnd",function(l){if(!s._containerRef){s._touchStartPixel=null;return}if(s._touchStartPixel){var f=s.props,m=f.zoomSnap,v=f.twoFingerDrag,y=f.minZoom,b=f.maxZoom,S=s.state.zoomDelta,w=s.sendDeltaChange(),x=w.center,R=w.zoom;if(l.touches.length===0)if(v)s.clearWarning();else{var P=s._touchStartPixel[0],M=V(s._containerRef,l.changedTouches[0]);(Math.abs(P[0]-M[0])>kt||Math.abs(P[1]-M[1])>kt)&&(!s._secondTouchEnd||q()-s._secondTouchEnd>Gr)&&(l.preventDefault(),s.throwAfterMoving(M,x,R)),s._touchStartPixel=null,s._secondTouchEnd=null}else if(l.touches.length===1){l.preventDefault();var A=V(s._containerRef,l.touches[0]);if(s._secondTouchEnd=q(),s._touchStartPixel=[A],s.trackMoveEvents(A),m){var N=s._touchStartMidPoint?s.pixelToLatLng(s._touchStartMidPoint):s.state.center,W;v&&Math.round(s.state.zoom)===Math.round(s.state.zoom+S)?W=Math.round(s.state.zoom):W=S>0?Math.ceil(s.state.zoom):Math.floor(s.state.zoom);var Le=Math.max(y,Math.min(W,b));s.setCenterZoomTarget(N,Le,!1,N)}}}}),O(E(s),"handleMouseDown",function(l){if(s._containerRef){var f=V(s._containerRef,l);if(l.button===0&&(!l.target||!vt(l.target,"pigeon-drag-block"))&&s.coordsInside(f))if(s.stopAnimating(),l.preventDefault(),s._lastClick&&q()-s._lastClick<jn){if(!vt(l.target,"pigeon-click-block")){var m=s.pixelToLatLng(s._mousePosition||f);s.setCenterZoomTarget(null,Math.max(s.props.minZoom,Math.min(s.state.zoom+1,s.props.maxZoom)),!1,m)}}else s._lastClick=q(),s._mouseDown=!0,s._dragStart=f,s.trackMoveEvents(f)}}),O(E(s),"handleMouseMove",function(l){s._containerRef&&(s._mousePosition=V(s._containerRef,l),s._mouseDown&&s._dragStart&&(s.trackMoveEvents(s._mousePosition),s.setState({pixelDelta:[s._mousePosition[0]-s._dragStart[0],s._mousePosition[1]-s._dragStart[1]]},ue)))}),O(E(s),"handleMouseUp",function(l){if(!s._containerRef){s._mouseDown=!1;return}var f=s.state.pixelDelta;if(s._mouseDown){s._mouseDown=!1;var m=V(s._containerRef,l);if(s.props.onClick&&(!l.target||!vt(l.target,"pigeon-click-block"))&&(!f||Math.abs(f[0])+Math.abs(f[1])<=kt)){var v=s.pixelToLatLng(m);s.props.onClick({event:l,latLng:v,pixel:m}),s.setState({pixelDelta:void 0},ue)}else{var y=s.sendDeltaChange(),b=y.center,S=y.zoom;s.throwAfterMoving(m,b,S)}}}),O(E(s),"stopTrackingMoveEvents",function(){s._moveEvents=[]}),O(E(s),"trackMoveEvents",function(l){var f=q();(s._moveEvents.length===0||f-s._moveEvents[s._moveEvents.length-1].timestamp>40)&&(s._moveEvents.push({timestamp:f,coords:l}),s._moveEvents.length>2&&s._moveEvents.shift())}),O(E(s),"throwAfterMoving",function(l,f,m){var v=s.state,y=v.width,b=v.height,S=s.props.animate,w=q(),x=s._moveEvents.shift();if(x&&S){var R=Math.max(w-x.timestamp,1),P=[(l[0]-x.coords[0])/R*120,(l[1]-x.coords[1])/R*120],M=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(M>Yr){var A=Math.sqrt(y*y+b*b),N=Vr*M/A,W=xe(De(f[1],m)-P[0]/256,m),Le=we(Ne(f[0],m)-P[1]/256,m);s.setCenterZoomTarget([Le,W],m,!1,null,N)}}s.stopTrackingMoveEvents()}),O(E(s),"sendDeltaChange",function(){var l=s.state,f=l.center,m=l.zoom,v=l.pixelDelta,y=l.zoomDelta,b=f[0],S=f[1];return(v||y!==0)&&(S=xe(De(f[1],m+y)-(v?v[0]/256:0),m+y),b=we(Ne(f[0],m+y)-(v?v[1]/256:0),m+y),s.setCenterZoom([b,S],m+y)),s.setState({pixelDelta:void 0,zoomDelta:0},ue),{center:s.limitCenterAtZoom([b,S],m+y),zoom:m+y}}),O(E(s),"getBounds",function(l,f){l===void 0&&(l=s.state.center),f===void 0&&(f=s.zoomPlusDelta());var m=s.state,v=m.width,y=m.height;return{ne:s.pixelToLatLng([v-1,0],l,f),sw:s.pixelToLatLng([0,y-1],l,f)}}),O(E(s),"syncToProps",function(l,f){l===void 0&&(l=s.state.center),f===void 0&&(f=s.state.zoom);var m=s.props.onBoundsChanged;if(m){var v=s.getBounds(l,f);m({center:l,zoom:f,bounds:v,initial:!s._boundsSynced}),s._boundsSynced=!0}}),O(E(s),"handleWheel",function(l){var f=s.props,m=f.mouseEvents,v=f.metaWheelZoom,y=f.zoomSnap,b=f.animate;if(m)if(!v||l.metaKey||l.ctrlKey){l.preventDefault();var S=-l.deltaY/qr;if(!y&&s._zoomTarget){var w=s._zoomTarget-s.state.zoom;s.zoomAroundMouse(S+w,l)}else b?s.zoomAroundMouse(S,l):(!s._lastWheel||q()-s._lastWheel>kn)&&(s._lastWheel=q(),s.zoomAroundMouse(S,l))}else s.showWarning("wheel")}),O(E(s),"showWarning",function(l){(!s.state.showWarning||s.state.warningType!==l)&&s.setState({showWarning:!0,warningType:l}),s._warningClearTimeout&&window.clearTimeout(s._warningClearTimeout),s._warningClearTimeout=window.setTimeout(s.clearWarning,Xr)}),O(E(s),"clearWarning",function(){s.state.showWarning&&s.setState({showWarning:!1})}),O(E(s),"zoomAroundMouse",function(l,f){if(s._containerRef){var m=s.state.zoom,v=s.props,y=v.minZoom,b=v.maxZoom,S=v.zoomSnap;if(s._mousePosition=V(s._containerRef,f),!(!s._mousePosition||m===y&&l<0||m===b&&l>0)){var w=s.pixelToLatLng(s._mousePosition),x=m+l;S&&(x=l<0?Math.floor(x):Math.ceil(x)),x=Math.max(y,Math.min(x,b)),s.setCenterZoomTarget(null,x,!1,w)}}}),O(E(s),"zoomPlusDelta",function(){return s.state.zoom+s.state.zoomDelta}),O(E(s),"pixelToLatLng",function(l,f,m){f===void 0&&(f=s.state.center),m===void 0&&(m=s.zoomPlusDelta());var v=s.state,y=v.width,b=v.height,S=v.pixelDelta,w=[(l[0]-y/2-(S?S[0]:0))/256,(l[1]-b/2-(S?S[1]:0))/256],x=De(f[1],m)+w[0],R=Ne(f[0],m)+w[1];return[Math.max(tt[0],Math.min(tt[1],we(R,m))),Math.max(tt[2],Math.min(tt[3],xe(x,m)))]}),O(E(s),"latLngToPixel",function(l,f,m){f===void 0&&(f=s.state.center),m===void 0&&(m=s.zoomPlusDelta());var v=s.state,y=v.width,b=v.height,S=v.pixelDelta,w=De(f[1],m),x=Ne(f[0],m),R=De(l[1],m),P=Ne(l[0],m);return[(R-w)*256+y/2+(S?S[0]:0),(P-x)*256+b/2+(S?S[1]:0)]}),O(E(s),"calculateZoomCenter",function(l,f,m,v){var y=s.state,b=y.width,S=y.height,w=s.latLngToPixel(f,l,m),x=s.latLngToPixel(f,l,v),R=s.pixelToLatLng([b/2+x[0]-w[0],S/2+x[1]-w[1]],l,v);return s.limitCenterAtZoom(R,v)}),O(E(s),"setRef",function(l){s._containerRef=l}),s.syncToProps=Br(s.syncToProps,Jr),s._lastZoom=(r=(a=i.defaultZoom)!==null&&a!==void 0?a:i.zoom)!==null&&r!==void 0?r:14,s._lastCenter=(o=(u=i.defaultCenter)!==null&&u!==void 0?u:i.center)!==null&&o!==void 0?o:[0,0],s.state={zoom:s._lastZoom,center:s._lastCenter,width:(c=(h=i.width)!==null&&h!==void 0?h:i.defaultWidth)!==null&&c!==void 0?c:-1,height:(d=(g=i.height)!==null&&g!==void 0?g:i.defaultHeight)!==null&&d!==void 0?d:-1,zoomDelta:0,pixelDelta:void 0,oldTiles:[],showWarning:!1,warningType:void 0},s}var t=e.prototype;return t.componentDidMount=function(){var r=this;this.props.mouseEvents&&this.bindMouseEvents(),this.props.touchEvents&&this.bindTouchEvents(),(!this.props.width||!this.props.height)&&(this.updateWidthHeight()||jt(this.updateWidthHeight),this.bindResizeEvent()),this.bindWheelEvent(),this.syncToProps(),typeof window.ResizeObserver<"u"&&(this._resizeObserver=new window.ResizeObserver(function(){r.updateWidthHeight()}),this._resizeObserver.observe(this._containerRef))},t.componentWillUnmount=function(){this.props.mouseEvents&&this.unbindMouseEvents(),this.props.touchEvents&&this.unbindTouchEvents(),this.unbindWheelEvent(),(!this.props.width||!this.props.height)&&this.unbindResizeEvent(),this._resizeObserver&&this._resizeObserver.disconnect()},t.componentDidUpdate=function(r){var a;if(this.props.mouseEvents!==r.mouseEvents&&(this.props.mouseEvents?this.bindMouseEvents():this.unbindMouseEvents()),this.props.touchEvents!==r.touchEvents&&(this.props.touchEvents?this.bindTouchEvents():this.unbindTouchEvents()),this.props.width&&this.props.width!==r.width&&this.setState({width:this.props.width}),this.props.height&&this.props.height!==r.height&&this.setState({height:this.props.height}),!(!this.props.center&&!this.props.zoom)&&!((!this.props.center||this.props.center[0]===(r==null||(a=r.center)===null||a===void 0?void 0:a[0])&&this.props.center[1]===r.center[1])&&this.props.zoom===r.zoom)){var o=this._isAnimating?this._centerTarget:this.state.center,u=this._isAnimating?this._zoomTarget:this.state.zoom;if(o&&u){var c,h,d=(c=this.props.center)!==null&&c!==void 0?c:o,g=(h=this.props.zoom)!==null&&h!==void 0?h:u;(Math.abs(g-u)>.001||Math.abs(d[0]-o[0])>1e-4||Math.abs(d[1]-o[1])>1e-4)&&this.setCenterZoomTarget(d,g,!0)}}},t.coordsInside=function(r){var a=this.state,o=a.width,u=a.height;if(r[0]<0||r[1]<0||r[0]>=o||r[1]>=u)return!1;var c=this._containerRef;if(c){var h=ys(c),d=document.elementFromPoint(r[0]+h.x,r[1]+h.y);return c===d||c.contains(d)}else return!1},t.tileValues=function(r){var a=r.center,o=r.zoom,u=r.pixelDelta,c=r.zoomDelta,h=r.width,d=r.height,g=Math.round(o+(c||0)),s=o+(c||0)-g,l=Math.pow(2,s),f=h/l,m=d/l,v=De(a[1],g)-(u?u[0]/256/l:0),y=Ne(a[0],g)-(u?u[1]/256/l:0),b=f/2/256,S=m/2/256,w=Math.floor(v-b),x=Math.floor(v+b),R=Math.floor(y-S),P=Math.floor(y+S);return{tileMinX:w,tileMaxX:x,tileMinY:R,tileMaxY:P,tileCenterX:v,tileCenterY:y,roundedZoom:g,zoomDelta:c||0,scaleWidth:f,scaleHeight:m,scale:l}},t.renderTiles=function(){for(var r=this,a=this.state,o=a.oldTiles,u=a.width,c=a.height,h=this.props.dprs,d=this.props.provider||Hr,g=this.tileValues(this.state),s=g.tileMinX,l=g.tileMaxX,f=g.tileMinY,m=g.tileMaxY,v=g.tileCenterX,y=g.tileCenterY,b=g.roundedZoom,S=g.scaleWidth,w=g.scaleHeight,x=g.scale,R=[],P=0;P<o.length;P++){var M=o[P],A=M.roundedZoom-b;if(!(Math.abs(A)>4||A===0))for(var N=1/Math.pow(2,A),W=-(s-M.tileMinX*N)*256,Le=-(f-M.tileMinY*N)*256,Et=Math.max(M.tileMinX,0),me=Math.max(M.tileMinY,0),ve=Math.min(M.tileMaxX,Math.pow(2,M.roundedZoom)-1),_e=Math.min(M.tileMaxY,Math.pow(2,M.roundedZoom)-1),re=Et;re<=ve;re++)for(var $=me;$<=_e;$++)R.push({key:re+"-"+$+"-"+M.roundedZoom,url:d(re,$,M.roundedZoom),srcSet:Dn(h,d,re,$,M.roundedZoom),left:W+(re-M.tileMinX)*256*N,top:Le+($-M.tileMinY)*256*N,width:256*N,height:256*N,active:!1})}for(var ae=Math.max(s,0),ye=Math.max(f,0),ft=Math.min(l,Math.pow(2,b)-1),xs=Math.min(m,Math.pow(2,b)-1),Te=ae;Te<=ft;Te++)for(var ke=ye;ke<=xs;ke++)R.push({key:Te+"-"+ke+"-"+b,url:d(Te,ke,b),srcSet:Dn(h,d,Te,ke,b),left:(Te-s)*256,top:(ke-f)*256,width:256,height:256,active:!0});var ws={width:S,height:w,position:"absolute",top:"calc((100% - "+c+"px) / 2)",left:"calc((100% - "+u+"px) / 2)",overflow:"hidden",willChange:"transform",transform:"scale("+x+", "+x+")",transformOrigin:"top left"},Ss=this.props.boxClassname||"pigeon-tiles-box",Cs=-((v-s)*256-S/2),Os=-((y-f)*256-w/2),Ms={position:"absolute",width:(l-s+1)*256,height:(m-f+1)*256,willChange:"transform",transform:"translate("+Cs+"px, "+Os+"px)"},Es=this.props.tileComponent;return F.createElement("div",{style:ws,className:Ss},F.createElement("div",{className:"pigeon-tiles",style:Ms},R.map(function(Rt){return F.createElement(Es,{key:Rt.key,tile:Rt,tileLoaded:function(){return r.tileLoaded(Rt.key)}})})))},t.renderOverlays=function(){var r=this,a=this.state,o=a.width,u=a.height,c=a.center,h={bounds:this.getBounds(),zoom:this.zoomPlusDelta(),center:c,width:o,height:u},d=F.Children.map(this.props.children,function(s){if(!s)return null;if(!F.isValidElement(s))return s;var l=s.props,f=l.anchor,m=l.position,v=l.offset,y=r.latLngToPixel(f||m||c);return F.cloneElement(s,{left:y[0]-(v?v[0]:0),top:y[1]-(v?v[1]:0),latLngToPixel:r.latLngToPixel,pixelToLatLng:r.pixelToLatLng,setCenterZoom:r.setCenterZoomForChildren,mapProps:r.props,mapState:h})}),g={position:"absolute",width:o,height:u,top:"calc((100% - "+u+"px) / 2)",left:"calc((100% - "+o+"px) / 2)"};return F.createElement("div",{className:"pigeon-overlays",style:g},d)},t.renderAttribution=function(){var r=this.props,a=r.attribution,o=r.attributionPrefix;if(a===!1)return null;var u={position:"absolute",bottom:0,right:0,fontSize:"11px",padding:"2px 5px",background:"rgba(255, 255, 255, 0.7)",fontFamily:"'Helvetica Neue', Helvetica, Arial, sans-serif",color:"#333"},c={color:"#0078A8",textDecoration:"none"};return F.createElement("div",{key:"attr",className:"pigeon-attribution",style:u},o===!1?null:F.createElement("span",null,o||F.createElement("a",{href:"https://pigeon-maps.js.org/",style:c,target:"_blank",rel:"noreferrer noopener"},"Pigeon")," | "),a||F.createElement("span",null," © ",F.createElement("a",{href:"https://www.openstreetmap.org/copyright",style:c,target:"_blank",rel:"noreferrer noopener"},"OpenStreetMap")," contributors"))},t.renderWarning=function(){var r=this.props,a=r.metaWheelZoom,o=r.metaWheelZoomWarning,u=r.twoFingerDrag,c=r.twoFingerDragWarning,h=r.warningZIndex,d=this.state,g=d.showWarning,s=d.warningType,l=d.width,f=d.height;if(a&&o||u&&c){var m={position:"absolute",top:0,left:0,width:l,height:f,overflow:"hidden",pointerEvents:"none",opacity:g?100:0,transition:"opacity 300ms",background:"rgba(0,0,0,0.5)",color:"#fff",display:"flex",justifyContent:"center",alignItems:"center",fontSize:22,fontFamily:'"Arial", sans-serif',textAlign:"center",zIndex:h},v=typeof window<"u"&&window.navigator&&window.navigator.platform.toUpperCase().indexOf("MAC")>=0?"⌘":"ctrl",y=s==="fingers"?c:o;return F.createElement("div",{className:"pigeon-overlay-warning",style:m},y.replace("META",v))}else return null},t.render=function(){var r=this.props,a=r.touchEvents,o=r.twoFingerDrag,u=this.state,c=u.width,h=u.height,d={width:this.props.width?c:"100%",height:this.props.height?h:"100%",position:"relative",display:"inline-block",overflow:"hidden",background:"#dddddd",touchAction:a?o?"pan-x pan-y":"none":"auto"},g=!!(c&&h);return F.createElement("div",{style:d,ref:this.setRef,dir:"ltr"},g&&this.renderTiles(),g&&this.renderOverlays(),g&&this.renderAttribution(),g&&this.renderWarning())},e}(_.Component);O(bs,"defaultProps",{animate:!0,metaWheelZoom:!1,metaWheelZoomWarning:"Use META + wheel to zoom!",twoFingerDrag:!1,twoFingerDragWarning:"Use two fingers to move the map",zoomSnap:!0,mouseEvents:!0,touchEvents:!0,warningZIndex:100,animateMaxScreens:5,minZoom:1,maxZoom:18,limitBounds:"center",dprs:[],tileComponent:ta});function na(n){var e=typeof n.width<"u"?n.width:typeof n.height<"u"?n.height*29/34:29,t=typeof n.height<"u"?n.height:typeof n.width<"u"?n.width*34/29:34,i=_.useState(n.hover||!1),r=i[0],a=i[1],o=typeof n.hover>"u"?r:n.hover,u=n.color||"#93C0D0",c=function(d){return{event:d,anchor:n.anchor,payload:n.payload}};return F.createElement("div",{style:be({position:"absolute",transform:"translate("+(n.left-e/2)+"px, "+(n.top-(t-1))+"px)",filter:o?"drop-shadow(0 0 4px rgba(0, 0, 0, .3))":"",pointerEvents:"none",cursor:"pointer"},n.style||{}),className:n.className?n.className+" pigeon-click-block":"pigeon-click-block",onClick:n.onClick?function(h){return n.onClick(c(h))}:null,onContextMenu:n.onContextMenu?function(h){return n.onContextMenu(c(h))}:null,onMouseOver:function(d){n.onMouseOver&&n.onMouseOver(c(d)),a(!0)},onMouseOut:function(d){n.onMouseOut&&n.onMouseOut(c(d)),a(!1)}},n.children||F.createElement("svg",{width:e,height:t,viewBox:"0 0 61 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("g",{style:{pointerEvents:"auto"}},F.createElement("path",{d:"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z",fill:u,stroke:"white",strokeWidth:"4"}),F.createElement("circle",{cx:"30.5",cy:"30.5",r:"8.5",fill:"white",opacity:o?.98:.6}))))}var Nn={position:"absolute",top:10,left:10},yt={width:28,height:28,borderRadius:2,boxShadow:"0 1px 4px -1px rgba(0,0,0,.3)",background:"white",lineHeight:"26px",fontSize:"20px",fontWeight:700,color:"#666",marginBottom:1,cursor:"pointer",border:"none",display:"block",outline:"none"};function sa(n){var e=n.style,t=n.buttonStyle,i=n.setCenterZoom,r=n.mapState,a=n.mapProps;return F.createElement("div",{className:"pigeon-zoom-buttons pigeon-drag-block",style:e?be(be({},Nn),e):Nn},F.createElement("button",{className:"pigeon-zoom-in",type:"button",style:t?be(be({},yt),t):yt,onClick:function(){return i(r.center,Math.min(r.zoom+1,a.maxZoom))}},"+"),F.createElement("button",{className:"pigeon-zoom-out",type:"button",style:t?be(be({},yt),t):yt,onClick:function(){return i(r.center,Math.max(r.zoom-1,a.minZoom))}},"–"))}const Fn=({onLocationSelect:n,initialLocation:e})=>{const[t,i]=_.useState(e||[55.7558,37.6173]),[r,a]=_.useState(10),[o,u]=_.useState(e),c=({latLng:h})=>{u(h),n(h)};return C.jsxs(bs,{height:300,center:t,zoom:r,onBoundsChanged:({center:h,zoom:d})=>{i(h),a(d)},onClick:c,children:[o&&C.jsx(na,{width:50,anchor:o}),C.jsx(sa,{})]})},ia=({addPost:n,setCurrentPage:e})=>{const{t}=Gt(),[i,r]=_.useState(""),[a,o]=_.useState(""),[u,c]=_.useState(!1),[h,d]=_.useState(!1),[g,s]=_.useState(!1),[l,f]=_.useState(""),[m,v]=_.useState({}),y=x=>R=>{v(P=>({...P,[x]:R.target.value}))},b=x=>{if(x.preventDefault(),!i||!a){f("Пожалуйста, укажите обе точки (А и Б)");return}n({...m,pointA:i,pointB:a}),e("home")},S=x=>{s(!0),f(""),"geolocation"in navigator?navigator.geolocation.getCurrentPosition(async R=>{const{latitude:P,longitude:M}=R.coords;try{const N=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${P}&lon=${M}`)).json();x(N.display_name)}catch{f("Не удалось получить название местоположения")}finally{s(!1)}},R=>{f("Не удалось получить местоположение"),s(!1)}):(f("Геолокация не поддерживается вашим браузером"),s(!1))},w=async(x,R)=>{s(!0),f("");try{const M=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${x[0]}&lon=${x[1]}`)).json();R(M.display_name)}catch{f("Не удалось получить название местоположения")}finally{s(!1)}};return C.jsxs("form",{onSubmit:b,style:{display:"flex",flexDirection:"column",gap:"20px"},className:"max-w-[8rem] mx-auto",children:[C.jsx("input",{type:"text",value:m.name||"",defaultValue:"",onChange:y("name"),placeholder:t("Route name"),style:{padding:"10px",borderRadius:"5px",border:"1px solid #dbdbdb"},required:!0}),C.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:[t("Select time from A to B"),":"]}),C.jsx("div",{className:"relative",children:C.jsx("input",{type:"time",id:"timeA",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"09:00",max:"18:00",defaultValue:"00:00",value:m.hourA||"00:00",onChange:y("hourA"),required:!0})}),C.jsxs("label",{htmlFor:"time",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:[t("Select time from B to A"),":"]}),C.jsx("div",{className:"relative",children:C.jsx("input",{type:"time",id:"timeB",className:"bg-gray-50 border leading-none border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",min:"09:00",max:"18:00",defaultValue:"00:00",value:m.hourB||"00:00",onChange:y("hourB"),required:!0})}),C.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[C.jsxs("div",{style:{display:"flex",gap:"10px"},children:[C.jsx("input",{type:"text",value:i,onChange:x=>r(x.target.value),placeholder:"Точка А",style:{flex:1,padding:"10px",borderRadius:"5px",border:"1px solid #dbdbdb"}}),C.jsx("button",{type:"button",onClick:()=>S(r),style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},disabled:g,children:g?"Загрузка...":"📍"}),C.jsx("button",{type:"button",onClick:()=>c(!u),style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"🗺️"})]}),u&&C.jsx(Fn,{onLocationSelect:x=>w(x,r)}),C.jsxs("div",{style:{display:"flex",gap:"10px"},children:[C.jsx("input",{type:"text",value:a,onChange:x=>o(x.target.value),placeholder:"Точка Б",style:{flex:1,padding:"10px",borderRadius:"5px",border:"1px solid #dbdbdb"}}),C.jsx("button",{type:"button",onClick:()=>S(o),style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},disabled:g,children:g?"Загрузка...":"📍"}),C.jsx("button",{type:"button",onClick:()=>d(!h),style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"🗺️"})]}),h&&C.jsx(Fn,{onLocationSelect:x=>w(x,o)})]}),l&&C.jsx("p",{style:{color:"red"},children:l}),C.jsx("button",{type:"submit",style:{padding:"10px",backgroundColor:"#0095f6",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Опубликовать"})]})},ra={en:{translation:{welcome:"Welcome to routeCab app!",changeLanguage:"Change language",currentLanguage:"Current language",loading:"Loading"}},es:{translation:{welcome:"¡Bienvenido a nuestra routeCab!",changeLanguage:"Cambiar idioma",currentLanguage:"Idioma actual"}},fr:{translation:{welcome:"Bienvenue dans notre routeCab!",changeLanguage:"Changer de langue",currentLanguage:"Langue actuelle"}},ru:{translation:{welcome:"Добро пожаловать",changeLanguage:"Изменить язык",currentLanguage:"Текущий язык",loading:"Загрузка"}}},aa=_.lazy(()=>Ns(()=>import("./PostDetail-DCeNaQQw.js"),__vite__mapDeps([0,1,2,3]))),oa=is.get("lang");z.use(Si).init({resources:ra,lng:oa,fallbackLng:"en",interpolation:{escapeValue:!1}});const ua=()=>{const[n,e]=_.useState("home"),[t,i]=_.useState(null),{data:r}=Gn();Gt();const{data:a}=Zr(At);if(r.successMessage)return null;const o=h=>{nn(At,{data:h})},u=h=>{i(h),e("postDetail")},c=()=>{switch(n){case"home":return C.jsxs(C.Fragment,{children:[C.jsx(et,{title:"Route cab",setCurrentPage:e}),C.jsx(sr,{data:a,onClick:u})]});case"newPost":return C.jsxs(C.Fragment,{children:[C.jsx(et,{title:"Create new route",setCurrentPage:e}),C.jsx(ia,{addPost:o,setCurrentPage:e})]});case"profile":return C.jsxs(C.Fragment,{children:[C.jsx(et,{title:"Profile",setCurrentPage:e}),C.jsx(er,{})]});case"settings":return C.jsxs(C.Fragment,{children:[C.jsx(et,{title:"Settings",setCurrentPage:e}),C.jsx(Gi,{setCurrentPage:e})]});case"postDetail":return C.jsxs(C.Fragment,{children:[C.jsx(et,{title:`Route ${(t==null?void 0:t.name)||"Noname"}`,setCurrentPage:e}),C.jsx(_.Suspense,{fallback:C.jsx(Fs,{}),children:C.jsx(aa,{post:t,setCurrentPage:e})})]});default:return null}};return C.jsxs("div",{style:{backgroundColor:"#fafafa",minHeight:"100vh"},children:[C.jsx("main",{style:{maxWidth:"975px",margin:"0 auto",padding:"80px 20px 60px"},children:c()}),C.jsx(Xi,{setCurrentPage:e})]})},la=new Er,ca=()=>C.jsx(_r,{client:la,children:C.jsx(ua,{})}),pa=Object.freeze(Object.defineProperty({__proto__:null,default:ca},Symbol.toStringTag,{value:"Module"}));export{pa as A,bs as M,sa as Z,na as a,nn as f};
